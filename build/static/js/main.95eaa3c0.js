/*! For license information please see main.95eaa3c0.js.LICENSE.txt */
!function(){var e={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},9181:function(e){e.exports={apiKey:"AIzaSyB_ksdA_VEQVCkefij7ihrvkoyPj-VEz3I",authDomain:"reels-2022-d5ad9.firebaseapp.com",projectId:"reels-2022-d5ad9",storageBucket:"reels-2022-d5ad9.appspot.com",messagingSenderId:"204501472137",appId:"1:204501472137:web:f74139e6b98fb757480758",measurementId:"G-DGH0G4HYYD"}},76:function(e,t,n){"use strict";n.d(t,{Z:function(){return ie}});var r=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),i=Math.abs,a=String.fromCharCode,o=Object.assign;function u(e){return e.trim()}function s(e,t,n){return e.replace(t,n)}function c(e,t){return e.indexOf(t)}function l(e,t){return 0|e.charCodeAt(t)}function f(e,t,n){return e.slice(t,n)}function d(e){return e.length}function h(e){return e.length}function p(e,t){return t.push(e),e}var v=1,m=1,g=0,y=0,b=0,k="";function w(e,t,n,r,i,a,o){return{value:e,root:t,parent:n,type:r,props:i,children:a,line:v,column:m,length:o,return:""}}function x(e,t){return o(w("",null,null,"",null,null,0),e,{length:-e.length},t)}function _(){return b=y>0?l(k,--y):0,m--,10===b&&(m=1,v--),b}function S(){return b=y<g?l(k,y++):0,m++,10===b&&(m=1,v++),b}function I(){return l(k,y)}function E(){return y}function T(e,t){return f(k,e,t)}function C(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function N(e){return v=m=1,g=d(k=e),y=0,[]}function R(e){return k="",e}function A(e){return u(T(y-1,D(91===e?e+2:40===e?e+1:e)))}function P(e){for(;(b=I())&&b<33;)S();return C(e)>2||C(b)>3?"":" "}function O(e,t){for(;--t&&S()&&!(b<48||b>102||b>57&&b<65||b>70&&b<97););return T(e,E()+(t<6&&32==I()&&32==S()))}function D(e){for(;S();)switch(b){case e:return y;case 34:case 39:34!==e&&39!==e&&D(b);break;case 40:41===e&&D(e);break;case 92:S()}return y}function L(e,t){for(;S()&&e+b!==57&&(e+b!==84||47!==I()););return"/*"+T(t,y-1)+"*"+a(47===e?e:S())}function M(e){for(;!C(I());)S();return T(e,y)}var j="-ms-",F="-moz-",Z="-webkit-",U="comm",V="rule",z="decl",B="@keyframes";function q(e,t){for(var n="",r=h(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function W(e,t,n,r){switch(e.type){case"@import":case z:return e.return=e.return||e.value;case U:return"";case B:return e.return=e.value+"{"+q(e.children,r)+"}";case V:e.value=e.props.join(",")}return d(n=q(e.children,r))?e.return=e.value+"{"+n+"}":""}function K(e,t){switch(function(e,t){return(((t<<2^l(e,0))<<2^l(e,1))<<2^l(e,2))<<2^l(e,3)}(e,t)){case 5103:return Z+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Z+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Z+e+F+e+j+e+e;case 6828:case 4268:return Z+e+j+e+e;case 6165:return Z+e+j+"flex-"+e+e;case 5187:return Z+e+s(e,/(\w+).+(:[^]+)/,"-webkit-box-$1$2-ms-flex-$1$2")+e;case 5443:return Z+e+j+"flex-item-"+s(e,/flex-|-self/,"")+e;case 4675:return Z+e+j+"flex-line-pack"+s(e,/align-content|flex-|-self/,"")+e;case 5548:return Z+e+j+s(e,"shrink","negative")+e;case 5292:return Z+e+j+s(e,"basis","preferred-size")+e;case 6060:return Z+"box-"+s(e,"-grow","")+Z+e+j+s(e,"grow","positive")+e;case 4554:return Z+s(e,/([^-])(transform)/g,"$1-webkit-$2")+e;case 6187:return s(s(s(e,/(zoom-|grab)/,Z+"$1"),/(image-set)/,Z+"$1"),e,"")+e;case 5495:case 3959:return s(e,/(image-set\([^]*)/,Z+"$1$`$1");case 4968:return s(s(e,/(.+:)(flex-)?(.*)/,"-webkit-box-pack:$3-ms-flex-pack:$3"),/s.+-b[^;]+/,"justify")+Z+e+e;case 4095:case 3583:case 4068:case 2532:return s(e,/(.+)-inline(.+)/,Z+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(l(e,t+1)){case 109:if(45!==l(e,t+4))break;case 102:return s(e,/(.+:)(.+)-([^]+)/,"$1-webkit-$2-$3$1"+F+(108==l(e,t+3)?"$3":"$2-$3"))+e;case 115:return~c(e,"stretch")?K(s(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==l(e,t+1))break;case 6444:switch(l(e,d(e)-3-(~c(e,"!important")&&10))){case 107:return s(e,":",":"+Z)+e;case 101:return s(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Z+(45===l(e,14)?"inline-":"")+"box$3$1"+Z+"$2$3$1"+j+"$2box$3")+e}break;case 5936:switch(l(e,t+11)){case 114:return Z+e+j+s(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Z+e+j+s(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Z+e+j+s(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return Z+e+j+e+e}return e}function H(e){return R(G("",null,null,null,[""],e=N(e),0,[0],e))}function G(e,t,n,r,i,o,u,l,f){for(var h=0,v=0,m=u,g=0,y=0,b=0,k=1,w=1,x=1,T=0,C="",N=i,R=o,D=r,j=C;w;)switch(b=T,T=S()){case 40:if(108!=b&&58==j.charCodeAt(m-1)){-1!=c(j+=s(A(T),"&","&\f"),"&\f")&&(x=-1);break}case 34:case 39:case 91:j+=A(T);break;case 9:case 10:case 13:case 32:j+=P(b);break;case 92:j+=O(E()-1,7);continue;case 47:switch(I()){case 42:case 47:p($(L(S(),E()),t,n),f);break;default:j+="/"}break;case 123*k:l[h++]=d(j)*x;case 125*k:case 59:case 0:switch(T){case 0:case 125:w=0;case 59+v:y>0&&d(j)-m&&p(y>32?X(j+";",r,n,m-1):X(s(j," ","")+";",r,n,m-2),f);break;case 59:j+=";";default:if(p(D=Q(j,t,n,h,v,i,l,C,N=[],R=[],m),o),123===T)if(0===v)G(j,t,D,D,N,o,m,l,R);else switch(g){case 100:case 109:case 115:G(e,D,D,r&&p(Q(e,D,D,0,0,i,l,C,i,N=[],m),R),i,R,m,l,r?N:R);break;default:G(j,D,D,D,[""],R,0,l,R)}}h=v=y=0,k=x=1,C=j="",m=u;break;case 58:m=1+d(j),y=b;default:if(k<1)if(123==T)--k;else if(125==T&&0==k++&&125==_())continue;switch(j+=a(T),T*k){case 38:x=v>0?1:(j+="\f",-1);break;case 44:l[h++]=(d(j)-1)*x,x=1;break;case 64:45===I()&&(j+=A(S())),g=I(),v=m=d(C=j+=M(E())),T++;break;case 45:45===b&&2==d(j)&&(k=0)}}return o}function Q(e,t,n,r,a,o,c,l,d,p,v){for(var m=a-1,g=0===a?o:[""],y=h(g),b=0,k=0,x=0;b<r;++b)for(var _=0,S=f(e,m+1,m=i(k=c[b])),I=e;_<y;++_)(I=u(k>0?g[_]+" "+S:s(S,/&\f/g,g[_])))&&(d[x++]=I);return w(e,t,n,0===a?V:l,d,p,v)}function $(e,t,n){return w(e,t,n,U,a(b),f(e,2,-2),0)}function X(e,t,n,r){return w(e,t,n,z,f(e,0,r),f(e,r+1,-1),r)}var Y=function(e,t,n){for(var r=0,i=0;r=i,i=I(),38===r&&12===i&&(t[n]=1),!C(i);)S();return T(e,y)},J=function(e,t){return R(function(e,t){var n=-1,r=44;do{switch(C(r)){case 0:38===r&&12===I()&&(t[n]=1),e[n]+=Y(y-1,t,n);break;case 2:e[n]+=A(r);break;case 4:if(44===r){e[++n]=58===I()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=a(r)}}while(r=S());return e}(N(e),t))},ee=new WeakMap,te=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||ee.get(n))&&!r){ee.set(e,!0);for(var i=[],a=J(t,i),o=n.props,u=0,s=0;u<a.length;u++)for(var c=0;c<o.length;c++,s++)e.props[s]=i[u]?a[u].replace(/&\f/g,o[c]):o[c]+" "+a[u]}}},ne=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}},re=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case z:e.return=K(e.value,e.length);break;case B:return q([x(e,{value:s(e.value,"@","@"+Z)})],r);case V:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return q([x(e,{props:[s(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return q([x(e,{props:[s(t,/:(plac\w+)/,":-webkit-input-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,":-moz-$1")]}),x(e,{props:[s(t,/:(plac\w+)/,j+"input-$1")]})],r)}return""}))}}],ie=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var i=e.stylisPlugins||re;var a,o,u={},s=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)u[t[n]]=!0;s.push(e)}));var c,l,f=[W,(l=function(e){c.insert(e)},function(e){e.root||(e=e.return)&&l(e)})],d=function(e){var t=h(e);return function(n,r,i,a){for(var o="",u=0;u<t;u++)o+=e[u](n,r,i,a)||"";return o}}([te,ne].concat(i,f));o=function(e,t,n,r){c=n,q(H(e?e+"{"+t.styles+"}":t.styles),d),r&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new r({key:t,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:u,registered:{},insert:o};return p.sheet.hydrate(s),p}},3782:function(e,t){"use strict";t.Z=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}},1688:function(e,t,n){"use strict";var r;n.d(t,{T:function(){return s},w:function(){return u}});var i=n(2791),a=n(76),o=(n(1346),(0,i.createContext)("undefined"!==typeof HTMLElement?(0,a.Z)({key:"css"}):null));o.Provider;var u=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(o);return e(t,r,n)}))},s=(0,i.createContext)({});(r||(r=n.t(i,2))).useInsertionEffect&&(r||(r=n.t(i,2))).useInsertionEffect},1346:function(e,t,n){"use strict";n.d(t,{O:function(){return v}});var r=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},a=n(3782),o=/[A-Z]|^ms/g,u=/_EMO_([^_]+?)_([^]*?)_EMO_/g,s=function(e){return 45===e.charCodeAt(1)},c=function(e){return null!=e&&"boolean"!==typeof e},l=(0,a.Z)((function(e){return s(e)?e:e.replace(o,"-$&").toLowerCase()})),f=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(u,(function(e,t,n){return h={name:t,styles:n,next:h},t}))}return 1===i[e]||s(e)||"number"!==typeof t||0===t?t:t+"px"};function d(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return h={name:n.name,styles:n.styles,next:h},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)h={name:r.name,styles:r.styles,next:h},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=d(e,t,n[i])+";";else for(var a in n){var o=n[a];if("object"!==typeof o)null!=t&&void 0!==t[o]?r+=a+"{"+t[o]+"}":c(o)&&(r+=l(a)+":"+f(a,o)+";");else if(!Array.isArray(o)||"string"!==typeof o[0]||null!=t&&void 0!==t[o[0]]){var u=d(e,t,o);switch(a){case"animation":case"animationName":r+=l(a)+":"+u+";";break;default:r+=a+"{"+u+"}"}}else for(var s=0;s<o.length;s++)c(o[s])&&(r+=l(a)+":"+f(a,o[s])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=h,a=n(e);return h=i,d(e,t,a)}}if(null==t)return n;var o=t[n];return void 0!==o?o:n}var h,p=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var v=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,a="";h=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,a+=d(n,t,o)):a+=o[0];for(var u=1;u<e.length;u++)a+=d(n,t,e[u]),i&&(a+=o[u]);p.lastIndex=0;for(var s,c="";null!==(s=p.exec(a));)c+="-"+s[1];return{name:r(a)+c,styles:a,next:h}}},5438:function(e,t,n){"use strict";n.d(t,{My:function(){return a},fp:function(){return r},hC:function(){return i}});function r(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}var i=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},a=function(e,t,n){i(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var a=t;do{e.insert(t===a?"."+r:"",a,e.sheet,!0);a=a.next}while(void 0!==a)}}},9823:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");t.Z=o},5403:function(e,t,n){"use strict";var r=n(5318);t.Z=void 0;var i=r(n(5649)),a=n(184),o=(0,i.default)((0,a.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");t.Z=o},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=n(4454)},7107:function(e,t,n){"use strict";n.d(t,{Z:function(){return Z}});var r=n(7462),i=n(3366),a=n(2466),o=n(5080),u=n(4942);function s(e,t){var n;return(0,r.Z)({toolbar:(n={minHeight:56},(0,u.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,u.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var c=n(6189),l=n(2065),f={black:"#000",white:"#fff"},d={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},h={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},p={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},v={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},m={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},g={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},y={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},b=["mode","contrastThreshold","tonalOffset"],k={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},w={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,l.$n)(e.main,i):"dark"===t&&(e.dark=(0,l._j)(e.main,a)))}function _(e){var t=e.mode,n=void 0===t?"light":t,o=e.contrastThreshold,u=void 0===o?3:o,s=e.tonalOffset,_=void 0===s?.2:s,S=(0,i.Z)(e,b),I=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[200],light:m[50],dark:m[400]}:{main:m[700],light:m[400],dark:m[800]}}(n),E=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:h[200],light:h[50],dark:h[400]}:{main:h[500],light:h[300],dark:h[700]}}(n),T=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:p[500],light:p[300],dark:p[700]}:{main:p[700],light:p[400],dark:p[800]}}(n),C=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g[400],light:g[300],dark:g[700]}:{main:g[700],light:g[500],dark:g[900]}}(n),N=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[400],light:y[300],dark:y[700]}:{main:y[800],light:y[500],dark:y[900]}}(n),R=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[400],light:v[300],dark:v[700]}:{main:"#ed6c02",light:v[500],dark:v[900]}}(n);function A(e){return(0,l.mi)(e,w.text.primary)>=u?w.text.primary:k.text.primary}var P=function(e){var t=e.color,n=e.name,i=e.mainShade,a=void 0===i?500:i,o=e.lightShade,u=void 0===o?300:o,s=e.darkShade,l=void 0===s?700:s;if(!(t=(0,r.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,c.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,c.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",u,_),x(t,"dark",l,_),t.contrastText||(t.contrastText=A(t.main)),t},O={dark:w,light:k};return(0,a.Z)((0,r.Z)({common:(0,r.Z)({},f),mode:n,primary:P({color:I,name:"primary"}),secondary:P({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:P({color:T,name:"error"}),warning:P({color:R,name:"warning"}),info:P({color:C,name:"info"}),success:P({color:N,name:"success"}),grey:d,contrastThreshold:u,getContrastText:A,augmentColor:P,tonalOffset:_},O[n]),S)}var S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var I={textTransform:"uppercase"},E='"Roboto", "Helvetica", "Arial", sans-serif';function T(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,u=void 0===o?E:o,s=n.fontSize,c=void 0===s?14:s,l=n.fontWeightLight,f=void 0===l?300:l,d=n.fontWeightRegular,h=void 0===d?400:d,p=n.fontWeightMedium,v=void 0===p?500:p,m=n.fontWeightBold,g=void 0===m?700:m,y=n.htmlFontSize,b=void 0===y?16:y,k=n.allVariants,w=n.pxToRem,x=(0,i.Z)(n,S);var _=c/14,T=w||function(e){return"".concat(e/b*_,"rem")},C=function(e,t,n,i,a){return(0,r.Z)({fontFamily:u,fontWeight:e,fontSize:T(t),lineHeight:n},u===E?{letterSpacing:"".concat((o=i/t,Math.round(1e5*o)/1e5),"em")}:{},a,k);var o},N={h1:C(f,96,1.167,-1.5),h2:C(f,60,1.2,-.5),h3:C(h,48,1.167,0),h4:C(h,34,1.235,.25),h5:C(h,24,1.334,0),h6:C(v,20,1.6,.15),subtitle1:C(h,16,1.75,.15),subtitle2:C(v,14,1.57,.1),body1:C(h,16,1.5,.15),body2:C(h,14,1.43,.15),button:C(v,14,1.75,.4,I),caption:C(h,12,1.66,.4),overline:C(h,12,2.66,1,I)};return(0,a.Z)((0,r.Z)({htmlFontSize:b,pxToRem:T,fontFamily:u,fontSize:c,fontWeightLight:f,fontWeightRegular:h,fontWeightMedium:v,fontWeightBold:g},N),x,{clone:!1})}function C(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var N=["none",C(0,2,1,-1,0,1,1,0,0,1,3,0),C(0,3,1,-2,0,2,2,0,0,1,5,0),C(0,3,3,-2,0,3,4,0,0,1,8,0),C(0,2,4,-1,0,4,5,0,0,1,10,0),C(0,3,5,-1,0,5,8,0,0,1,14,0),C(0,3,5,-1,0,6,10,0,0,1,18,0),C(0,4,5,-2,0,7,10,1,0,2,16,1),C(0,5,5,-3,0,8,10,1,0,3,14,2),C(0,5,6,-3,0,9,12,1,0,3,16,2),C(0,6,6,-3,0,10,14,1,0,4,18,3),C(0,6,7,-4,0,11,15,1,0,4,20,3),C(0,7,8,-4,0,12,17,2,0,5,22,4),C(0,7,8,-4,0,13,19,2,0,5,24,4),C(0,7,9,-4,0,14,21,2,0,5,26,4),C(0,8,9,-5,0,15,22,2,0,6,28,5),C(0,8,10,-5,0,16,24,2,0,6,30,5),C(0,8,11,-5,0,17,26,2,0,6,32,5),C(0,9,11,-5,0,18,28,2,0,7,34,6),C(0,9,12,-6,0,19,29,2,0,7,36,6),C(0,10,13,-6,0,20,31,3,0,8,38,7),C(0,10,13,-6,0,21,33,3,0,8,40,7),C(0,10,14,-6,0,22,35,3,0,8,42,7),C(0,11,14,-7,0,23,36,3,0,9,44,8),C(0,11,15,-7,0,24,38,3,0,9,46,8)],R=["duration","easing","delay"],A={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},P={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function O(e){return"".concat(Math.round(e),"ms")}function D(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function L(e){var t=(0,r.Z)({},A,e.easing),n=(0,r.Z)({},P,e.duration);return(0,r.Z)({getAutoHeightDuration:D,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.duration,o=void 0===a?n.standard:a,u=r.easing,s=void 0===u?t.easeInOut:u,c=r.delay,l=void 0===c?0:c;(0,i.Z)(r,R);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof o?o:O(o)," ").concat(s," ").concat("string"===typeof l?l:O(l))})).join(",")}},e,{easing:t,duration:n})}var M={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},j=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,u=e.palette,c=void 0===u?{}:u,l=e.transitions,f=void 0===l?{}:l,d=e.typography,h=void 0===d?{}:d,p=(0,i.Z)(e,j),v=_(c),m=(0,o.Z)(e),g=(0,a.Z)(m,{mixins:s(m.breakpoints,n),palette:v,shadows:N.slice(),typography:T(v,h),transitions:L(f),zIndex:(0,r.Z)({},M)});g=(0,a.Z)(g,p);for(var y=arguments.length,b=new Array(y>1?y-1:0),k=1;k<y;k++)b[k-1]=arguments[k];return g=b.reduce((function(e,t){return(0,a.Z)(e,t)}),g)}var Z=F},6482:function(e,t,n){"use strict";var r=(0,n(7107).Z)();t.Z=r},5255:function(e,t,n){"use strict";n.d(t,{ZP:function(){return X},FO:function(){return G},Dz:function(){return Q}});var r=n(3433),i=n(9439),a=n(7462),o=n(3366),u=n(2791),s=n.t(u,2),c=n(3782),l=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,f=(0,c.Z)((function(e){return l.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),d=n(1688),h=n(5438),p=n(1346),v=f,m=function(e){return"theme"!==e},g=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?v:m},y=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},b=s.useInsertionEffect?s.useInsertionEffect:function(e){e()};var k=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;(0,h.hC)(t,n,r);b((function(){return(0,h.My)(t,n,r)}));return null},w=function e(t,n){var r,i,o=t.__emotion_real===t,s=o&&t.__emotion_base||t;void 0!==n&&(r=n.label,i=n.target);var c=y(t,n,o),l=c||g(s),f=!l("as");return function(){var v=arguments,m=o&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&m.push("label:"+r+";"),null==v[0]||void 0===v[0].raw)m.push.apply(m,v);else{0,m.push(v[0][0]);for(var b=v.length,w=1;w<b;w++)m.push(v[w],v[0][w])}var x=(0,d.w)((function(e,t,n){var r=f&&e.as||s,a="",o=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=(0,u.useContext)(d.T)}"string"===typeof e.className?a=(0,h.fp)(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var b=(0,p.O)(m.concat(o),t.registered,v);a+=t.key+"-"+b.name,void 0!==i&&(a+=" "+i);var w=f&&void 0===c?g(r):l,x={};for(var _ in e)f&&"as"===_||w(_)&&(x[_]=e[_]);return x.className=a,x.ref=n,(0,u.createElement)(u.Fragment,null,(0,u.createElement)(k,{cache:t,serialized:b,isStringTag:"string"===typeof r}),(0,u.createElement)(r,x))}));return x.displayName=void 0!==r?r:"Styled("+("string"===typeof s?s:s.displayName||s.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=s,x.__emotion_styles=m,x.__emotion_forwardProp=c,Object.defineProperty(x,"toString",{value:function(){return"."+i}}),x.withComponent=function(t,r){return e(t,(0,a.Z)({},n,r,{shouldForwardProp:y(x,r,!0)})).apply(void 0,m)},x}},x=w.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){x[e]=x(e)}));var _=x;function S(e,t){return _(e,t)}var I=n(5080),E=n(7312),T=["variant"];function C(e){return 0===e.length}function N(e){var t=e.variant,n=(0,o.Z)(e,T),r=t||"";return Object.keys(n).sort().forEach((function(t){r+="color"===t?C(r)?e[t]:(0,E.Z)(e[t]):"".concat(C(r)?t:(0,E.Z)(t)).concat((0,E.Z)(e[t].toString()))})),r}var R=n(4942),A=n(8247),P=n(6001),O=n(1184);function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),i=new Set(r);return t.every((function(e){return i.size===Object.keys(e).length}))}function L(e,t){return"function"===typeof e?e(t):e}var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P.G$,t=Object.keys(e).reduce((function(t,n){return e[n].filterProps.forEach((function(r){t[r]=e[n]})),t}),{});function n(e,n,r){var i,a=(i={},(0,R.Z)(i,e,n),(0,R.Z)(i,"theme",r),i),o=t[e];return o?o(a):(0,R.Z)({},e,n)}function r(e){var i=e||{},a=i.sx,o=i.theme,u=void 0===o?{}:o;if(!a)return null;function s(e){var i=e;if("function"===typeof e)i=e(u);else if("object"!==typeof e)return e;if(!i)return null;var a=(0,O.W8)(u.breakpoints),o=Object.keys(a),s=a;return Object.keys(i).forEach((function(e){var a=L(i[e],u);if(null!==a&&void 0!==a)if("object"===typeof a)if(t[e])s=(0,A.Z)(s,n(e,a,u));else{var o=(0,O.k9)({theme:u},a,(function(t){return(0,R.Z)({},e,t)}));D(o,a)?s[e]=r({sx:a,theme:u}):s=(0,A.Z)(s,o)}else s=(0,A.Z)(s,n(e,a,u))})),(0,O.L7)(o,s)}return Array.isArray(a)?a.map(s):s(a)}return r}();M.filterProps=["sx"];var j=M,F=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Z=["theme"],U=["theme"];function V(e){return 0===Object.keys(e).length}var z=function(e,t){return t.components&&t.components[e]&&t.components[e].styleOverrides?t.components[e].styleOverrides:null},B=function(e,t){var n=[];t&&t.components&&t.components[e]&&t.components[e].variants&&(n=t.components[e].variants);var r={};return n.forEach((function(e){var t=N(e.props);r[t]=e.style})),r},q=function(e,t,n,r){var i,a,o=e.ownerState,u=void 0===o?{}:o,s=[],c=null==n||null==(i=n.components)||null==(a=i[r])?void 0:a.variants;return c&&c.forEach((function(n){var r=!0;Object.keys(n.props).forEach((function(t){u[t]!==n.props[t]&&e[t]!==n.props[t]&&(r=!1)})),r&&s.push(t[N(n.props)])})),s};function W(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var K=(0,I.Z)();var H=n(6482),G=function(e){return W(e)&&"classes"!==e},Q=W,$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=void 0===t?K:t,u=e.rootShouldForwardProp,s=void 0===u?W:u,c=e.slotShouldForwardProp,l=void 0===c?W:c,f=e.styleFunctionSx,d=void 0===f?j:f;return function(e){var t,u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=u.name,f=u.slot,h=u.skipVariantsResolver,p=u.skipSx,v=u.overridesResolver,m=(0,o.Z)(u,F),g=void 0!==h?h:f&&"Root"!==f||!1,y=p||!1;var b=W;"Root"===f?b=s:f&&(b=l);var k=S(e,(0,a.Z)({shouldForwardProp:b,label:t},m)),w=function(e){for(var t=arguments.length,u=new Array(t>1?t-1:0),s=1;s<t;s++)u[s-1]=arguments[s];var l=u?u.map((function(e){return"function"===typeof e&&e.__emotion_real!==e?function(t){var r=t.theme,i=(0,o.Z)(t,Z);return e((0,a.Z)({theme:V(r)?n:r},i))}:e})):[],f=e;c&&v&&l.push((function(e){var t=V(e.theme)?n:e.theme,r=z(c,t);if(r){var o={};return Object.entries(r).forEach((function(n){var r=(0,i.Z)(n,2),u=r[0],s=r[1];o[u]="function"===typeof s?s((0,a.Z)({},e,{theme:t})):s})),v(e,o)}return null})),c&&!g&&l.push((function(e){var t=V(e.theme)?n:e.theme;return q(e,B(c,t),t,c)})),y||l.push((function(e){var t=V(e.theme)?n:e.theme;return d((0,a.Z)({},e,{theme:t}))}));var h=l.length-u.length;if(Array.isArray(e)&&h>0){var p=new Array(h).fill("");(f=[].concat((0,r.Z)(e),(0,r.Z)(p))).raw=[].concat((0,r.Z)(e.raw),(0,r.Z)(p))}else"function"===typeof e&&e.__emotion_real!==e&&(f=function(t){var r=t.theme,i=(0,o.Z)(t,U);return e((0,a.Z)({theme:V(r)?n:r},i))});var m=k.apply(void 0,[f].concat((0,r.Z)(l)));return m};return k.withConfig&&(w.withConfig=k.withConfig),w}}({defaultTheme:H.Z,rootShouldForwardProp:G}),X=$},1046:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(5735);var i=n(3459);function a(e){var t=e.props,n=e.name,a=e.defaultTheme,o=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,r.Z)(t.components[n].defaultProps,i):i}({theme:(0,i.Z)(a),name:n,props:t});return o}var o=n(6482);function u(e){return a({props:e.props,name:e.name,defaultTheme:o.Z})}},4036:function(e,t,n){"use strict";var r=n(7312);t.Z=r.Z},9201:function(e,t,n){"use strict";n.d(t,{Z:function(){return y}});var r=n(7462),i=n(2791),a=n(3366),o=n(8182),u=n(4419),s=n(4036),c=n(1046),l=n(5255),f=n(1217);function d(e){return(0,f.Z)("MuiSvgIcon",e)}(0,n(5878).Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var h=n(184),p=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],v=(0,l.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,s.Z)(n.color))],t["fontSize".concat((0,s.Z)(n.fontSize))]]}})((function(e){var t,n,r,i,a,o,u,s,c,l,f,d,h,p,v,m,g,y=e.theme,b=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:null==(t=y.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(r=y.transitions)||null==(i=r.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(a=y.typography)||null==(o=a.pxToRem)?void 0:o.call(a,20))||"1.25rem",medium:(null==(u=y.typography)||null==(s=u.pxToRem)?void 0:s.call(u,24))||"1.5rem",large:(null==(c=y.typography)||null==(l=c.pxToRem)?void 0:l.call(c,35))||"2.1875"}[b.fontSize],color:null!=(f=null==(d=(y.vars||y).palette)||null==(h=d[b.color])?void 0:h.main)?f:{action:null==(p=(y.vars||y).palette)||null==(v=p.action)?void 0:v.active,disabled:null==(m=(y.vars||y).palette)||null==(g=m.action)?void 0:g.disabled,inherit:void 0}[b.color]}})),m=i.forwardRef((function(e,t){var n=(0,c.Z)({props:e,name:"MuiSvgIcon"}),i=n.children,l=n.className,f=n.color,m=void 0===f?"inherit":f,g=n.component,y=void 0===g?"svg":g,b=n.fontSize,k=void 0===b?"medium":b,w=n.htmlColor,x=n.inheritViewBox,_=void 0!==x&&x,S=n.titleAccess,I=n.viewBox,E=void 0===I?"0 0 24 24":I,T=(0,a.Z)(n,p),C=(0,r.Z)({},n,{color:m,component:y,fontSize:k,instanceFontSize:e.fontSize,inheritViewBox:_,viewBox:E}),N={};_||(N.viewBox=E);var R=function(e){var t=e.color,n=e.fontSize,r=e.classes,i={root:["root","inherit"!==t&&"color".concat((0,s.Z)(t)),"fontSize".concat((0,s.Z)(n))]};return(0,u.Z)(i,d,r)}(C);return(0,h.jsxs)(v,(0,r.Z)({as:y,className:(0,o.Z)(R.root,l),ownerState:C,focusable:"false",color:w,"aria-hidden":!S||void 0,role:S?"img":void 0,ref:t},N,T,{children:[i,S?(0,h.jsx)("title",{children:S}):null]}))}));m.muiName="SvgIcon";var g=m;function y(e,t){var n=function(n,i){return(0,h.jsx)(g,(0,r.Z)({"data-testid":"".concat(t,"Icon"),ref:i},n,{children:e}))};return n.muiName=g.muiName,i.memo(i.forwardRef(n))}},3199:function(e,t,n){"use strict";var r=n(3981);t.Z=r.Z},4454:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return i.Z},createChainedFunction:function(){return a},createSvgIcon:function(){return o.Z},debounce:function(){return u.Z},deprecatedPropType:function(){return s},isMuiElement:function(){return c.Z},ownerDocument:function(){return l.Z},ownerWindow:function(){return f.Z},requirePropFactory:function(){return d},setRef:function(){return h},unstable_ClassNameGenerator:function(){return w},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return v},unsupportedProp:function(){return m},useControlled:function(){return g.Z},useEventCallback:function(){return y.Z},useForkRef:function(){return b.Z},useIsFocusVisible:function(){return k.Z}});var r=n(5902),i=n(4036),a=n(8949).Z,o=n(9201),u=n(3199);var s=function(e,t){return function(){return null}},c=n(9103),l=n(8301),f=n(7602);n(7462);var d=function(e,t){return function(){return null}},h=n(2971).Z,p=n(162),v=n(6248).Z;var m=function(e,t,n,r,i){return null},g=n(8744),y=n(9683),b=n(2071),k=n(3031),w={configure:function(e){console.warn(["MUI: `ClassNameGenerator` import from `@mui/material/utils` is outdated and might cause unexpected issues.","","You should use `import { unstable_ClassNameGenerator } from '@mui/material/className'` instead","","The detail of the issue: https://github.com/mui/material-ui/issues/30011#issuecomment-1024993401","","The updated documentation: https://mui.com/guides/classname-generator/"].join("\n")),r.Z.configure(e)}}},9103:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2791);var i=function(e,t){return r.isValidElement(e)&&-1!==t.indexOf(e.type.muiName)}},8301:function(e,t,n){"use strict";var r=n(9723);t.Z=r.Z},7602:function(e,t,n){"use strict";var r=n(7979);t.Z=r.Z},8744:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(9439),i=n(2791);var a=function(e){var t=e.controlled,n=e.default,a=(e.name,e.state,i.useRef(void 0!==t).current),o=i.useState(n),u=(0,r.Z)(o,2),s=u[0],c=u[1];return[a?t:s,i.useCallback((function(e){a||c(e)}),[])]}},162:function(e,t,n){"use strict";var r=n(5721);t.Z=r.Z},9683:function(e,t,n){"use strict";var r=n(8956);t.Z=r.Z},2071:function(e,t,n){"use strict";var r=n(7563);t.Z=r.Z},3031:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var r,i=n(2791),a=!0,o=!1,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function s(e){e.metaKey||e.altKey||e.ctrlKey||(a=!0)}function c(){a=!1}function l(){"hidden"===this.visibilityState&&o&&(a=!0)}function f(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return a||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}var d=function(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",s,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",l,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!f(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(o=!0,window.clearTimeout(r),r=window.setTimeout((function(){o=!1}),100),t.current=!1,!0)},ref:e}}},8023:function(e,t,n){"use strict";var r=n(2791).createContext(null);t.Z=r},9598:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(8023);function a(){return r.useContext(i.Z)}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return u},P$:function(){return s},VO:function(){return r},W8:function(){return o},k9:function(){return a}});var r={xs:0,sm:600,md:900,lg:1200,xl:1536},i={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var a=e.theme||{};if(Array.isArray(t)){var o=a.breakpoints||i;return t.reduce((function(e,r,i){return e[o.up(o.keys[i])]=n(t[i]),e}),{})}if("object"===typeof t){var u=a.breakpoints||i;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(u.values||r).indexOf(i)){e[u.up(i)]=n(t[i],i)}else{var a=i;e[a]=t[a]}return e}),{})}return n(t)}function o(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null==t||null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{});return n||{}}function u(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function s(e){var t,n=e.values,r=e.breakpoints,i=e.base||function(e,t){if("object"!==typeof e)return{};var n={},r=Object.keys(t);return Array.isArray(e)?r.forEach((function(t,r){r<e.length&&(n[t]=!0)})):r.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,r),a=Object.keys(i);return 0===a.length?n:a.reduce((function(e,r,i){return Array.isArray(n)?(e[r]=null!=n[i]?n[i]:n[t],t=i):"object"===typeof n?(e[r]=null!=n[r]?n[r]:n[t],t=r):e[r]=n,e}),{})}},2065:function(e,t,n){"use strict";n.d(t,{$n:function(){return f},Fq:function(){return c},_j:function(){return l},mi:function(){return s}});var r=n(6189);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function a(e){if(e.type)return e;if("#"===e.charAt(0))return a(function(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.Z)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.Z)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}function o(e){var t=e.type,n=e.colorSpace,r=e.values;return-1!==t.indexOf("rgb")?r=r.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=-1!==t.indexOf("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function u(e){var t="hsl"===(e=a(e)).type?a(function(e){var t=(e=a(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,u=r*Math.min(i,1-i),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-u*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*s(0)),Math.round(255*s(8)),Math.round(255*s(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),o({type:c,values:l})}(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function c(e,t){return e=a(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,o(e)}function l(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return o(e)}function f(e,t){if(e=a(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return o(e)}},5080:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(7462),i=n(3366),a=n(2466),o=n(4942),u=["values","unit","step"];function s(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,f=(0,i.Z)(e,u),d=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,r.Z)({},e,(0,o.Z)({},t.key,t.val))}),{})}(n),h=Object.keys(d);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-l/100).concat(s,")")}function m(e,t){var r=h.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[h[r]]?n[h[r]]:t)-l/100).concat(s,")")}return(0,r.Z)({keys:h,values:d,up:p,down:v,between:m,only:function(e){return h.indexOf(e)+1<h.length?m(e,h[h.indexOf(e)+1]):p(e)},not:function(e){var t=h.indexOf(e);return 0===t?p(h[1]):t===h.length-1?v(h[t]):m(e,h[h.indexOf(e)+1]).replace("@media","@media not all and")},unit:s},f)}var c={borderRadius:4},l=n(5682);function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=0===n.length?[1]:n;return i.map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}var d=["breakpoints","palette","spacing","shape"];var h=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,o=e.palette,u=void 0===o?{}:o,l=e.spacing,h=e.shape,p=void 0===h?{}:h,v=(0,i.Z)(e,d),m=s(n),g=f(l),y=(0,a.Z)({breakpoints:m,direction:"ltr",components:{},palette:(0,r.Z)({mode:"light"},u),spacing:g,shape:(0,r.Z)({},c,p)},v),b=arguments.length,k=new Array(b>1?b-1:0),w=1;w<b;w++)k[w-1]=arguments[w];return y=k.reduce((function(e,t){return(0,a.Z)(e,t)}),y)}},6001:function(e,t,n){"use strict";n.d(t,{Gc:function(){return Q},G$:function(){return G}});var r=n(8529),i=n(8247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),a=function(e){return Object.keys(e).reduce((function(t,n){return r[n]?(0,i.Z)(t,r[n](e)):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a},o=n(5682),u=n(1184);function s(e){return"number"!==typeof e?e:"".concat(e,"px solid")}var c=(0,r.Z)({prop:"border",themeKey:"borders",transform:s}),l=(0,r.Z)({prop:"borderTop",themeKey:"borders",transform:s}),f=(0,r.Z)({prop:"borderRight",themeKey:"borders",transform:s}),d=(0,r.Z)({prop:"borderBottom",themeKey:"borders",transform:s}),h=(0,r.Z)({prop:"borderLeft",themeKey:"borders",transform:s}),p=(0,r.Z)({prop:"borderColor",themeKey:"palette"}),v=(0,r.Z)({prop:"borderTopColor",themeKey:"palette"}),m=(0,r.Z)({prop:"borderRightColor",themeKey:"palette"}),g=(0,r.Z)({prop:"borderBottomColor",themeKey:"palette"}),y=(0,r.Z)({prop:"borderLeftColor",themeKey:"palette"}),b=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,o.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,u.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,o.NA)(t,e)}}))}return null};b.propTypes={},b.filterProps=["borderRadius"];var k=a(c,l,f,d,h,p,v,m,g,y,b),w=a((0,r.Z)({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),(0,r.Z)({prop:"display"}),(0,r.Z)({prop:"overflow"}),(0,r.Z)({prop:"textOverflow"}),(0,r.Z)({prop:"visibility"}),(0,r.Z)({prop:"whiteSpace"})),x=a((0,r.Z)({prop:"flexBasis"}),(0,r.Z)({prop:"flexDirection"}),(0,r.Z)({prop:"flexWrap"}),(0,r.Z)({prop:"justifyContent"}),(0,r.Z)({prop:"alignItems"}),(0,r.Z)({prop:"alignContent"}),(0,r.Z)({prop:"order"}),(0,r.Z)({prop:"flex"}),(0,r.Z)({prop:"flexGrow"}),(0,r.Z)({prop:"flexShrink"}),(0,r.Z)({prop:"alignSelf"}),(0,r.Z)({prop:"justifyItems"}),(0,r.Z)({prop:"justifySelf"})),_=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,o.eI)(e.theme,"spacing",8,"gap");return(0,u.k9)(e,e.gap,(function(e){return{gap:(0,o.NA)(t,e)}}))}return null};_.propTypes={},_.filterProps=["gap"];var S=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,o.eI)(e.theme,"spacing",8,"columnGap");return(0,u.k9)(e,e.columnGap,(function(e){return{columnGap:(0,o.NA)(t,e)}}))}return null};S.propTypes={},S.filterProps=["columnGap"];var I=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,o.eI)(e.theme,"spacing",8,"rowGap");return(0,u.k9)(e,e.rowGap,(function(e){return{rowGap:(0,o.NA)(t,e)}}))}return null};I.propTypes={},I.filterProps=["rowGap"];var E=a(_,S,I,(0,r.Z)({prop:"gridColumn"}),(0,r.Z)({prop:"gridRow"}),(0,r.Z)({prop:"gridAutoFlow"}),(0,r.Z)({prop:"gridAutoColumns"}),(0,r.Z)({prop:"gridAutoRows"}),(0,r.Z)({prop:"gridTemplateColumns"}),(0,r.Z)({prop:"gridTemplateRows"}),(0,r.Z)({prop:"gridTemplateAreas"}),(0,r.Z)({prop:"gridArea"})),T=a((0,r.Z)({prop:"position"}),(0,r.Z)({prop:"zIndex",themeKey:"zIndex"}),(0,r.Z)({prop:"top"}),(0,r.Z)({prop:"right"}),(0,r.Z)({prop:"bottom"}),(0,r.Z)({prop:"left"})),C=a((0,r.Z)({prop:"color",themeKey:"palette"}),(0,r.Z)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),(0,r.Z)({prop:"backgroundColor",themeKey:"palette"})),N=(0,r.Z)({prop:"boxShadow",themeKey:"shadows"});function R(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var A=(0,r.Z)({prop:"width",transform:R}),P=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,u.k9)(e,e.maxWidth,(function(t){var n,r,i;return{maxWidth:(null==(n=e.theme)||null==(r=n.breakpoints)||null==(i=r.values)?void 0:i[t])||u.VO[t]||R(t)}}))}return null};P.filterProps=["maxWidth"];var O=(0,r.Z)({prop:"minWidth",transform:R}),D=(0,r.Z)({prop:"height",transform:R}),L=(0,r.Z)({prop:"maxHeight",transform:R}),M=(0,r.Z)({prop:"minHeight",transform:R}),j=((0,r.Z)({prop:"size",cssProperty:"width",transform:R}),(0,r.Z)({prop:"size",cssProperty:"height",transform:R}),a(A,P,O,D,L,M,(0,r.Z)({prop:"boxSizing"}))),F=(0,r.Z)({prop:"fontFamily",themeKey:"typography"}),Z=(0,r.Z)({prop:"fontSize",themeKey:"typography"}),U=(0,r.Z)({prop:"fontStyle",themeKey:"typography"}),V=(0,r.Z)({prop:"fontWeight",themeKey:"typography"}),z=(0,r.Z)({prop:"letterSpacing"}),B=(0,r.Z)({prop:"textTransform"}),q=(0,r.Z)({prop:"lineHeight"}),W=(0,r.Z)({prop:"textAlign"}),K=a((0,r.Z)({prop:"typography",cssProperty:!1,themeKey:"typography"}),F,Z,U,V,z,q,W,B),H={borders:k.filterProps,display:w.filterProps,flexbox:x.filterProps,grid:E.filterProps,positions:T.filterProps,palette:C.filterProps,shadows:N.filterProps,sizing:j.filterProps,spacing:o.ZP.filterProps,typography:K.filterProps},G={borders:k,display:w,flexbox:x,grid:E,positions:T,palette:C,shadows:N,sizing:j,spacing:o.ZP,typography:K},Q=Object.keys(H).reduce((function(e,t){return H[t].forEach((function(n){e[n]=G[t]})),e}),{})},8247:function(e,t,n){"use strict";var r=n(2466);t.Z=function(e,t){return t?(0,r.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},ZP:function(){return x},NA:function(){return m}});var r=n(9439),i=n(1184),a=n(8529),o=n(8247);var u={m:"margin",p:"padding"},s={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},c={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},l=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!c[e])return[e];e=c[e]}var t=e.split(""),n=(0,r.Z)(t,2),i=n[0],a=n[1],o=u[i],l=s[a]||"";return Array.isArray(l)?l.map((function(e){return o+e})):[o+l]})),f=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],h=[].concat(f,d);function p(e,t,n,r){var i,o=null!=(i=(0,a.D)(e,t,!1))?i:n;return"number"===typeof o?function(e){return"string"===typeof e?e:o*e}:Array.isArray(o)?function(e){return"string"===typeof e?e:o[e]}:"function"===typeof o?o:function(){}}function v(e){return p(e,"spacing",8)}function m(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function g(e,t,n,r){if(-1===t.indexOf(n))return null;var a=function(e,t){return function(n){return e.reduce((function(e,r){return e[r]=m(t,n),e}),{})}}(l(n),r),o=e[n];return(0,i.k9)(e,o,a)}function y(e,t){var n=v(e.theme);return Object.keys(e).map((function(r){return g(e,t,r,n)})).reduce(o.Z,{})}function b(e){return y(e,f)}function k(e){return y(e,d)}function w(e){return y(e,h)}b.propTypes={},b.filterProps=f,k.propTypes={},k.filterProps=d,w.propTypes={},w.filterProps=h;var x=w},8529:function(e,t,n){"use strict";n.d(t,{D:function(){return o}});var r=n(4942),i=n(7312),a=n(1184);function o(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var r="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=r)return r}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function u(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:o(e,n)||i,t&&(r=t(r)),r}t.Z=function(e){var t=e.prop,n=e.cssProperty,s=void 0===n?e.prop:n,c=e.themeKey,l=e.transform,f=function(e){if(null==e[t])return null;var n=e[t],f=o(e.theme,c)||{};return(0,a.k9)(e,n,(function(e){var n=u(f,l,e);return e===n&&"string"===typeof e&&(n=u(f,l,"".concat(t).concat("default"===e?"":(0,i.Z)(e)),e)),!1===s?n:(0,r.Z)({},s,n)}))};return f.propTypes={},f.filterProps=[t],f}},3459:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(5080),i=n(9598);function a(e){return 0===Object.keys(e).length}var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,i.Z)();return!t||a(t)?e:t},u=(0,r.Z)();var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;return o(e)}},5902:function(e,t){"use strict";var n=function(e){return e},r=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=r},7312:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(6189);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4419:function(e,t,n){"use strict";function r(e,t,n){var r={};return Object.keys(e).forEach((function(i){r[i]=e[i].reduce((function(e,r){return r&&(n&&n[r]&&e.push(n[r]),e.push(t(r))),e}),[]).join(" ")})),r}n.d(t,{Z:function(){return r}})},8949:function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),(function(){}))}n.d(t,{Z:function(){return r}})},3981:function(e,t,n){"use strict";function r(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=this,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var u=function(){e.apply(r,a)};clearTimeout(t),t=setTimeout(u,n)}return r.clear=function(){clearTimeout(t)},r}n.d(t,{Z:function(){return r}})},2466:function(e,t,n){"use strict";n.d(t,{P:function(){return i},Z:function(){return a}});var r=n(7462);function i(e){return null!==e&&"object"===typeof e&&e.constructor===Object}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},o=n.clone?(0,r.Z)({},e):e;return i(e)&&i(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(i(t[r])&&r in e&&i(e[r])?o[r]=a(e[r],t[r],n):o[r]=t[r])})),o}},6189:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},1217:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(5902),i={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",a=i[t];return a?"".concat(n,"-").concat(a):"".concat(r.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1217);function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",i={};return t.forEach((function(t){i[t]=(0,r.Z)(e,t,n)})),i}},9723:function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return r}})},7979:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9723);function i(e){return(0,r.Z)(e).defaultView||window}},5735:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(7462);function i(e,t){var n=(0,r.Z)({},t);return Object.keys(e).forEach((function(t){void 0===n[t]&&(n[t]=e[t])})),n}},2971:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5721:function(e,t,n){"use strict";var r=n(2791),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;t.Z=i},8956:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(5721);function a(e){var t=r.useRef(e);return(0,i.Z)((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},7563:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(2791),i=n(2971);function a(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},6248:function(e,t,n){"use strict";var r;n.d(t,{Z:function(){return s}});var i=n(9439),a=n(2791),o=0;var u=(r||(r=n.t(a,2))).useId;function s(e){if(void 0!==u){var t=u();return null!=e?e:t}return function(e){var t=a.useState(e),n=(0,i.Z)(t,2),r=n[0],u=n[1],s=e||r;return a.useEffect((function(){null==r&&u("mui-".concat(o+=1))}),[r]),s}(e)}},8182:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var g=o[m];if(!a[g]&&(!r||!r[g])&&(!v||!v[g])&&(!u||!u[g])){var y=d(n,g);try{c(t,g,y)}catch(b){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,g=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,k=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===m},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===k||e.$$typeof===g)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,y);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var Z=!1;function U(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case I:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ke=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Se=null;function Ie(e){if(e=bi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Se?Se.push(e):Se=[e]:_e=e}function Te(){if(_e){var e=_e,t=Se;if(Se=_e=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Re=!1;function Ae(e,t,n){if(Re)return e(t,n);Re=!0;try{return Ce(e,t,n)}finally{Re=!1,(null!==_e||null!==Se)&&(Ne(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,je=null,Fe=!1,Ze=null,Ue={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,a,o,u,s){Me=!1,je=null,Le.apply(Ue,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,$e=i.unstable_requestPaint,Xe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,xt,_t,St,It,Et=!1,Tt=[],Ct=null,Nt=null,Rt=null,At=new Map,Pt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void It(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ke=r,n.target.dispatchEvent(r),ke=null,t.shift()}return!0}function Zt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Nt&&Ft(Nt)&&(Nt=null),null!==Rt&&Ft(Rt)&&(Rt=null),At.forEach(Zt),Pt.forEach(Zt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Vt(Ct,e),null!==Nt&&Vt(Nt,e),null!==Rt&&Vt(Rt,e),At.forEach(t),Pt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var Bt=k.ReactCurrentBatchConfig,qt=!0;function Wt(e,t,n,r){var i=bt,a=Bt.transition;Bt.transition=null;try{bt=1,Ht(e,t,n,r)}finally{bt=i,Bt.transition=a}}function Kt(e,t,n,r){var i=bt,a=Bt.transition;Bt.transition=null;try{bt=4,Ht(e,t,n,r)}finally{bt=i,Bt.transition=a}}function Ht(e,t,n,r){if(qt){var i=Qt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Rt=Mt(Rt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Mt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Qt(e,t,n,r))&&qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Qt(e,t,n,r){if(Gt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Yt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Yt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=j({},cn,{view:0,detail:0}),dn=an(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(hn),vn=an(j({},hn,{dataTransfer:0})),mn=an(j({},fn,{relatedTarget:0})),gn=an(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(yn),kn=an(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function In(){return Sn}var En=j({},fn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Rn=an(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(An),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,jn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),Zn=!1;function Un(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ee(r),0<(t=Kr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Hn=null;function Gn(e){Fr(e,0)}function Qn(e){if(H(ki(e)))return e}function $n(e,t){if("change"===e)return t}var Xn=!1;if(l){var Yn;if(l){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Yn=Jn}else Yn=!1;Xn=Yn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Hn=Kn=null)}function nr(e){if("value"===e.propertyName&&Qn(Hn)){var t=[];Wn(t,Hn,e,we(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Hn)}function ar(e,t){if("click"===e)return Qn(t)}function or(e,t){if("input"===e||"change"===e)return Qn(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,gr=null,yr=null,br=!1;function kr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==G(r)||("selectionStart"in(r=mr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&sr(yr,r)||(yr=r,0<(r=Kr(gr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},_r={},Sr={};function Ir(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return _r[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Ir("animationend"),Tr=Ir("animationiteration"),Cr=Ir("animationstart"),Nr=Ir("transitionend"),Rr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),s(t,[e])}for(var Or=0;Or<Ar.length;Or++){var Dr=Ar[Or];Pr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Pr(Er,"onAnimationEnd"),Pr(Tr,"onAnimationIteration"),Pr(Cr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=je;Me=!1,je=null,Fe||(Fe=!0,Ze=l)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;jr(i,u,c),a=s}}}if(Fe)throw e=Ze,Fe=!1,Ze=null,e}function Zr(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function Br(e,t,n,r){switch($t(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=yi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var u=Rr.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Er:case Tr:case Cr:s=gn;break;case Nr:s=Rn;break;case"scroll":s=dn;break;case"wheel":s=Pn;break;case"copy":case"cut":case"paste":s=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==u?u+"Capture":null:u;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Pe(p,d))&&l.push(Wr(p,v,h)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===ke||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==s?u:ki(s),h=null==c?u:ki(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=h,v=null,yi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(d=c,p=0,h=l=s;h;h=Hr(h))p++;for(h=0,v=d;v;v=Hr(v))h++;for(;0<p-h;)l=Hr(l),p--;for(;0<h-p;)d=Hr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=Hr(l),d=Hr(d)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?ki(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=$n;else if(qn(u))if(Xn)m=or;else{m=ir;var g=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Wn(o,m,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&ee(u,"number",u.value)),g=r?ki(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(mr=g,gr=r,yr=null);break;case"focusout":yr=gr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,kr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":kr(o,n,i)}var y;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Un(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Yt="value"in(Xt=i)?Xt.value:Xt.textContent,zn=!0)),0<(g=Kr(r,b)).length&&(b=new kn(b,e,null,n,i),o.push({event:b,listeners:g}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Zn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Zn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Dn&&Un(e,t)?(e=en(),Jt=Yt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new kn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(Wr(e,a,i)),null!=(a=Pe(e,t))&&r.push(Wr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(Wr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(Wr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Qr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace($r,"")}function Yr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,gi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ki(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[hi]||null}var xi=[],_i=-1;function Si(e){return{current:e}}function Ii(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Si(Ti),Ni=Si(!1),Ri=Ti;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Ii(Ni),Ii(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ri=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ni),Ii(Ci),Ei(Ci,e)):Ii(Ni),Ei(Ni,n)}var Fi=null,Zi=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function zi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Zi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Je,zi),i}finally{bt=t,Ui=!1}}return null}var Bi=k.ReactCurrentBatchConfig;function qi(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Wi=Si(null),Ki=null,Hi=null,Gi=null;function Qi(){Gi=Hi=Ki=null}function $i(e){var t=Wi.current;Ii(Wi),e._currentValue=t}function Xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yi(e,t){Ki=e,Gi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wu=!0),e.firstContext=null)}function Ji(e){var t=e._currentValue;if(Gi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Ki)throw Error(a(308));Hi=e,Ki.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var d=u.lane,h=u.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[u]:d.push(u))}else h={eventTime:h,lane:d,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=h,s=f):l=l.next=h,o|=d;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(d=u).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Os|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var da={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Ys(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Js(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xs(),i=Ys(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Js(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xs(),r=Ys(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Js(e,r,n))&&oa(t,e,r)}};function ha(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Ji(a):(i=Pi(t)?Ri:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=da,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&da.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ji(a):(a=Pi(t)?Ri:Ci.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&da.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ga=[],ya=0,ba=null,ka=0,wa=[],xa=0,_a=null,Sa=1,Ia="";function Ea(e,t){ga[ya++]=ka,ga[ya++]=ba,ba=e,ka=t}function Ta(e,t,n){wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=_a,_a=e;var r=Sa;e=Ia;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Sa=1<<32-ot(t)+i|n<<i|r,Ia=a+e}else Sa=1<<a|n<<i|r,Ia=e}function Ca(e){null!==e.return&&(Ea(e,1),Ta(e,1,0))}function Na(e){for(;e===ba;)ba=ga[--ya],ga[ya]=null,ka=ga[--ya],ga[ya]=null;for(;e===_a;)_a=wa[--xa],wa[xa]=null,Ia=wa[--xa],wa[xa]=null,Sa=wa[--xa],wa[xa]=null}var Ra=null,Aa=null,Pa=!1,Oa=null;function Da(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ra=e,Aa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ra=e,Aa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Sa,overflow:Ia}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ra=e,Aa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ja(e){if(Pa){var t=Aa;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Ra;t&&La(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Pa=!1,Ra=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Pa=!1,Ra=e}}}function Fa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ra=e}function Za(e){if(e!==Ra)return!1;if(!Pa)return Fa(e),Pa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Aa)){if(Ma(e)){for(e=Aa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=ci(t.nextSibling)}if(Fa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Aa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Aa=null}}else Aa=Ra?ci(e.stateNode.nextSibling):null;return!0}function Ua(){Aa=Ra=null,Pa=!1}function Va(e){null===Oa?Oa=[e]:Oa.push(e)}function za(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Ba(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){return(0,e._init)(e._payload)}function Wa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&qa(a)===t.type)?((r=i(t,n.props)).ref=za(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=za(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=za(e,null,t),n.return=e,n;case x:return(t=jc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dc(t,e.mode,n,null)).return=e,t;Ba(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);Ba(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);Ba(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var g=h(i,f,u[v],s);if(null===g){null===f&&(f=m);break}e&&f&&null===g.alternate&&t(i,f),a=o(g,a,v),null===l?c=g:l.sibling=g,l=g,f=m}if(v===u.length)return n(i,f),Pa&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=d(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Pa&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Pa&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,g=null,y=s.next();null!==v&&!y.done;m++,y=s.next()){v.index>m?(g=v,v=null):g=v.sibling;var b=h(i,v,y.value,c);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,m),null===f?l=b:f.sibling=b,f=b,v=g}if(y.done)return n(i,v),Pa&&Ea(i,m),l;if(null===v){for(;!y.done;m++,y=s.next())null!==(y=d(i,y.value,c))&&(u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return Pa&&Ea(i,m),l}for(v=r(i,v);!y.done;m++,y=s.next())null!==(y=p(v,i,m,y.value,c))&&(e&&null!==y.alternate&&v.delete(null===y.key?m:y.key),u=o(y,u,m),null===f?l=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),Pa&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&qa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=za(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Dc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=za(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=jc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);Ba(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ka=Wa(!0),Ha=Wa(!1),Ga={},Qa=Si(Ga),$a=Si(Ga),Xa=Si(Ga);function Ya(e){if(e===Ga)throw Error(a(174));return e}function Ja(e,t){switch(Ei(Xa,t),Ei($a,e),Ei(Qa,Ga),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Qa),Ei(Qa,t)}function eo(){Ii(Qa),Ii($a),Ii(Xa)}function to(e){Ya(Xa.current);var t=Ya(Qa.current),n=se(t,e.type);t!==n&&(Ei($a,e),Ei(Qa,n))}function no(e){$a.current===e&&(Ii(Qa),Ii($a))}var ro=Si(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=k.ReactCurrentDispatcher,so=k.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,go=0;function yo(){throw Error(a(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function ko(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function wo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function So(e,t){return"function"===typeof t?t(e):t}function Io(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=d,u=r):c=c.next=d,lo.lanes|=f,Os|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(wu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Os|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(wu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,wu=!0),r=r.queue,Zo(Ao.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Do(9,Ro.bind(null,n,r,i,t),void 0,null),null===Es)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ro(e,t,n,r){t.value=n,t.getSnapshot=r,Po(t)&&Js(e,1,-1)}function Ao(e,t,n){return n((function(){Po(t)&&Js(e,1,-1)}))}function Po(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Oo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:So,lastRenderedState:e},t.queue=e,e=e.dispatch=Xo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function jo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}lo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function Fo(e,t){return Mo(8390656,8,e,t)}function Zo(e,t){return jo(2048,8,e,t)}function Uo(e,t){return jo(4,2,e,t)}function Vo(e,t){return jo(4,4,e,t)}function zo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,jo(4,4,zo.bind(null,t,e),n)}function qo(){}function Wo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ko(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,wu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Os|=n,e.baseState=!0),t)}function Go(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{bt=n,so.transition=r}}function Qo(){return _o().memoizedState}function $o(e,t,n){var r=Ys(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e)?Jo(t,n):(eu(e,t,n),null!==(e=Js(e,r,n=Xs()))&&tu(e,t,r))}function Xo(e,t,n){var r=Ys(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Jo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Js(e,r,n=Xs()))&&tu(e,t,r)}}function Yo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Jo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var nu={readContext:Ji,useCallback:yo,useContext:yo,useEffect:yo,useImperativeHandle:yo,useInsertionEffect:yo,useLayoutEffect:yo,useMemo:yo,useReducer:yo,useRef:yo,useState:yo,useDebugValue:yo,useDeferredValue:yo,useTransition:yo,useMutableSource:yo,useSyncExternalStore:yo,useId:yo,unstable_isNewReconciler:!1},ru={readContext:Ji,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ji,useEffect:Fo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,zo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=$o.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Oo,useDebugValue:qo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Go.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Pa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Es)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Fo(Ao.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Ro.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Es.identifierPrefix;if(Pa){var n=Ia;t=":"+t+"R"+(n=(Sa&~(1<<32-ot(Sa)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=go++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Ji,useCallback:Wo,useContext:Ji,useEffect:Zo,useImperativeHandle:Bo,useInsertionEffect:Uo,useLayoutEffect:Vo,useMemo:Ko,useReducer:Io,useRef:Lo,useState:function(){return Io(So)},useDebugValue:qo,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[Io(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1},au={readContext:Ji,useCallback:Wo,useContext:Ji,useEffect:Zo,useImperativeHandle:Bo,useInsertionEffect:Uo,useLayoutEffect:Vo,useMemo:Ko,useReducer:Eo,useRef:Lo,useState:function(){return Eo(So)},useDebugValue:qo,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[Eo(So)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:Qo,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function du(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vs||(Vs=!0,zs=r),uu(0,t)},n}function hu(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===Bs?Bs=new Set([this]):Bs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function gu(e,t){if(!Pa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function yu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function bu(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yu(t),null;case 1:case 17:return Pi(t.type)&&Oi(),yu(t),null;case 3:return r=t.stateNode,eo(),Ii(Ni),Ii(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Za(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&(ac(Oa),Oa=null))),yu(t),null;case 5:no(t);var i=Ya(Xa.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return yu(t),null}if(e=Ya(Qa.current),Za(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[hi]=o,e=0!==(1&t.mode),n){case"dialog":Zr("cancel",r),Zr("close",r);break;case"iframe":case"object":case"embed":Zr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Zr(Lr[i],r);break;case"source":Zr("error",r);break;case"img":case"image":case"link":Zr("error",r),Zr("load",r);break;case"details":Zr("toggle",r);break;case"input":$(r,o),Zr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Zr("invalid",r);break;case"textarea":ie(r,o),Zr("invalid",r)}for(var s in ye(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Yr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Zr("scroll",r)}switch(n){case"input":K(r),J(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[di]=t,e[hi]=r,su(e,t),t.stateNode=e;e:{switch(s=be(n,r),n){case"dialog":Zr("cancel",e),Zr("close",e),i=r;break;case"iframe":case"object":case"embed":Zr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Zr(Lr[i],e);i=r;break;case"source":Zr("error",e),i=r;break;case"img":case"image":case"link":Zr("error",e),Zr("load",e),i=r;break;case"details":Zr("toggle",e),i=r;break;case"input":$(e,r),i=Q(e,r),Zr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Zr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Zr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Zr("scroll",e):null!=l&&b(e,o,l,s))}switch(n){case"input":K(e),J(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return yu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Xa.current),Ya(Qa.current),Za(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=Ra))switch(e.tag){case 3:Yr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Yr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return yu(t),null;case 13:if(Ii(ro),r=t.memoizedState,Pa&&null!==Aa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Aa;r;)r=ci(r.nextSibling);return Ua(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Za(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[di]=t}else Ua(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return yu(t),null}return null!==Oa&&(ac(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Za(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===As&&(As=3):pc())),null!==t.updateQueue&&(t.flags|=4),yu(t),null);case 4:return eo(),null===e&&zr(t.stateNode.containerInfo),yu(t),null;case 10:return $i(t.type._context),yu(t),null;case 19:if(Ii(ro),null===(o=t.memoizedState))return yu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)gu(o,!1);else{if(0!==As||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,gu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Zs&&(t.flags|=128,r=!0,gu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),gu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Pa)return yu(t),null}else 2*Xe()-o.renderingStartTime>Zs&&1073741824!==n&&(t.flags|=128,r=!0,gu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=ro.current,Ei(ro,r?1&n|2:1&n),t):(yu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(yu(t),6&t.subtreeFlags&&(t.flags|=8192)):yu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Qa.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ye(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Zr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var ku=k.ReactCurrentOwner,wu=!1;function xu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ka(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Yi(t,i),r=ko(e,t,n,r,a,i),n=wo(),null===e||wu?(Pa&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Su(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ac(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Iu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return qu(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Iu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(wu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qu(e,t,i);0!==(131072&e.flags)&&(wu=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Rs,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Rs,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(Rs,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(Rs,Ns),Ns|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Pi(n)?Ri:Ci.current;return a=Ai(t,a),Yi(t,i),n=ko(e,t,n,r,a,i),r=wo(),null===e||wu?(Pa&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qu(e,t,i))}function Nu(e,t,n,r,i){if(Pi(n)){var a=!0;Mi(t)}else a=!1;if(Yi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ji(c):c=Ai(t,c=Pi(n)?Ri:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var d=t.memoizedState;o.state=d,sa(t,r,o,i),s=t.memoizedState,u!==r||d!==s||Ni.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||ha(t,n,u,r,d,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:qi(t.type,u),o.props=c,f=t.pendingProps,d=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ji(s):s=Ai(t,s=Pi(n)?Ri:Ci.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||d!==s)&&va(t,o,r,s),ta=!1,d=t.memoizedState,o.state=d,sa(t,r,o,i);var p=t.memoizedState;u!==f||d!==p||Ni.current||ta?("function"===typeof h&&(fa(t,n,h,r),p=t.memoizedState),(c=ta||ha(t,n,c,r,d,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ru(e,t,n,r,a,i)}function Ru(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),qu(e,t,a);r=t.stateNode,ku.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ka(t,e.child,null,a),t.child=Ka(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Au(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ja(e,t.containerInfo)}function Pu(e,t,n,r,i){return Ua(),Va(i),t.flags|=256,xu(e,t,n,r),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Du(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(ro,1&o),null===e)return ja(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Dc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Du(n),t.memoizedState=Ou,e):ju(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Uu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Dc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ka(t,e.child,null,n),t.child.memoizedState=Du(n),t.memoizedState=Ou,u);if(0===(1&t.mode))t=Uu(e,t,n,null);else if("$!"===r.data)t=Uu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),wu||i){if(null!==(i=Es)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Js(e,i,-1))}pc(),t=Uu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Aa=ci(r.nextSibling),Ra=t,Pa=!0,Oa=null,null!==n&&(wa[xa++]=Sa,wa[xa++]=Ia,wa[xa++]=_a,Sa=n.id,Ia=n.overflow,_a=t),(t=ju(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Zu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i):(n=Fu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Zu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i):(n=Fu(e,t,i.children,n),t.memoizedState=null,n)}function ju(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fu(e,t,n,r){var i=e.child;return e=i.sibling,n=Pc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Zu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Pc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Pc(o,r):(r=Dc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Uu(e,t,n,r){return null!==r&&Va(r),Ka(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Xi(e.return,t,n)}function zu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Bu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vu(e,n,t);else if(19===e.tag)Vu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zu(t,!0,n,null,a);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Os|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wu(e,t){switch(Na(t),t.tag){case 1:return Pi(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Ii(Ni),Ii(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Ii(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Ua()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(ro),null;case 4:return eo(),null;case 10:return $i(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Ku=!1,Hu=!1,Gu="function"===typeof WeakSet?WeakSet:Set,Qu=null;function $u(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Xu(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Yu=!1;function Ju(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Xu(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[mi],delete t[gi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Hu||$u(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),zt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Hu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Xu(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Hu&&($u(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Hu=(r=Hu)||null!==n.memoizedState,cs(e,t,n),Hu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Gu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ds(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)hs(t,e),t=t.sibling}function hs(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ds(t,e),ps(e),4&r){try{Ju(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{Ju(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:ds(t,e),ps(e),512&r&&null!==n&&$u(n,n.return);break;case 5:if(ds(t,e),ps(e),512&r&&null!==n&&$u(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&X(i,o),be(s,u);var l=be(s,o);for(u=0;u<c.length;u+=2){var f=c[u],d=c[u+1];"style"===f?me(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,l)}switch(s){case"input":Y(i,o);break;case"textarea":ae(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):h!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[hi]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(ds(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(ds(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:ds(t,e),ps(e);break;case 13:ds(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(Fs=Xe()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hu=(f=Hu)||l,ds(t,e),Hu=f):ds(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=h.stateNode,u=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=f?"":h.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}if(f&&!l&&0!==(1&e.mode))for(Qu=e,e=e.child;null!==e;){for(l=Qu=e;null!==Qu;){switch(d=(f=Qu).child,f.tag){case 0:case 11:case 14:case 15:Ju(4,f,f.return);break;case 1:if($u(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){h=f,p=f.return;try{i=h,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(h,p,v)}}break;case 5:$u(f,f.return);break;case 22:if(null!==f.memoizedState){ys(l);continue}}null!==d?(d.return=f,Qu=d):ys(l)}e=e.sibling}}break;case 19:ds(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){Qu=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==Qu;){var i=Qu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ku;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Hu;u=Ku;var c=Hu;if(Ku=o,(Hu=s)&&!c)for(Qu=i;null!==Qu;)s=(o=Qu).child,22===o.tag&&null!==o.memoizedState?bs(i):null!==s?(s.return=o,Qu=s):bs(i);for(;null!==a;)Qu=a,ms(a,t,n),a=a.sibling;Qu=i,Ku=u,Hu=c}gs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Qu=a):gs(e)}}function gs(e){for(;null!==Qu;){var t=Qu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:qi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(a(163))}Hu||512&t.flags&&ts(t)}catch(h){_c(t,t.return,h)}}if(t===e){Qu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Qu=n;break}Qu=t.return}}function ys(e){for(;null!==Qu;){var t=Qu;if(t===e){Qu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Qu=n;break}Qu=t.return}}function bs(e){for(;null!==Qu;){var t=Qu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){Qu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Qu=u;break}Qu=t.return}}var ks,ws=Math.ceil,xs=k.ReactCurrentDispatcher,_s=k.ReactCurrentOwner,Ss=k.ReactCurrentBatchConfig,Is=0,Es=null,Ts=null,Cs=0,Ns=0,Rs=Si(0),As=0,Ps=null,Os=0,Ds=0,Ls=0,Ms=null,js=null,Fs=0,Zs=1/0,Us=null,Vs=!1,zs=null,Bs=null,qs=!1,Ws=null,Ks=0,Hs=0,Gs=null,Qs=-1,$s=0;function Xs(){return 0!==(6&Is)?Xe():-1!==Qs?Qs:Qs=Xe()}function Ys(e){return 0===(1&e.mode)?1:0!==(2&Is)&&0!==Cs?Cs&-Cs:null!==Bi.transition?(0===$s&&($s=vt()),$s):0!==(e=bt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function Js(e,t,n){if(50<Hs)throw Hs=0,Gs=null,Error(a(185));var r=ec(e,t);return null===r?null:(gt(r,t,n),0!==(2&Is)&&r===Es||(r===Es&&(0===(2&Is)&&(Ds|=t),4===As&&oc(r,Cs)),nc(r,n),1===t&&0===Is&&0===(1&e.mode)&&(Zs=Xe()+500,Zi&&zi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Es||null!==ea)&&0!==(1&e.mode)&&0===(2&Is)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ht(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=dt(e,e===Es?Cs:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Zi=!0,Vi(e)}(uc.bind(null,e)):Vi(uc.bind(null,e)),oi((function(){0===Is&&zi()})),n=null;else{switch(kt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Qs=-1,$s=0,0!==(6&Is))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=dt(e,e===Es?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Is;Is|=2;var o=hc();for(Es===e&&Cs===t||(Us=null,Zs=Xe()+500,fc(e,t));;)try{gc();break}catch(s){dc(e,s)}Qi(),xs.current=o,Is=i,null!==Ts?t=0:(Es=null,Cs=0,t=As)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Ps,fc(e,0),oc(e,r),nc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:kc(e,js,Us);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Fs+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Xs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(kc.bind(null,e,js,Us),t);break}kc(e,js,Us);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ws(r/1960))-r)){e.timeoutHandle=ri(kc.bind(null,e,js,Us),r);break}kc(e,js,Us);break;default:throw Error(a(329))}}}return nc(e,Xe()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=js,js=n,null!==t&&ac(t)),e}function ac(e){null===js?js=e:js.push.apply(js,e)}function oc(e,t){for(t&=~Ls,t&=~Ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Is))throw Error(a(327));wc();var t=dt(e,0);if(0===(1&t))return nc(e,Xe()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Ps,fc(e,0),oc(e,t),nc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,kc(e,js,Us),nc(e,Xe()),null}function sc(e,t){var n=Is;Is|=1;try{return e(t)}finally{0===(Is=n)&&(Zs=Xe()+500,Zi&&zi())}}function cc(e){null!==Ws&&0===Ws.tag&&0===(6&Is)&&wc();var t=Is;Is|=1;var n=Ss.transition,r=bt;try{if(Ss.transition=null,bt=1,e)return e()}finally{bt=r,Ss.transition=n,0===(6&(Is=t))&&zi()}}function lc(){Ns=Rs.current,Ii(Rs)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:eo(),Ii(Ni),Ii(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Ii(ro);break;case 10:$i(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Es=e,Ts=e=Pc(e.current,null),Cs=Ns=t,As=0,Ps=null,Ls=Ds=Os=0,js=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function dc(e,t){for(;;){var n=Ts;try{if(Qi(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_s.current=null,null===n||null===n.return){As=1,Ps=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Pa&&1&s.mode){var g=vu(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),mu(g,u,s,0,t),Va(c);break e}}o=c,4!==As&&(As=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(0,c,t));break e;case 1:o=c;var y=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Bs||!Bs.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(s,o,t));break e}}s=s.return}while(null!==s)}bc(n)}catch(k){t=k,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function hc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==As&&3!==As&&2!==As||(As=4),null===Es||0===(268435455&Os)&&0===(268435455&Ds)||oc(Es,Cs)}function vc(e,t){var n=Is;Is|=2;var r=hc();for(Es===e&&Cs===t||(Us=null,fc(e,t));;)try{mc();break}catch(i){dc(e,i)}if(Qi(),Is=n,xs.current=r,null!==Ts)throw Error(a(261));return Es=null,Cs=0,As}function mc(){for(;null!==Ts;)yc(Ts)}function gc(){for(;null!==Ts&&!Qe();)yc(Ts)}function yc(e){var t=ks(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?bc(e):Ts=t,_s.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=bu(n,t,Ns)))return void(Ts=n)}else{if(null!==(n=Wu(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return As=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===As&&(As=5)}function kc(e,t,n){var r=bt,i=Ss.transition;try{Ss.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Ws);if(0!==(6&Is))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Es&&(Ts=Es=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qs||(qs=!0,Cc(tt,(function(){return wc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ss.transition,Ss.transition=null;var u=bt;bt=1;var s=Is;Is|=4,_s.current=null,function(e,t){if(ei=qt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(s=u+i),d!==o||0!==r&&3!==d.nodeType||(c=u+r),3===d.nodeType&&(u+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(s=u),h===o&&++f===r&&(c=u),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Qu=t;null!==Qu;)if(e=(t=Qu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Qu=e;else for(;null!==Qu;){t=Qu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,g=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:qi(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var w=k.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Qu=e;break}Qu=t.return}v=Yu,Yu=!1}(e,n),hs(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),$e(),Is=s,bt=u,Ss.transition=o}else e.current=n;if(qs&&(qs=!1,Ws=e,Ks=i),0===(o=e.pendingLanes)&&(Bs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Vs)throw Vs=!1,e=zs,zs=null,e;0!==(1&Ks)&&0!==e.tag&&wc(),0!==(1&(o=e.pendingLanes))?e===Gs?Hs++:(Hs=0,Gs=e):Hs=0,zi()}(e,t,n,r)}finally{Ss.transition=i,bt=r}return null}function wc(){if(null!==Ws){var e=kt(Ks),t=Ss.transition,n=bt;try{if(Ss.transition=null,bt=16>e?16:e,null===Ws)var r=!1;else{if(e=Ws,Ws=null,Ks=0,0!==(6&Is))throw Error(a(331));var i=Is;for(Is|=4,Qu=e.current;null!==Qu;){var o=Qu,u=o.child;if(0!==(16&Qu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Qu=l;null!==Qu;){var f=Qu;switch(f.tag){case 0:case 11:case 15:Ju(8,f,o)}var d=f.child;if(null!==d)d.return=f,Qu=d;else for(;null!==Qu;){var h=(f=Qu).sibling,p=f.return;if(ns(f),f===l){Qu=null;break}if(null!==h){h.return=p,Qu=h;break}Qu=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}Qu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Qu=u;else e:for(;null!==Qu;){if(0!==(2048&(o=Qu).flags))switch(o.tag){case 0:case 11:case 15:Ju(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Qu=y;break e}Qu=o.return}}var b=e.current;for(Qu=b;null!==Qu;){var k=(u=Qu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Qu=k;else e:for(u=b;null!==Qu;){if(0!==(2048&(s=Qu).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){Qu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Qu=w;break e}Qu=s.return}}if(Is=i,zi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{bt=n,Ss.transition=t}}return!1}function xc(e,t,n){aa(e,t=du(0,t=ou(n,t),1)),t=Xs(),null!==(e=ec(e,1))&&(gt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Bs||!Bs.has(r))){aa(t,e=hu(t,e=ou(n,e),1)),e=Xs(),null!==(t=ec(t,1))&&(gt(t,1,e),nc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Xs(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Cs&n)===n&&(4===As||3===As&&(130023424&Cs)===Cs&&500>Xe()-Fs?fc(e,0):Ls|=n),nc(e,t)}function Ic(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Xs();null!==(e=ec(e,t))&&(gt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Ic(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Ic(e,n)}function Cc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Nc(e,t,n,r)}function Ac(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Ac(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Dc(n.children,i,o,t);case S:u=8,i|=8;break;case I:return(e=Rc(12,n,t,2|i)).elementType=I,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case R:return(e=Rc(19,n,t,i)).elementType=R,e.lanes=o,e;case O:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case A:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Rc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function jc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r,i,a,o,u,s){return e=new Fc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Rc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Uc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Vc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Li(e,n,t)}return t}function zc(e,t,n,r,i,a,o,u,s){return(e=Zc(n,r,!0,e,0,a,0,u,s)).context=Vc(null),n=e.current,(a=ia(r=Xs(),i=Ys(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,gt(e,i,r),nc(e,r),e}function Bc(e,t,n,r){var i=t.current,a=Xs(),o=Ys(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Js(i,o,a))&&oa(e,i,o),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}ks=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)wu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wu=!1,function(e,t,n){switch(t.tag){case 3:Au(t),Ua();break;case 5:to(t);break;case 1:Pi(t.type)&&Mi(t);break;case 4:Ja(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Wi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ei(ro,1&ro.current),null!==(e=qu(e,t,n))?e.sibling:null);Ei(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return qu(e,t,n)}(e,t,n);wu=0!==(131072&e.flags)}else wu=!1,Pa&&0!==(1048576&t.flags)&&Ta(t,ka,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ai(t,Ci.current);Yi(t,n),i=ko(null,t,r,e,i,n);var o=wo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=da,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Ru(null,t,r,!0,o,n)):(t.tag=0,Pa&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ac(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=qi(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Su(null,t,r,qi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 3:e:{if(Au(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Pu(e,t,r,n,i=Error(a(424)));break e}for(Aa=ci(t.stateNode.containerInfo.firstChild),Ra=t,Pa=!0,Oa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Ua(),r===i){t=qu(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&ja(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&ja(t),null;case 13:return Mu(e,t,n);case 4:return Ja(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ka(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:qi(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Wi,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=qu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Xi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Xi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Yi(t,n),r=r(i=Ji(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=qi(r=t.type,t.pendingProps),Su(e,t,r,i=qi(r.type,i),n);case 15:return Iu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:qi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Pi(r)?(e=!0,Mi(t)):e=!1,Yi(t,n),pa(t,r,i),ma(t,r,i,n),Ru(null,t,r,!0,e,n);case 19:return Bu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Jc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=qc(o);u.call(e)}}Bc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qc(o);a.call(e)}}var o=zc(t,r,e,0,null,!1,0,"",Yc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=qc(s);u.call(e)}}var s=Zc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=s,e[pi]=s.current,zr(8===e.nodeType?e.parentNode:e),cc((function(){Bc(t,s,n,r)})),s}(n,t,e,i,r);return qc(o)}Qc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Bc(e,t,null,null)},Qc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){Bc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),nc(t,Xe()),0===(6&Is)&&(Zs=Xe()+500,zi()))}break;case 13:var r=Xs();cc((function(){return Js(e,1,r)})),Kc(e,1)}},xt=function(e){13===e.tag&&(Js(e,134217728,Xs()),Kc(e,134217728))},_t=function(e){if(13===e.tag){var t=Xs(),n=Ys(e);Js(e,n,t),Kc(e,n)}},St=function(){return bt},It=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));H(r),Y(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[bi,ki,wi,Ee,Te,sc]},tl={findFiberByHostInstance:yi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(a(200));return Uc(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),a=b("react.strict_mode"),o=b("react.profiler"),u=b("react.provider"),s=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case h:case d:case u:return e;default:return t}}case r:return t}}}},7441:function(e,t,n){"use strict";n(1372)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=g.prototype;var k=b.prototype=new y;k.constructor=b,v(k,g.prototype),k.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},O={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,m=!1,g="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function k(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(m=!1,k(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(w,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,y(E),E=-1),p=!0;var a=h;try{for(k(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,h=d.priorityLevel;var u=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?d.callback=u:d===r(c)&&i(c),k(n)}else i(c);d=r(c)}if(null!==d)var s=!0;else{var f=r(l);null!==f&&D(w,f.startTime-n),s=!1}return s}finally{d=null,h=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,S=!1,I=null,E=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function R(){if(null!==I){var e=t.unstable_now();C=e;var n=!0;try{n=I(!0,e)}finally{n?_():(S=!1,I=null)}}else S=!1}if("function"===typeof b)_=function(){b(R)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=R,_=function(){P.postMessage(null)}}else _=function(){g(R,0)};function O(e){I=e,S||(S=!0,_())}function D(e,n){E=g((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(y(E),E=-1):m=!0,D(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(3878);var i=n(181),a=n(5267);function o(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||(0,i.Z)(e,t)||(0,a.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(9199),a=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,a.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var u=2&i&&r;"object"==typeof u&&!~e.indexOf(u);u=t(u))Object.getOwnPropertyNames(u).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".a3de41b9.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="clone:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var d=function(t,n){u.onerror=u.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=d.bind(null,u.onerror),u.onload=d.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/reels-clone/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkclone=self.webpackChunkclone||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Oe},SDK_VERSION:function(){return Ut},_DEFAULT_ENTRY_NAME:function(){return Tt},_addComponent:function(){return At},_addOrOverwriteComponent:function(){return Pt},_apps:function(){return Nt},_clearComponents:function(){return Mt},_components:function(){return Rt},_getProvider:function(){return Dt},_registerComponent:function(){return Ot},_removeServiceInstance:function(){return Lt},deleteApp:function(){return qt},getApp:function(){return zt},getApps:function(){return Bt},initializeApp:function(){return Vt},onLog:function(){return Ht},registerVersion:function(){return Kt},setLogLevel:function(){return Gt}});var t=n(2791),r=n.t(t,2),i=n(1250),a=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s,c=n(9439),l=n(7462);!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(s||(s={}));var f=function(e){return e};var d="beforeunload",h="popstate";function p(e){e.preventDefault(),e.returnValue=""}function v(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function m(){return Math.random().toString(36).substr(2,8)}function g(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function y(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var b=(0,t.createContext)(null);var k=(0,t.createContext)(null);var w=(0,t.createContext)({outlet:null,matches:[]});function x(e,t){if(!e)throw new Error(t)}function _(e,t,n){void 0===n&&(n="/");var r=A(("string"===typeof t?y(t):t).pathname||"/",n);if(null==r)return null;var i=S(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=C(i[o],r);return a}function S(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||x(!1),a.relativePath=a.relativePath.slice(r.length));var o=P([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&x(!1),S(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:T(o,e.index),routesMeta:u})})),t}var I=/^:\w+$/,E=function(e){return"*"===e};function T(e,t){var n=e.split("/"),r=n.length;return n.some(E)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!E(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function C(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=N({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:P([i,l.pathname]),pathnameBase:O(P([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=P([i,l.pathnameBase]))}return a}function N(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=(0,c.Z)(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),l=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:u,pathnameBase:s,pattern:e}}function R(e,t,n){var r,i="string"===typeof e?y(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?y(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:D(a),hash:L(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var P=function(e){return e.join("/").replace(/\/\/+/g,"/")},O=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},D=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},L=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function M(e){j()||x(!1);var n=(0,t.useContext)(b),r=n.basename,i=n.navigator,a=U(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?y(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):P([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function j(){return null!=(0,t.useContext)(k)}function F(){return j()||x(!1),(0,t.useContext)(k).location}function Z(){j()||x(!1);var e=(0,t.useContext)(b),n=e.basename,r=e.navigator,i=(0,t.useContext)(w).matches,a=F().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=R(e,JSON.parse(o),a);"/"!==n&&(i.pathname=P([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}function U(e){var n=(0,t.useContext)(w).matches,r=F().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return R(e,JSON.parse(i),r)}),[e,i,r])}function V(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(w.Provider,{children:void 0!==i.route.element?i.route.element:r,value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function z(e){var n=e.to,r=e.replace,i=e.state;j()||x(!1);var a=Z();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function B(e){x(!1)}function q(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,c=void 0===u?s.Pop:u,l=e.navigator,f=e.static,d=void 0!==f&&f;j()&&x(!1);var h=O(r),p=(0,t.useMemo)((function(){return{basename:h,navigator:l,static:d}}),[h,l,d]);"string"===typeof o&&(o=y(o));var v=o,m=v.pathname,g=void 0===m?"/":m,w=v.search,_=void 0===w?"":w,S=v.hash,I=void 0===S?"":S,E=v.state,T=void 0===E?null:E,C=v.key,N=void 0===C?"default":C,R=(0,t.useMemo)((function(){var e=A(g,h);return null==e?null:{pathname:e,search:_,hash:I,state:T,key:N}}),[h,g,_,I,T,N]);return null==R?null:(0,t.createElement)(b.Provider,{value:p},(0,t.createElement)(k.Provider,{children:a,value:{location:R,navigationType:c}}))}function W(e){var n=e.children,r=e.location;return function(e,n){j()||x(!1);var r,i=(0,t.useContext)(w).matches,a=i[i.length-1],o=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),s=(a&&a.route,F());if(n){var c,l="string"===typeof n?y(n):n;"/"===u||(null==(c=l.pathname)?void 0:c.startsWith(u))||x(!1),r=l}else r=s;var f=r.pathname||"/",d=_(e,{pathname:"/"===u?f:f.slice(u.length)||"/"});return V(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},o,e.params),pathname:P([u,e.pathname]),pathnameBase:"/"===e.pathnameBase?u:P([u,e.pathnameBase])})})),i)}(K(n),r)}function K(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==B&&x(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=K(e.props.children)),n.push(r)}else n.push.apply(n,K(e.props.children))})),n}function H(){return H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function G(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Q=["onClick","reloadDocument","replace","state","target","to"],$=["aria-current","caseSensitive","className","end","style","to","children"];function X(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,r=n.history;function i(){var e=n.location,t=e.pathname,i=e.search,a=e.hash,o=r.state||{};return[o.idx,f({pathname:t,search:i,hash:a,state:o.usr||null,key:o.key||"default"})]}var a=null;n.addEventListener(h,(function(){if(a)w.call(a),a=null;else{var e=s.Pop,t=i(),n=t[0],r=t[1];if(w.length){if(null!=n){var o=c-n;o&&(a={action:e,location:r,retry:function(){T(-1*o)}},T(o))}}else E(e)}}));var o=s.Pop,u=i(),c=u[0],b=u[1],k=v(),w=v();function x(e){return"string"===typeof e?e:g(e)}function _(e,t){return void 0===t&&(t=null),f((0,l.Z)({pathname:b.pathname,hash:"",search:""},"string"===typeof e?y(e):e,{state:t,key:m()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},x(e)]}function I(e,t,n){return!w.length||(w.call({action:e,location:t,retry:n}),!1)}function E(e){o=e;var t=i();c=t[0],b=t[1],k.call({action:o,location:b})}function T(e){r.go(e)}null==c&&(c=0,r.replaceState((0,l.Z)({},r.state,{idx:c}),""));var C={get action(){return o},get location(){return b},createHref:x,push:function e(t,i){var a=s.Push,o=_(t,i);if(I(a,o,(function(){e(t,i)}))){var u=S(o,c+1),l=u[0],f=u[1];try{r.pushState(l,"",f)}catch(d){n.location.assign(f)}E(a)}},replace:function e(t,n){var i=s.Replace,a=_(t,n);if(I(i,a,(function(){e(t,n)}))){var o=S(a,c),u=o[0],l=o[1];r.replaceState(u,"",l),E(i)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return k.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&n.addEventListener(d,p),function(){t(),w.length||n.removeEventListener(d,p)}}};return C}({window:i}));var o=a.current,u=(0,t.useState)({action:o.action,location:o.location}),b=(0,c.Z)(u,2),k=b[0],w=b[1];return(0,t.useLayoutEffect)((function(){return o.listen(w)}),[o]),(0,t.createElement)(q,{basename:n,children:r,location:k.location,navigationType:k.action,navigator:o})}var Y=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=G(e,Q),f=M(c),d=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=Z(),s=F(),c=U(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||g(s)===g(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",H({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||d(e)},ref:n,target:s}))}));var J=(0,t.forwardRef)((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.caseSensitive,o=void 0!==a&&a,u=e.className,s=void 0===u?"":u,c=e.end,l=void 0!==c&&c,f=e.style,d=e.to,h=e.children,p=G(e,$),v=F(),m=U(d),g=v.pathname,y=m.pathname;o||(g=g.toLowerCase(),y=y.toLowerCase());var b,k=g===y||!l&&g.startsWith(y)&&"/"===g.charAt(y.length),w=k?i:void 0;b="function"===typeof s?s({isActive:k}):[s,k?"active":null].filter(Boolean).join(" ");var x="function"===typeof f?f({isActive:k}):f;return(0,t.createElement)(Y,H({},p,{"aria-current":w,className:b,ref:n,style:x,to:d}),"function"===typeof h?h({isActive:k}):h)}));function ee(e){return ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ee(e)}function te(){te=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return I()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};u(p,i,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(S([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=h.prototype=f.prototype=Object.create(p);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function r(i,a,o,u){var s=c(e[i],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==ee(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,n){function a(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(a,a):a()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function S(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return d.prototype=h,u(g,"constructor",h),u(h,"constructor",d),d.displayName=u(h,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,o,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(s(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(g),u(g,o,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=S,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var u=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;x(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var ne=n(3433);function re(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){re(a,r,i,o,u,"next",e)}function u(e){re(a,r,i,o,u,"throw",e)}o(void 0)}))}}var ae=n(181);function oe(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,ae.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t,n){return t&&se(e.prototype,t),n&&se(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function le(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}function de(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}function he(e){return he=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},he(e)}function pe(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ve(e,t){if(t&&("object"===ee(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return le(e)}function me(e){var t=pe();return function(){var n,r=he(e);if(t){var i=he(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ve(this,n)}}function ge(e,t,n){return ge=pe()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&fe(i,n.prototype),i},ge.apply(null,arguments)}function ye(e){var t="function"===typeof Map?new Map:void 0;return ye=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ge(e,arguments,he(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),fe(n,e)},ye(e)}var be=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ke={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,d=(15&u)<<2|c>>6,h=63&c;s||(h=64,o||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(be(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},we=function(e){return function(e){var t=be(e);return ke.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xe=function(e){try{return ke.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _e(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=_e(e[n],t[n]));return e}var Se=function(){function e(){var t=this;ue(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ce(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function Ie(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(a)),""].join(".")}function Ee(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Te(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ee())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Ne(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Re(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ae(){var e=Ee();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Pe(){return"object"===typeof indexedDB}var Oe=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(le(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(le(a),De.prototype.create),a}return ce(n)}(ye(Error)),De=function(){function e(t,n,r){ue(this,e),this.service=t,this.serviceName=n,this.errors=r}return ce(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Le(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Oe(n,a,t);return o}}]),e}();function Le(e,t){return e.replace(Me,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Me=/\{\$([^}]+)}/g;function je(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Fe(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ze(u)&&Ze(s)){if(!Fe(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ze(e){return null!==e&&"object"===typeof e}function Ue(e){for(var t=[],n=function(){var e=(0,c.Z)(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ve(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=(0,c.Z)(n,2),i=r[0],a=r[1];t[decodeURIComponent(i)]=decodeURIComponent(a)}})),t}function ze(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Be(e,t){var n=new qe(e,t);return n.subscribe.bind(n)}var qe=function(){function e(t,n){var r=this;ue(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ce(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=oe(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=We),void 0===r.error&&(r.error=We),void 0===r.complete&&(r.complete=We);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function We(){}function Ke(e){return e&&e._delegate?e._delegate:e}var He=function(){function e(t,n,r){ue(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ce(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ge="[DEFAULT]",Qe=function(){function e(t,n){ue(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ce(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Se;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ge})}catch(s){}var t,n=oe(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=(0,c.Z)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat((0,ne.Z)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),(0,ne.Z)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=oe(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=(0,c.Z)(i.value,2),s=u[0],l=u[1],f=this.normalizeInstanceIdentifier(s);r===f&&l.resolve(a)}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Gx){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ge?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Gx){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge;return this.component?this.component.multipleInstances?e:Ge:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var $e,Xe,Ye=function(){function e(t){ue(this,e),this.name=t,this.providers=new Map}return ce(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Qe(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Je=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xe||(Xe={}));var et={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},tt=Xe.INFO,nt=($e={},(0,a.Z)($e,Xe.DEBUG,"log"),(0,a.Z)($e,Xe.VERBOSE,"log"),(0,a.Z)($e,Xe.INFO,"info"),(0,a.Z)($e,Xe.WARN,"warn"),(0,a.Z)($e,Xe.ERROR,"error"),$e),rt=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=nt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},it=function(){function e(t){ue(this,e),this.name=t,this._logLevel=tt,this._logHandler=rt,this._userLogHandler=null,Je.push(this)}return ce(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Xe))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?et[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.DEBUG].concat(t)),this._logHandler.apply(this,[this,Xe.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Xe.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.INFO].concat(t)),this._logHandler.apply(this,[this,Xe.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.WARN].concat(t)),this._logHandler.apply(this,[this,Xe.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Xe.ERROR].concat(t)),this._logHandler.apply(this,[this,Xe.ERROR].concat(t))}}]),e}();var at,ot;var ut=new WeakMap,st=new WeakMap,ct=new WeakMap,lt=new WeakMap,ft=new WeakMap;var dt={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return st.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ct.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vt(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function ht(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ot||(ot=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(mt(this),n),vt(ut.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return vt(e.apply(mt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[mt(this),t].concat(r));return ct.set(a,t.sort?t.sort():[t]),vt(a)}}function pt(e){return"function"===typeof e?ht(e):(e instanceof IDBTransaction&&function(e){if(!st.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));st.set(e,t)}}(e),t=e,(at||(at=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,dt):e);var t}function vt(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(vt(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&ut.set(t,e)})).catch((function(){})),ft.set(t,e),t}(e);if(lt.has(e))return lt.get(e);var t=pt(e);return t!==e&&(lt.set(e,t),ft.set(t,e)),t}var mt=function(e){return ft.get(e)};var gt,yt,bt=["get","getKey","getAll","getAllKeys","count"],kt=["put","add","delete","clear"],wt=new Map;function xt(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(wt.get(t))return wt.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=kt.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||bt.includes(n))){var a=function(){var e=ie(te().mark((function e(t){var a,o,u,s,c,l,f=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return wt.set(t,a),a}}}dt=function(e){return u(u({},e),{},{get:function(t,n,r){return xt(t,n)||e.get(t,n,r)},has:function(t,n){return!!xt(t,n)||e.has(t,n)}})}(dt);var _t=function(){function e(t){ue(this,e),this.container=t}return ce(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var St="@firebase/app",It="0.7.29",Et=new it("@firebase/app"),Tt="[DEFAULT]",Ct=(gt={},(0,a.Z)(gt,St,"fire-core"),(0,a.Z)(gt,"@firebase/app-compat","fire-core-compat"),(0,a.Z)(gt,"@firebase/analytics","fire-analytics"),(0,a.Z)(gt,"@firebase/analytics-compat","fire-analytics-compat"),(0,a.Z)(gt,"@firebase/app-check","fire-app-check"),(0,a.Z)(gt,"@firebase/app-check-compat","fire-app-check-compat"),(0,a.Z)(gt,"@firebase/auth","fire-auth"),(0,a.Z)(gt,"@firebase/auth-compat","fire-auth-compat"),(0,a.Z)(gt,"@firebase/database","fire-rtdb"),(0,a.Z)(gt,"@firebase/database-compat","fire-rtdb-compat"),(0,a.Z)(gt,"@firebase/functions","fire-fn"),(0,a.Z)(gt,"@firebase/functions-compat","fire-fn-compat"),(0,a.Z)(gt,"@firebase/installations","fire-iid"),(0,a.Z)(gt,"@firebase/installations-compat","fire-iid-compat"),(0,a.Z)(gt,"@firebase/messaging","fire-fcm"),(0,a.Z)(gt,"@firebase/messaging-compat","fire-fcm-compat"),(0,a.Z)(gt,"@firebase/performance","fire-perf"),(0,a.Z)(gt,"@firebase/performance-compat","fire-perf-compat"),(0,a.Z)(gt,"@firebase/remote-config","fire-rc"),(0,a.Z)(gt,"@firebase/remote-config-compat","fire-rc-compat"),(0,a.Z)(gt,"@firebase/storage","fire-gcs"),(0,a.Z)(gt,"@firebase/storage-compat","fire-gcs-compat"),(0,a.Z)(gt,"@firebase/firestore","fire-fst"),(0,a.Z)(gt,"@firebase/firestore-compat","fire-fst-compat"),(0,a.Z)(gt,"fire-js","fire-js"),(0,a.Z)(gt,"firebase","fire-js-all"),gt),Nt=new Map,Rt=new Map;function At(e,t){try{e.container.addComponent(t)}catch(n){Et.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Pt(e,t){e.container.addOrOverwriteComponent(t)}function Ot(e){var t=e.name;if(Rt.has(t))return Et.debug("There were multiple attempts to register component ".concat(t,".")),!1;Rt.set(t,e);var n,r=oe(Nt.values());try{for(r.s();!(n=r.n()).done;){At(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Dt(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Lt(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tt;Dt(e,t).clearInstance(n)}function Mt(){Rt.clear()}var jt=(yt={},(0,a.Z)(yt,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,a.Z)(yt,"bad-app-name","Illegal App name: '{$appName}"),(0,a.Z)(yt,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),(0,a.Z)(yt,"app-deleted","Firebase App named '{$appName}' already deleted"),(0,a.Z)(yt,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),(0,a.Z)(yt,"invalid-log-argument","First argument to `onLog` must be null or a function."),(0,a.Z)(yt,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),(0,a.Z)(yt,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),(0,a.Z)(yt,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),(0,a.Z)(yt,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),yt),Ft=new De("app","Firebase",jt),Zt=function(){function e(t,n,r){var i=this;ue(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new He("app",(function(){return i}),"PUBLIC"))}return ce(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Ft.create("app-deleted",{appName:this._name})}}]),e}(),Ut="9.9.1";function Vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Tt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Ft.create("bad-app-name",{appName:String(i)});var a=Nt.get(i);if(a){if(Fe(e,a.options)&&Fe(r,a.config))return a;throw Ft.create("duplicate-app",{appName:i})}var o,u=new Ye(i),s=oe(Rt.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new Zt(e,r,u);return Nt.set(i,l),l}function zt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,t=Nt.get(e);if(!t)throw Ft.create("no-app",{appName:e});return t}function Bt(){return Array.from(Nt.values())}function qt(e){return Wt.apply(this,arguments)}function Wt(){return Wt=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Nt.has(n)){e.next=6;break}return Nt.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Wt.apply(this,arguments)}function Kt(e,t,n){var r,i=null!==(r=Ct[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Et.warn(u.join(" "))}Ot(new He("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ht(e,t){if(null!==e&&"function"!==typeof e)throw Ft.create("invalid-log-argument");!function(e,t){var n,r=oe(Je);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=et[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Xe[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Gt(e){var t;t=e,Je.forEach((function(e){e.setLogLevel(t)}))}var Qt="firebase-heartbeat-store",$t=null;function Xt(){return $t||($t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=vt(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(vt(u.result),e.oldVersion,e.newVersion,vt(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Qt)}}).catch((function(e){throw Ft.create("storage-open",{originalErrorMessage:e.message})}))),$t}function Yt(e){return Jt.apply(this,arguments)}function Jt(){return Jt=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xt();case 3:return r=e.sent,e.abrupt("return",r.transaction(Qt).objectStore(Qt).get(nn(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Ft.create("storage-get",{originalErrorMessage:null===(n=e.t0)||void 0===n?void 0:n.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Jt.apply(this,arguments)}function en(e,t){return tn.apply(this,arguments)}function tn(){return tn=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xt();case 3:return i=e.sent,a=i.transaction(Qt,"readwrite"),o=a.objectStore(Qt),e.next=8,o.put(n,nn(t));case 8:return e.abrupt("return",a.done);case 11:throw e.prev=11,e.t0=e.catch(0),Ft.create("storage-set",{originalErrorMessage:null===(r=e.t0)||void 0===r?void 0:r.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),tn.apply(this,arguments)}function nn(e){return"".concat(e.name,"!").concat(e.options.appId)}var rn=function(){function e(t){var n=this;ue(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new sn(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ce(e,[{key:"triggerHeartbeat",value:function(){var e=ie(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=an(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=ie(te().mark((function e(){var t,n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=an(),n=on(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=we(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function an(){return(new Date).toISOString().substring(0,10)}function on(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=oe(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),cn(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),cn(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var un,sn=function(){function e(t){ue(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ce(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Pe()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Yt(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",en(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",en(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat((0,ne.Z)(r.heartbeats),(0,ne.Z)(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function cn(e){return we(JSON.stringify({version:2,heartbeats:e})).length}un="",Ot(new He("platform-logger",(function(e){return new _t(e)}),"PRIVATE")),Ot(new He("heartbeat",(function(e){return new rn(e)}),"PRIVATE")),Kt(St,It,un),Kt(St,It,"esm2017"),Kt("fire-js","");function ln(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=he(e)););return e}function fn(){return fn="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=ln(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},fn.apply(this,arguments)}Kt("firebase","9.9.1","app");function dn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var hn;Object.create;var pn="facebook.com",vn="github.com",mn="google.com",gn="password",yn="twitter.com",bn="EMAIL_SIGNIN",kn="PASSWORD_RESET",wn="RECOVER_EMAIL",xn="REVERT_SECOND_FACTOR_ADDITION",_n="VERIFY_AND_CHANGE_EMAIL",Sn="VERIFY_EMAIL";function In(){return(0,a.Z)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var En=function(){var e;return e={},(0,a.Z)(e,"admin-restricted-operation","This operation is restricted to administrators only."),(0,a.Z)(e,"argument-error",""),(0,a.Z)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),(0,a.Z)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),(0,a.Z)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),(0,a.Z)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),(0,a.Z)(e,"cordova-not-ready","Cordova framework is not ready."),(0,a.Z)(e,"cors-unsupported","This browser is not supported."),(0,a.Z)(e,"credential-already-in-use","This credential is already associated with a different user account."),(0,a.Z)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),(0,a.Z)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),(0,a.Z)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),(0,a.Z)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),(0,a.Z)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),(0,a.Z)(e,"email-already-in-use","The email address is already in use by another account."),(0,a.Z)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),(0,a.Z)(e,"expired-action-code","The action code has expired."),(0,a.Z)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),(0,a.Z)(e,"internal-error","An internal AuthError has occurred."),(0,a.Z)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),(0,a.Z)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),(0,a.Z)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),(0,a.Z)(e,"invalid-auth-event","An internal AuthError has occurred."),(0,a.Z)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),(0,a.Z)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),(0,a.Z)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),(0,a.Z)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),(0,a.Z)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),(0,a.Z)(e,"invalid-email","The email address is badly formatted."),(0,a.Z)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),(0,a.Z)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),(0,a.Z)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),(0,a.Z)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),(0,a.Z)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),(0,a.Z)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),(0,a.Z)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),(0,a.Z)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),(0,a.Z)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),(0,a.Z)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),(0,a.Z)(e,"wrong-password","The password is invalid or the user does not have a password."),(0,a.Z)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),(0,a.Z)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),(0,a.Z)(e,"invalid-provider-id","The specified provider ID is invalid."),(0,a.Z)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),(0,a.Z)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),(0,a.Z)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),(0,a.Z)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),(0,a.Z)(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),(0,a.Z)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),(0,a.Z)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),(0,a.Z)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),(0,a.Z)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),(0,a.Z)(e,"missing-continue-uri","A continue URL must be provided in the request."),(0,a.Z)(e,"missing-iframe-start","An internal AuthError has occurred."),(0,a.Z)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),(0,a.Z)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),(0,a.Z)(e,"missing-multi-factor-info","No second factor identifier is provided."),(0,a.Z)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),(0,a.Z)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),(0,a.Z)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),(0,a.Z)(e,"app-deleted","This instance of FirebaseApp has been deleted."),(0,a.Z)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),(0,a.Z)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),(0,a.Z)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),(0,a.Z)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),(0,a.Z)(e,"no-auth-event","An internal AuthError has occurred."),(0,a.Z)(e,"no-such-provider","User was not linked to an account with the given provider."),(0,a.Z)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),(0,a.Z)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),(0,a.Z)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),(0,a.Z)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),(0,a.Z)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),(0,a.Z)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),(0,a.Z)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),(0,a.Z)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),(0,a.Z)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),(0,a.Z)(e,"rejected-credential","The request contains malformed or mismatching credentials."),(0,a.Z)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),(0,a.Z)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),(0,a.Z)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),(0,a.Z)(e,"timeout","The operation has timed out."),(0,a.Z)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),(0,a.Z)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),(0,a.Z)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),(0,a.Z)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),(0,a.Z)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),(0,a.Z)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),(0,a.Z)(e,"unverified-email","The operation requires a verified email."),(0,a.Z)(e,"user-cancelled","The user did not grant your application the permissions it requested."),(0,a.Z)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),(0,a.Z)(e,"user-disabled","The user account has been disabled by an administrator."),(0,a.Z)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),(0,a.Z)(e,"user-signed-out",""),(0,a.Z)(e,"weak-password","The password must be 6 characters long or more."),(0,a.Z)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),(0,a.Z)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Tn=In,Cn=new De("auth","Firebase",In()),Nn=new it("@firebase/auth");function Rn(e){if(Nn.logLevel<=Xe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Nn.error.apply(Nn,["Auth (".concat(Ut,"): ").concat(e)].concat(n))}}function An(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Ln.apply(void 0,[e].concat(n))}function Pn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ln.apply(void 0,[e].concat(n))}function On(e,t,n){var r=Object.assign(Object.assign({},Tn()),(0,a.Z)({},t,n));return new De("auth","Firebase",r).create(t,{appName:e.name})}function Dn(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&An(e,"argument-error"),On(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=(0,ne.Z)(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat((0,ne.Z)(o)))}return Cn.create.apply(Cn,[e].concat(n))}function Mn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Ln.apply(void 0,[t].concat(r))}}function jn(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Rn(t),new Error(t)}function Fn(e,t){e||jn(t)}var Zn=new Map;function Un(e){Fn(e instanceof Function,"Expected a class definition");var t=Zn.get(e);return t?(Fn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Zn.set(e,t),t)}function Vn(e,t){var n=Dt(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(Fe(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;An(r,"already-initialized")}return n.initialize({options:t})}function zn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Bn(){return"http:"===qn()||"https:"===qn()}function qn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Wn=function(){function e(t,n){ue(this,e),this.shortDelay=t,this.longDelay=n,Fn(n>t,"Short delay should be less than long delay!"),this.isMobile=Te()||Re()}return ce(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Bn()||Ne()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Kn(e,t){Fn(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Hn=function(){function e(){ue(this,e)}return ce(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void jn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void jn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void jn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Gn=(hn={},(0,a.Z)(hn,"CREDENTIAL_MISMATCH","custom-token-mismatch"),(0,a.Z)(hn,"MISSING_CUSTOM_TOKEN","internal-error"),(0,a.Z)(hn,"INVALID_IDENTIFIER","invalid-email"),(0,a.Z)(hn,"MISSING_CONTINUE_URI","internal-error"),(0,a.Z)(hn,"INVALID_PASSWORD","wrong-password"),(0,a.Z)(hn,"MISSING_PASSWORD","internal-error"),(0,a.Z)(hn,"EMAIL_EXISTS","email-already-in-use"),(0,a.Z)(hn,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),(0,a.Z)(hn,"INVALID_IDP_RESPONSE","invalid-credential"),(0,a.Z)(hn,"INVALID_PENDING_TOKEN","invalid-credential"),(0,a.Z)(hn,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),(0,a.Z)(hn,"MISSING_REQ_TYPE","internal-error"),(0,a.Z)(hn,"EMAIL_NOT_FOUND","user-not-found"),(0,a.Z)(hn,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),(0,a.Z)(hn,"EXPIRED_OOB_CODE","expired-action-code"),(0,a.Z)(hn,"INVALID_OOB_CODE","invalid-action-code"),(0,a.Z)(hn,"MISSING_OOB_CODE","internal-error"),(0,a.Z)(hn,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),(0,a.Z)(hn,"INVALID_ID_TOKEN","invalid-user-token"),(0,a.Z)(hn,"TOKEN_EXPIRED","user-token-expired"),(0,a.Z)(hn,"USER_NOT_FOUND","user-token-expired"),(0,a.Z)(hn,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),(0,a.Z)(hn,"INVALID_CODE","invalid-verification-code"),(0,a.Z)(hn,"INVALID_SESSION_INFO","invalid-verification-id"),(0,a.Z)(hn,"INVALID_TEMPORARY_PROOF","invalid-credential"),(0,a.Z)(hn,"MISSING_SESSION_INFO","missing-verification-id"),(0,a.Z)(hn,"SESSION_EXPIRED","code-expired"),(0,a.Z)(hn,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),(0,a.Z)(hn,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),(0,a.Z)(hn,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),(0,a.Z)(hn,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),(0,a.Z)(hn,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),(0,a.Z)(hn,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),(0,a.Z)(hn,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),(0,a.Z)(hn,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),(0,a.Z)(hn,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),(0,a.Z)(hn,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),(0,a.Z)(hn,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),hn),Qn=new Wn(3e4,6e4);function $n(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Xn(e,t,n,r){return Yn.apply(this,arguments)}function Yn(){return Yn=ie(te().mark((function e(t,n,r,i){var a,o=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Jn(t,a,ie(te().mark((function e(){var a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ue(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Hn.fetch()(rr(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Yn.apply(this,arguments)}function Jn(e,t,n){return er.apply(this,arguments)}function er(){return er=ie(te().mark((function e(t,n,r){var i,a,o,u,s,l,f,d,h,p;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Gn),n),e.prev=2,a=new ir(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw ar(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,l=s.split(" : "),f=(0,c.Z)(l,2),d=f[0],h=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==d){e.next=23;break}throw ar(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==d){e.next=27;break}throw ar(t,"email-already-in-use",u);case 27:if("USER_DISABLED"!==d){e.next=29;break}throw ar(t,"user-disabled",u);case 29:if(p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw On(t,p,h);case 34:An(t,p);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof Oe)){e.next=41;break}throw e.t0;case 41:An(t,"network-request-failed");case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),er.apply(this,arguments)}function tr(e,t,n,r){return nr.apply(this,arguments)}function nr(){return nr=ie(te().mark((function e(t,n,r,i){var a,o,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Xn(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&An(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),nr.apply(this,arguments)}function rr(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Kn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var ir=function(){function e(t){var n=this;ue(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(Pn(n.auth,"network-request-failed"))}),Qn.get())}))}return ce(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function ar(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=Pn(e,t,r);return i.customData._tokenResponse=n,i}function or(e,t){return ur.apply(this,arguments)}function ur(){return ur=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),ur.apply(this,arguments)}function sr(e,t){return cr.apply(this,arguments)}function cr(){return cr=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),cr.apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return fr=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),fr.apply(this,arguments)}function dr(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function hr(){return hr=ie(te().mark((function e(t){var n,r,i,a,o,u,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Ke(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Mn((a=vr(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:dr(pr(a.auth_time)),issuedAtTime:dr(pr(a.iat)),expirationTime:dr(pr(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),hr.apply(this,arguments)}function pr(e){return 1e3*Number(e)}function vr(e){var t,n=e.split("."),r=(0,c.Z)(n,3),i=r[0],a=r[1],o=r[2];if(void 0===i||void 0===a||void 0===o)return Rn("JWT malformed, contained fewer than 3 sections"),null;try{var u=xe(a);return u?JSON.parse(u):(Rn("Failed to decode base64 JWT payload"),null)}catch(s){return Rn("Caught error parsing JWT payload as JSON",null===(t=s)||void 0===t?void 0:t.toString()),null}}function mr(e,t){return gr.apply(this,arguments)}function gr(){return gr=ie(te().mark((function e(t,n){var r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Oe&&yr(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),gr.apply(this,arguments)}function yr(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var br=function(){function e(t){ue(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ce(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(ie(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===(t=e.t0)||void 0===t?void 0:t.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),kr=function(){function e(t,n){ue(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ce(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=dr(this.lastLoginAt),this.creationTime=dr(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function wr(e){return xr.apply(this,arguments)}function xr(){return xr=ie(te().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,d;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,mr(t,lr(r,{idToken:i}));case 6:Mn(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ir(o.providerUserInfo):[],s=Sr(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new kr(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)}))),xr.apply(this,arguments)}function _r(){return(_r=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ke(t),e.next=3,wr(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sr(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat((0,ne.Z)(n),(0,ne.Z)(t))}function Ir(e){return e.map((function(e){var t=e.providerId,n=dn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Er(e,t){return Tr.apply(this,arguments)}function Tr(){return Tr=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Jn(t,{},ie(te().mark((function e(){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ue({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=rr(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Hn.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}var Cr=function(){function e(){ue(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ce(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Mn(e.idToken,"internal-error"),Mn("undefined"!==typeof e.idToken,"internal-error"),Mn("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=vr(e);return Mn(t,"internal-error"),Mn("undefined"!==typeof t.exp,"internal-error"),Mn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=ie(te().mark((function e(t){var n,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Mn(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Er(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return jn("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Mn("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Mn("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Mn("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Nr(e,t){Mn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Rr=function(){function e(t){ue(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=dn(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new br(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?(0,ne.Z)(a.providerData):[],this.metadata=new kr(a.createdAt||void 0,a.lastLoginAt||void 0)}return ce(e,[{key:"getIdToken",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mr(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Mn(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return hr.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return _r.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Mn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Mn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=ie(te().mark((function e(t){var n,r,i=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,wr(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,mr(this,or(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,d=null!==(i=n.email)&&void 0!==i?i:void 0,h=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=n.createdAt)&&void 0!==c?c:void 0,y=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,b=n.uid,k=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Mn(b&&_,t,"internal-error");var S=Cr.fromJSON(this.name,_);Mn("string"===typeof b,t,"internal-error"),Nr(f,t.name),Nr(d,t.name),Mn("boolean"===typeof k,t,"internal-error"),Mn("boolean"===typeof w,t,"internal-error"),Nr(h,t.name),Nr(p,t.name),Nr(v,t.name),Nr(m,t.name),Nr(g,t.name),Nr(y,t.name);var I=new e({uid:b,auth:t,email:d,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:h,tenantId:v,stsTokenManager:S,createdAt:g,lastLoginAt:y});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=ie(te().mark((function t(n,r){var i,a,o,u=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Cr).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,wr(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ar=function(){function e(){ue(this,e),this.type="NONE",this.storage={}}return ce(e,[{key:"_isAvailable",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ar.type="NONE";var Pr=Ar;function Or(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Dr=function(){function e(t,n,r){ue(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=Or(this.userKey,a.apiKey,o),this.fullPersistenceKey=Or("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ce(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Rr._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=ie(te().mark((function t(n,r){var i,a,o,u,s,c,l,f,d,h,p,v=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Un(Pr),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Un(Pr),u=Or(i,n.config.apiKey,n.name),s=null,c=oe(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return h=Rr._fromJSON(n,d),f!==o&&(s=h),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Lr(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Zr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Mr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Vr(t))return"Blackberry";if(zr(t))return"Webos";if(jr(t))return"Safari";if((t.includes("chrome/")||Fr(t))&&!t.includes("edge/"))return"Chrome";if(Ur(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Mr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/firefox\//i.test(e)}function jr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Fr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/crios\//i.test(e)}function Zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iemobile/i.test(e)}function Ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/android/i.test(e)}function Vr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/blackberry/i.test(e)}function zr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/webos/i.test(e)}function Br(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function qr(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Br(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Wr(){return Ae()&&10===document.documentMode}function Kr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return Br(e)||Ur(e)||zr(e)||Vr(e)||/windows phone/i.test(e)||Zr(e)}function Hr(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Lr(Ee());break;case"Worker":t="".concat(Lr(Ee()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Ut,"/").concat(r)}var Gr=function(){function e(t){ue(this,e),this.auth=t,this.queue=[]}return ce(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=ie(te().mark((function e(t){var n,r,i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:r=[],e.prev=3,i=oe(this.queue),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=14;break}return o=a.value,e.next=11,o(t);case 11:o.onAbort&&r.push(o.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),i.e(e.t0);case 19:return e.prev=19,i.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),r.reverse(),u=oe(r);try{for(u.s();!(s=u.n()).done;){c=s.value;try{c()}catch(l){}}}catch(f){u.e(f)}finally{u.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=e.t1)||void 0===n?void 0:n.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Qr=function(){function e(t,n,r){ue(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xr(this),this.idTokenSubscription=new Xr(this),this.beforeStateQueue=new Gr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Cn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return ce(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Un(t)),this._initializationPromise=this.queue(ie(te().mark((function r(){var i,a;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Dr.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=ie(te().mark((function e(t){var n,r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Mn(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,wr(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Ke(t):null)&&Mn(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=ie(te().mark((function e(t){var n,r=this,i=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Mn(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(ie(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Un(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new De("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Mn(n=t&&Un(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Dr.create(this,[Un(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=ie(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Mn(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Mn(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hr(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=ie(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,a.Z)({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function $r(e){return Ke(e)}var Xr=function(){function e(t){var n=this;ue(this,e),this.auth=t,this.observer=null,this.addObserver=Be((function(e){return n.observer=e}))}return ce(e,[{key:"next",get:function(){return Mn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Yr(e,t,n){var r=$r(e);Mn(r._canInitEmulator,r,"emulator-config-failed"),Mn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Jr(t),o=function(e){var t=Jr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ei(r.substr(a.length+1))}}var o=r.split(":"),u=(0,c.Z)(o,2);return{host:u[0],port:ei(u[1])}}(t),u=o.host,s=o.port,l=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Jr(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ei(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var ti=function(){function e(t,n){ue(this,e),this.providerId=t,this.signInMethod=n}return ce(e,[{key:"toJSON",value:function(){return jn("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return jn("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return jn("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return jn("not implemented")}}]),e}();function ni(e,t){return ri.apply(this,arguments)}function ri(){return ri=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:resetPassword",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),ri.apply(this,arguments)}function ii(e,t){return ai.apply(this,arguments)}function ai(){return ai=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),ai.apply(this,arguments)}function oi(e,t){return ui.apply(this,arguments)}function ui(){return ui=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:update",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),ui.apply(this,arguments)}function si(e,t){return ci.apply(this,arguments)}function ci(){return ci=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:signInWithPassword",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),ci.apply(this,arguments)}function li(e,t){return fi.apply(this,arguments)}function fi(){return fi=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:sendOobCode",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),fi.apply(this,arguments)}function di(e,t){return hi.apply(this,arguments)}function hi(){return hi=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",li(t,n));case 1:case"end":return e.stop()}}),e)}))),hi.apply(this,arguments)}function pi(e,t){return vi.apply(this,arguments)}function vi(){return vi=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",li(t,n));case 1:case"end":return e.stop()}}),e)}))),vi.apply(this,arguments)}function mi(e,t){return gi.apply(this,arguments)}function gi(){return gi=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",li(t,n));case 1:case"end":return e.stop()}}),e)}))),gi.apply(this,arguments)}function yi(e,t){return bi.apply(this,arguments)}function bi(){return bi=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",li(t,n));case 1:case"end":return e.stop()}}),e)}))),bi.apply(this,arguments)}function ki(e,t){return wi.apply(this,arguments)}function wi(){return wi=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:signInWithEmailLink",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),wi.apply(this,arguments)}function xi(e,t){return _i.apply(this,arguments)}function _i(){return _i=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:signInWithEmailLink",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),_i.apply(this,arguments)}var Si=function(e){de(n,e);var t=me(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return ue(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ce(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",si(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ki(t,{email:this._email,oobCode:this._password}));case 5:An(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ii(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xi(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:An(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(ti);function Ii(e,t){return Ei.apply(this,arguments)}function Ei(){return Ei=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:signInWithIdp",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ei.apply(this,arguments)}var Ti=function(e){de(n,e);var t=me(n);function n(){var e;return ue(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ce(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Ii(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ii(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ii(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ue(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):An("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=dn(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(ti);function Ci(e,t){return Ni.apply(this,arguments)}function Ni(){return Ni=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:sendVerificationCode",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ni.apply(this,arguments)}function Ri(){return Ri=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:signInWithPhoneNumber",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ri.apply(this,arguments)}function Ai(){return Ai=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tr(t,"POST","/v1/accounts:signInWithPhoneNumber",$n(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw ar(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Ai.apply(this,arguments)}var Pi=(0,a.Z)({},"USER_NOT_FOUND","user-not-found");function Oi(){return Oi=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",tr(t,"POST","/v1/accounts:signInWithPhoneNumber",$n(t,r),Pi));case 2:case"end":return e.stop()}}),e)}))),Oi.apply(this,arguments)}var Di=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ce(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Ri.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Ai.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Oi.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(ti);var Li=function(){function e(t){var n,r,i,a,o,u;ue(this,e);var s=Ve(ze(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Mn(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ce(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ve(ze(e)).link,n=t?Ve(ze(t)).deep_link_id:null,r=Ve(ze(e)).deep_link_id;return(r?Ve(ze(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Gx){return null}}}]),e}();var Mi=function(){function e(){ue(this,e),this.providerId=e.PROVIDER_ID}return ce(e,null,[{key:"credential",value:function(e,t){return Si._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Li.parseLink(t);return Mn(n,"argument-error"),Si._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Mi.PROVIDER_ID="password",Mi.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Mi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var ji=function(){function e(t){ue(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ce(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Fi=function(e){de(n,e);var t=me(n);function n(){var e;return ue(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ce(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return(0,ne.Z)(this.scopes)}}]),n}(ji),Zi=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Mn(e.idToken||e.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Mn("providerId"in t&&"signInMethod"in t,"argument-error"),Ti._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Fi),Ui=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.call(this,"facebook.com")}return ce(n,null,[{key:"credential",value:function(e){return Ti._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Gx){return null}}}]),n}(Fi);Ui.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ui.PROVIDER_ID="facebook.com";var Vi=function(e){de(n,e);var t=me(n);function n(){var e;return ue(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ce(n,null,[{key:"credential",value:function(e,t){return Ti._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Gx){return null}}}]),n}(Fi);Vi.GOOGLE_SIGN_IN_METHOD="google.com",Vi.PROVIDER_ID="google.com";var zi=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.call(this,"github.com")}return ce(n,null,[{key:"credential",value:function(e){return Ti._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Gx){return null}}}]),n}(Fi);zi.GITHUB_SIGN_IN_METHOD="github.com",zi.PROVIDER_ID="github.com";var Bi=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ce(n,[{key:"_getIdTokenResponse",value:function(e){return Ii(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Ii(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Ii(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(ti),qi=function(e){de(n,e);var t=me(n);function n(e){return ue(this,n),Mn(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ce(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Bi.fromJSON(e);return Mn(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Bi._create(r,n)}catch(i){return null}}}]),n}(ji),Wi=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.call(this,"twitter.com")}return ce(n,null,[{key:"credential",value:function(e,t){return Ti._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Gx){return null}}}]),n}(Fi);function Ki(e,t){return Hi.apply(this,arguments)}function Hi(){return Hi=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:signUp",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hi.apply(this,arguments)}Wi.TWITTER_SIGN_IN_METHOD="twitter.com",Wi.PROVIDER_ID="twitter.com";var Gi=function(){function e(t){ue(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ce(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=ie(te().mark((function t(n,r,i){var a,o,u,s,c=arguments;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Rr._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Qi(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=ie(te().mark((function t(n,r,i){var a;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Qi(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Qi(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function $i(){return $i=ie(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$r(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Gi({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ki(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Gi._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),$i.apply(this,arguments)}var Xi=function(e){de(n,e);var t=me(n);function n(e,r,i,a){var o,u;return ue(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(le(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ce(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Oe);function Yi(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Xi._fromErrorAndOperation(e,n,t,r);throw n}))}function Ji(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ea(e,t){return ta.apply(this,arguments)}function ta(){return ta=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ke(t),e.next=3,ia(!0,r,n);case 3:return e.t0=sr,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Ji(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),ta.apply(this,arguments)}function na(e,t){return ra.apply(this,arguments)}function ra(){return ra=ie(te().mark((function e(t,n){var r,i,a=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=mr,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Gi._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),ra.apply(this,arguments)}function ia(e,t,n){return aa.apply(this,arguments)}function aa(){return(aa=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(n);case 2:i=Ji(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Mn(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(e,t){return ua.apply(this,arguments)}function ua(){return ua=ie(te().mark((function e(t,n){var r,i,a,o,u,s,c,l=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,o="reauthenticate",e.prev=3,e.next=6,mr(t,Yi(a,o,n,t),r);case 6:return Mn((u=e.sent).idToken,a,"internal-error"),Mn(s=vr(u.idToken),a,"internal-error"),c=s.sub,Mn(t.uid===c,a,"user-mismatch"),e.abrupt("return",Gi._forOperation(t,o,u));case 15:throw e.prev=15,e.t0=e.catch(3),(null===(i=e.t0)||void 0===i?void 0:i.code)==="auth/".concat("user-not-found")&&An(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),ua.apply(this,arguments)}function sa(e,t){return ca.apply(this,arguments)}function ca(){return ca=ie(te().mark((function e(t,n){var r,i,a,o,u=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Yi(t,i,n);case 4:return a=e.sent,e.next=7,Gi._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function la(e,t){return fa.apply(this,arguments)}function fa(){return fa=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sa($r(t),n));case 1:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function da(e,t){return ha.apply(this,arguments)}function ha(){return(ha=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ke(t),e.next=3,ia(!1,r,n.providerId);case 3:return e.abrupt("return",na(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(e,t){return va.apply(this,arguments)}function va(){return(va=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",oa(Ke(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ma(e,t){return ga.apply(this,arguments)}function ga(){return ga=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",tr(t,"POST","/v1/accounts:signInWithCustomToken",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}function ya(){return ya=ie(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$r(t),e.next=3,ma(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Gi._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ya.apply(this,arguments)}var ba=function(){function e(t,n){ue(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ce(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?ka._fromServerResponse(e,t):An(e,"internal-error")}}]),e}(),ka=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ce(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ba);function wa(e,t,n){var r;Mn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Mn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Mn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Mn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function xa(){return xa=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ke(t),a={requestType:"PASSWORD_RESET",email:n},r&&wa(i,a,r),e.next=5,pi(i,a);case 5:case"end":return e.stop()}}),e)}))),xa.apply(this,arguments)}function _a(){return _a=ie(te().mark((function e(t,n,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ni(Ke(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function Sa(){return Sa=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oi(Ke(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}function Ia(e,t){return Ea.apply(this,arguments)}function Ea(){return Ea=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ke(t),e.next=3,ni(r,{oobCode:n});case 3:i=e.sent,Mn(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Mn(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Mn(i.mfaInfo,r,"internal-error");case 13:Mn(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ba._fromServerResponse($r(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function Ta(){return Ta=ie(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ia(Ke(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),Ta.apply(this,arguments)}function Ca(e,t,n){return Na.apply(this,arguments)}function Na(){return Na=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$r(t),e.next=3,Ki(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Gi._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),Na.apply(this,arguments)}function Ra(e,t,n){return la(Ke(e),Mi.credential(t,n))}function Aa(){return Aa=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ke(t),a={requestType:"EMAIL_SIGNIN",email:n},Mn(r.handleCodeInApp,i,"argument-error"),r&&wa(i,a,r),e.next=6,mi(i,a);case 6:case"end":return e.stop()}}),e)}))),Aa.apply(this,arguments)}function Pa(){return Pa=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ke(t),Mn((a=Mi.credentialWithLink(n,r||zn()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",la(i,a));case 4:case"end":return e.stop()}}),e)}))),Pa.apply(this,arguments)}function Oa(e,t){return Da.apply(this,arguments)}function Da(){return Da=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:createAuthUri",$n(t,n)));case 1:case"end":return e.stop()}}),e)}))),Da.apply(this,arguments)}function La(){return La=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bn()?zn():"http://localhost",i={identifier:n,continueUri:r},e.next=4,Oa(Ke(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),La.apply(this,arguments)}function Ma(){return(Ma=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ke(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&wa(r.auth,a,n),e.next=8,di(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(){return(ja=ie(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ke(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&wa(i.auth,o,r),e.next=8,yi(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fa(e,t){return Za.apply(this,arguments)}function Za(){return Za=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xn(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Za.apply(this,arguments)}function Ua(){return(Ua=ie(te().mark((function e(t,n){var r,i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Ke(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,mr(a,Fa(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Va(e,t){return Ba(Ke(e),t,null)}function za(e,t){return Ba(Ke(e),null,t)}function Ba(e,t,n){return qa.apply(this,arguments)}function qa(){return qa=ie(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,mr(t,ii(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),qa.apply(this,arguments)}var Wa=ce((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ue(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ka=function(e){de(n,e);var t=me(n);function n(e,r,i,a){var o;return ue(this,n),(o=t.call(this,e,r,i)).username=a,o}return ce(n)}(Wa),Ha=function(e){de(n,e);var t=me(n);function n(e,r){return ue(this,n),t.call(this,e,"facebook.com",r)}return ce(n)}(Wa),Ga=function(e){de(n,e);var t=me(n);function n(e,r){return ue(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ce(n)}(Ka),Qa=function(e){de(n,e);var t=me(n);function n(e,r){return ue(this,n),t.call(this,e,"google.com",r)}return ce(n)}(Wa),$a=function(e){de(n,e);var t=me(n);function n(e,r,i){return ue(this,n),t.call(this,e,"twitter.com",r,i)}return ce(n)}(Ka);function Xa(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=vr(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Wa(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Ha(a,i);case"github.com":return new Ga(a,i);case"google.com":return new Qa(a,i);case"twitter.com":return new $a(a,i,e.screenName||null);case"custom":case"anonymous":return new Wa(a,null);default:return new Wa(a,r,i)}}(n)}function Ya(e){return Ke(e).signOut()}var Ja=function(){function e(t,n){ue(this,e),this.type=t,this.credential=n}return ce(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:(0,a.Z)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),eo=function(){function e(t,n,r){ue(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ce(e,[{key:"resolveSignIn",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=$r(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ba._fromServerResponse(r,e)}));Mn(i.mfaPendingCredential,r,"internal-error");var o=Ja._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=ie(te().mark((function e(t){var a,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Gi._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Mn(n.user,r,"internal-error"),e.abrupt("return",Gi._forOperation(n.user,n.operationType,u));case 17:An(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function to(e,t){return Xn(e,"POST","/v2/accounts/mfaEnrollment:start",$n(e,t))}function no(e,t){return Xn(e,"POST","/v2/accounts/mfaEnrollment:withdraw",$n(e,t))}var ro=function(){function e(t){var n=this;ue(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ba._fromServerResponse(t.auth,e)})))}))}return ce(e,[{key:"getSession",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ja,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=ie(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,mr(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=ie(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return i=e.sent,e.next=6,mr(this.user,no(this.user.auth,{idToken:i,mfaEnrollmentId:r}));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==r})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),(null===(n=e.t0)||void 0===n?void 0:n.code)==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),io=new WeakMap;var ao="__sak",oo=function(){function e(t,n){ue(this,e),this.storageRetriever=t,this.type=n}return ce(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(ao,"1"),this.storage.removeItem(ao),Promise.resolve(!0)):Promise.resolve(!1)}catch(Gx){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var uo=function(e){de(n,e);var t=me(n);function n(){var e;return ue(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Ee();return jr(e)||Br(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Kr(),e._shouldAllowMigration=!0,e}return ce(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Wr()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=ie(te().mark((function e(t,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn(he(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ie(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn(he(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn(he(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(oo);uo.type="LOCAL";var so=uo,co=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ce(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(oo);co.type="SESSION";var lo=co;function fo(e){return Promise.all(e.map(function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ho=function(){function e(t){ue(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ce(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=ie(te().mark((function e(t){var n,r,i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,fo(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function po(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ho.receivers=[];var vo=function(){function e(t){ue(this,e),this.target=t,this.handlers=new Set}return ce(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=ie(te().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=po("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function mo(){return window}function go(){return"undefined"!==typeof mo().WorkerGlobalScope&&"function"===typeof mo().importScripts}function yo(){return bo.apply(this,arguments)}function bo(){return(bo=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function ko(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var wo="firebaseLocalStorageDb",xo="firebaseLocalStorage",_o="fbase_key",So=function(){function e(t){ue(this,e),this.request=t}return ce(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Io(e,t){return e.transaction([xo],t?"readwrite":"readonly").objectStore(xo)}function Eo(){var e=indexedDB.deleteDatabase(wo);return new So(e).toPromise()}function To(){var e=indexedDB.open(wo,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(xo,{keyPath:_o})}catch(r){n(r)}})),e.addEventListener("success",ie(te().mark((function n(){var r;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(xo)){n.next=12;break}return r.close(),n.next=5,Eo();case 5:return n.t0=t,n.next=8,To();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Co(e,t,n){return No.apply(this,arguments)}function No(){return No=ie(te().mark((function e(t,n,r){var i,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Io(t,!0).put((i={},(0,a.Z)(i,_o,n),(0,a.Z)(i,"value",r),i)),e.abrupt("return",new So(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),No.apply(this,arguments)}function Ro(e,t){return Ao.apply(this,arguments)}function Ao(){return Ao=ie(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Io(t,!1).get(n),e.next=3,new So(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Ao.apply(this,arguments)}function Po(e,t){var n=Io(e,!0).delete(t);return new So(n).toPromise()}var Oo=function(){function e(){ue(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ce(e,[{key:"_openDb",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,To();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",go()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=ie(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ho._getInstance(go()?self:null),this.receiver._subscribe("keyChanged",function(){var e=ie(te().mark((function e(n,r){var i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=ie(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yo();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new vo(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&ko()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,To();case 5:return t=e.sent,e.next=8,Co(t,ao,"1");case 8:return e.next=10,Po(t,ao);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=ie(te().mark((function e(t,n){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Co(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Ro(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=ie(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Po(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=ie(te().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Io(e,!1).getAll();return new So(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=oe(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(d){i.e(d)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(ie(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Oo.type="LOCAL";var Do=Oo;function Lo(e,t){return Xn(e,"POST","/v2/accounts/mfaSignIn:start",$n(e,t))}function Mo(e){return jo.apply(this,arguments)}function jo(){return jo=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xn(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),jo.apply(this,arguments)}function Fo(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=Pn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Zo(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Uo=1e12,Vo=function(){function e(t){ue(this,e),this.auth=t,this.counter=Uo,this._widgets=new Map}return ce(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new zo(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||Uo;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||Uo;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||Uo,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),zo=function(){function e(t,n,r){var i=this;ue(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Mn(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ce(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Bo=Zo("rcb"),qo=new Wn(3e4,6e4),Wo="https://www.google.com/recaptcha/api.js?",Ko=function(){function e(){var t;ue(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(t=mo().grecaptcha)||void 0===t?void 0:t.render)}return ce(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Mn(Ho(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(mo().grecaptcha):new Promise((function(r,i){var a=mo().setTimeout((function(){i(Pn(e,"network-request-failed"))}),qo.get());mo()[Bo]=function(){mo().clearTimeout(a),delete mo()[Bo];var o=mo().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(Pn(e,"internal-error"))},Fo("".concat(Wo,"?").concat(Ue({onload:Bo,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(Pn(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){var t;return!!(null===(t=mo().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Ho(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Go=function(){function e(){ue(this,e)}return ce(e,[{key:"load",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Vo(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Qo="recaptcha",$o={theme:"light",type:"image"},Xo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},$o),r=arguments.length>2?arguments[2]:void 0;ue(this,e),this.parameters=n,this.type=Qo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$r(r),this.isInvisible="invisible"===this.parameters.size,Mn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Mn(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Go:new Ko,this.validateStartingState()}return ce(e,[{key:"verify",value:function(){var e=ie(te().mark((function e(){var t,n,r,i=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Mn(!this.parameters.sitekey,this.auth,"argument-error"),Mn(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Mn("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=mo()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Mn(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=ie(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mn(Bn()&&!go(),this.auth,"internal-error"),e.next=3,Yo();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Mo(this.auth);case 8:Mn(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Mn(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Yo(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Jo=function(){function e(t,n){ue(this,e),this.verificationId=t,this.onConfirmation=n}return ce(e,[{key:"confirm",value:function(e){var t=Di._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function eu(){return eu=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$r(t),e.next=3,iu(i,n,Ke(r));case 3:return a=e.sent,e.abrupt("return",new Jo(a,(function(e){return la(i,e)})));case 5:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e,t,n){return nu.apply(this,arguments)}function nu(){return(nu=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ke(t),e.next=3,ia(!1,i,"phone");case 3:return e.next=5,iu(i.auth,n,Ke(r));case 5:return a=e.sent,e.abrupt("return",new Jo(a,(function(e){return da(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ru(){return(ru=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ke(t),e.next=3,iu(i.auth,n,Ke(r));case 3:return a=e.sent,e.abrupt("return",new Jo(a,(function(e){return pa(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function iu(e,t,n){return au.apply(this,arguments)}function au(){return au=ie(te().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Mn("string"===typeof a,t,"argument-error"),Mn(r.type===Qo,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Mn("enroll"===u.type,t,"internal-error"),e.next=13,to(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Mn("signin"===u.type,t,"internal-error"),Mn(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Lo(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ci(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,d=f.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),au.apply(this,arguments)}function ou(){return(ou=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(Ke(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var uu=function(){function e(t){ue(this,e),this.providerId=e.PROVIDER_ID,this.auth=$r(t)}return ce(e,[{key:"verifyPhoneNumber",value:function(e,t){return iu(this.auth,e,Ke(t))}}],[{key:"credential",value:function(e,t){return Di._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Di._fromTokenResponse(n,r):null}}]),e}();function su(e,t){return t?Un(t):(Mn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}uu.PROVIDER_ID="phone",uu.PHONE_SIGN_IN_METHOD="phone";var cu=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ce(n,[{key:"_getIdTokenResponse",value:function(e){return Ii(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Ii(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Ii(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(ti);function lu(e){return sa(e.auth,new cu(e),e.bypassAuthState)}function fu(e){var t=e.auth,n=e.user;return Mn(n,t,"internal-error"),oa(n,new cu(e),e.bypassAuthState)}function du(e){return hu.apply(this,arguments)}function hu(){return hu=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Mn(r=t.user,n,"internal-error"),e.abrupt("return",na(r,new cu(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),hu.apply(this,arguments)}var pu=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ue(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ce(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=ie(te().mark((function t(n,r){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=ie(te().mark((function e(t){var n,r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lu;case"linkViaPopup":case"linkViaRedirect":return du;case"reauthViaPopup":case"reauthViaRedirect":return fu;default:An(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),vu=new Wn(2e3,1e4);function mu(e,t,n){return gu.apply(this,arguments)}function gu(){return gu=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$r(t),Dn(t,n,ji),a=su(i,r),o=new wu(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),gu.apply(this,arguments)}function yu(){return(yu=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dn((i=Ke(t)).auth,n,ji),a=su(i.auth,r),o=new wu(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bu(e,t,n){return ku.apply(this,arguments)}function ku(){return(ku=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dn((i=Ke(t)).auth,n,ji),a=su(i.auth,r),o=new wu(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wu=function(e){de(n,e);var t=me(n);function n(e,r,i,a,o){var u;return ue(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=le(u),u}return ce(n,[{key:"executeNotNull",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Mn(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ie(te().mark((function e(){var t,n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fn(1===this.filter.length,"Popup operations only handle one event"),t=po(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(Pn(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(Pn(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(Pn(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,vu.get())}()}}]),n}(pu);wu.currentPopupAction=null;var xu=new Map,_u=function(e){de(n,e);var t=me(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ue(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ce(n,[{key:"execute",value:function(){var e=ie(te().mark((function e(){var t,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=xu.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Su(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,fn(he(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:xu.set(this.auth._key(),t);case 21:return this.bypassAuthState||xu.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=ie(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",fn(he(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",fn(he(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(pu);function Su(e,t){return Iu.apply(this,arguments)}function Iu(){return Iu=ie(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ru(n),i=Nu(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Iu.apply(this,arguments)}function Eu(e,t){return Tu.apply(this,arguments)}function Tu(){return Tu=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Nu(t)._set(Ru(n),"true"));case 1:case"end":return e.stop()}}),e)}))),Tu.apply(this,arguments)}function Cu(e,t){xu.set(e._key(),t)}function Nu(e){return Un(e._redirectPersistence)}function Ru(e){return Or("pendingRedirect",e.config.apiKey,e.name)}function Au(e,t,n){return function(e,t,n){return Pu.apply(this,arguments)}(e,t,n)}function Pu(){return Pu=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$r(t),Dn(t,n,ji),a=su(i,r),e.next=5,Eu(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),Pu.apply(this,arguments)}function Ou(e,t,n){return function(e,t,n){return Du.apply(this,arguments)}(e,t,n)}function Du(){return(Du=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dn((i=Ke(t)).auth,n,ji),a=su(i.auth,r),e.next=5,Eu(a,i.auth);case 5:return e.next=7,Vu(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t,n){return function(e,t,n){return Mu.apply(this,arguments)}(e,t,n)}function Mu(){return(Mu=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Dn((i=Ke(t)).auth,n,ji),a=su(i.auth,r),e.next=5,ia(!1,i,n.providerId);case 5:return e.next=7,Eu(a,i.auth);case 7:return e.next=9,Vu(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ju(e,t){return Fu.apply(this,arguments)}function Fu(){return Fu=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$r(t)._initializationPromise;case 2:return e.abrupt("return",Zu(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),Fu.apply(this,arguments)}function Zu(e,t){return Uu.apply(this,arguments)}function Uu(){return Uu=ie(te().mark((function e(t,n){var r,i,a,o,u,s=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=$r(t),a=su(i,n),o=new _u(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),Uu.apply(this,arguments)}function Vu(e){return zu.apply(this,arguments)}function zu(){return(zu=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=po("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Bu=function(){function e(t){ue(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ce(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Wu(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Wu(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Pn(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(qu(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(qu(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function qu(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Wu(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Ku(e){return Hu.apply(this,arguments)}function Hu(){return Hu=ie(te().mark((function e(t){var n,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Xn(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}var Gu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Qu=/^https?/;function $u(){return $u=ie(te().mark((function e(t){var n,r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Ku(t);case 4:n=e.sent,r=n.authorizedDomains,i=oe(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Xu(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:An(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),$u.apply(this,arguments)}function Xu(e){var t=zn(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Qu.test(r))return!1;if(Gu.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Yu=new Wn(3e4,6e4);function Ju(){var e=mo().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=(0,ne.Z)(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var es=null;function ts(e){return es=es||function(e){return new Promise((function(t,n){var r,i,a;function o(){Ju(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Ju(),n(Pn(e,"network-request-failed"))},timeout:Yu.get()})}if(null===(i=null===(r=mo().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=mo().gapi)||void 0===a?void 0:a.load)){var u=Zo("iframefcb");return mo()[u]=function(){gapi.load?o():n(Pn(e,"network-request-failed"))},Fo("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw es=null,e}))}(e),es}var ns=new Wn(5e3,15e3),rs={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},is=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function as(e){var t=e.config;Mn(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Kn(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Ut},i=is.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ue(r).slice(1))}function os(e){return us.apply(this,arguments)}function us(){return us=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ts(t);case 2:return n=e.sent,Mn(r=mo().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:as(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rs,dontclear:!0},(function(e){return new Promise(function(){var n=ie(te().mark((function n(r,i){var a,o,u;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){mo().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=Pn(t,"network-request-failed"),o=mo().setTimeout((function(){i(a)}),ns.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}var ss={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cs="_blank",ls="http://localhost",fs=function(){function e(t){ue(this,e),this.window=t,this.associatedEvent=null}return ce(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function ds(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},ss),{width:r.toString(),height:i.toString(),top:a,left:o}),l=Ee().toLowerCase();n&&(u=Fr(l)?cs:n),Mr(l)&&(t=t||ls,s.scrollbars="yes");var f=Object.entries(s).reduce((function(e,t){var n=(0,c.Z)(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(qr(l)&&"_self"!==u)return hs(t||"",u),new fs(null);var d=window.open(t||"",u,f);Mn(d,e,"popup-blocked");try{d.focus()}catch(h){}return new fs(d)}function hs(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var ps="__/auth/handler",vs="emulator/auth/handler";function ms(e,t,n,r,i,a){Mn(e.config.authDomain,e,"auth-domain-config-required"),Mn(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Ut,eventId:i};if(t instanceof ji){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var l=(0,c.Z)(s[u],2),f=l[0],d=l[1];o[f]=d}}if(t instanceof Fi){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,m=Object.keys(p);v<m.length;v++){var g=m[v];void 0===p[g]&&delete p[g]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ps);return Kn(t,vs)}(e),"?").concat(Ue(p).slice(1))}var gs="webStorageSupport",ys=function(){function e(){ue(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lo,this._completeRedirectFn=Zu,this._overrideRedirectResult=Cu}return ce(e,[{key:"_openPopup",value:function(){var e=ie(te().mark((function e(t,n,r,i){var a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Fn(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=ms(t,n,r,zn(),i),e.abrupt("return",ds(t,o,po()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ie(te().mark((function e(t,n,r,i){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=ms(t,n,r,zn(),i),mo().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Fn(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,os(t);case 2:return n=e.sent,r=new Bu(t),n.register("authEvent",(function(e){return Mn(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(gs,{type:gs},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),An(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return $u.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Kr()||jr()||Br()}}]),e}(),bs=ys,ks=function(){function e(t){ue(this,e),this.factorId=t}return ce(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return jn("unexpected MultiFactorSessionType")}}}]),e}(),ws=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this,"phone")).credential=e,r}return ce(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Xn(e,"POST","/v2/accounts/mfaEnrollment:finalize",$n(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Xn(e,"POST","/v2/accounts/mfaSignIn:finalize",$n(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(ks),xs=function(){function e(){ue(this,e)}return ce(e,null,[{key:"assertion",value:function(e){return ws._fromCredential(e)}}]),e}();xs.FACTOR_ID="phone";var _s,Ss="@firebase/auth",Is="0.20.5",Es=function(){function e(t){ue(this,e),this.auth=t,this.internalListeners=new Map}return ce(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Mn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt(),t=Dt(e,"auth");return t.isInitialized()?t.getImmediate():Vn(e,{popupRedirectResolver:bs,persistence:[Do,so,lo]})}_s="Browser",Ot(new He("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Mn(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Mn(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:_s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hr(_s)},i=new Qr(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Un);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ot(new He("auth-internal",(function(e){return function(e){return new Es(e)}($r(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Kt(Ss,Is,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_s)),Kt(Ss,Is,"esm2017");var Cs,Ns="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Rs={},As=As||{},Ps=Ns||self;function Os(){}function Ds(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ls(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ms="closure_uid_"+(1e9*Math.random()>>>0),js=0;function Fs(e,t,n){return e.call.apply(e.bind,arguments)}function Zs(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Us(e,t,n){return(Us=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Fs:Zs).apply(null,arguments)}function Vs(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function zs(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Bs(){this.s=this.s,this.o=this.o}var qs={};Bs.prototype.s=!1,Bs.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Ms)&&e[Ms]||(e[Ms]=++js)}(this);delete qs[e]}},Bs.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Ws=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ks=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Hs(e){return Array.prototype.concat.apply([],arguments)}function Gs(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Qs(e){return/^[\s\xa0]*$/.test(e)}var $s,Xs=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ys(e,t){return-1!=e.indexOf(t)}function Js(e,t){return e<t?-1:e>t?1:0}e:{var ec=Ps.navigator;if(ec){var tc=ec.userAgent;if(tc){$s=tc;break e}}$s=""}function nc(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function rc(e){var t={};for(var n in e)t[n]=e[n];return t}var ic="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ac(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ic.length;a++)n=ic[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function oc(e){return oc[" "](e),e}oc[" "]=Os;var uc,sc=Ys($s,"Opera"),cc=Ys($s,"Trident")||Ys($s,"MSIE"),lc=Ys($s,"Edge"),fc=lc||cc,dc=Ys($s,"Gecko")&&!(Ys($s.toLowerCase(),"webkit")&&!Ys($s,"Edge"))&&!(Ys($s,"Trident")||Ys($s,"MSIE"))&&!Ys($s,"Edge"),hc=Ys($s.toLowerCase(),"webkit")&&!Ys($s,"Edge");function pc(){var e=Ps.document;return e?e.documentMode:void 0}e:{var vc="",mc=function(){var e=$s;return dc?/rv:([^\);]+)(\)|;)/.exec(e):lc?/Edge\/([\d\.]+)/.exec(e):cc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):hc?/WebKit\/(\S+)/.exec(e):sc?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(mc&&(vc=mc?mc[1]:""),cc){var gc=pc();if(null!=gc&&gc>parseFloat(vc)){uc=String(gc);break e}}uc=vc}var yc,bc={};function kc(){return function(e){var t=bc;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Xs(String(uc)).split("."),n=Xs("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Js(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Js(0==a[2].length,0==o[2].length)||Js(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Ps.document&&cc){var wc=pc();yc=wc||(parseInt(uc,10)||void 0)}else yc=void 0;var xc=yc,_c=function(){if(!Ps.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Ps.addEventListener("test",Os,t),Ps.removeEventListener("test",Os,t)}catch(n){}return e}();function Sc(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Ic(e,t){if(Sc.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(dc){e:{try{oc(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ec[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ic.Z.h.call(this)}}Sc.prototype.h=function(){this.defaultPrevented=!0},zs(Ic,Sc);var Ec={2:"touch",3:"pen",4:"mouse"};Ic.prototype.h=function(){Ic.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Tc="closure_listenable_"+(1e6*Math.random()|0),Cc=0;function Nc(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Cc,this.ca=this.fa=!1}function Rc(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Ac(e){this.src=e,this.g={},this.h=0}function Pc(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Ws(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Rc(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Oc(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Ac.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Oc(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Nc(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Dc="closure_lm_"+(1e6*Math.random()|0),Lc={};function Mc(e,t,n,r,i){if(r&&r.once)return Fc(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Mc(e,t[a],n,r,i);return null}return n=Wc(n),e&&e[Tc]?e.N(t,n,Ls(r)?!!r.capture:!!r,i):jc(e,t,n,!1,r,i)}function jc(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ls(i)?!!i.capture:!!i,u=Bc(e);if(u||(e[Dc]=u=new Ac(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=zc;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_c||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Vc(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fc(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Fc(e,t[a],n,r,i);return null}return n=Wc(n),e&&e[Tc]?e.O(t,n,Ls(r)?!!r.capture:!!r,i):jc(e,t,n,!0,r,i)}function Zc(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Zc(e,t[a],n,r,i);else r=Ls(r)?!!r.capture:!!r,n=Wc(n),e&&e[Tc]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Oc(a=e.g[t],n,r,i))&&(Rc(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Bc(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Oc(t,n,r,i)),(n=-1<e?t[e]:null)&&Uc(n))}function Uc(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Tc])Pc(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Vc(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Bc(t))?(Pc(n,e),0==n.h&&(n.src=null,t[Dc]=null)):Rc(e)}}}function Vc(e){return e in Lc?Lc[e]:Lc[e]="on"+e}function zc(e,t){if(e.ca)e=!0;else{t=new Ic(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Uc(e),e=n.call(r,t)}return e}function Bc(e){return(e=e[Dc])instanceof Ac?e:null}var qc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wc(e){return"function"===typeof e?e:(e[qc]||(e[qc]=function(t){return e.handleEvent(t)}),e[qc])}function Kc(){Bs.call(this),this.i=new Ac(this),this.P=this,this.I=null}function Hc(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Sc(t,e);else if(t instanceof Sc)t.target=t.target||e;else{var i=t;ac(t=new Sc(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Gc(o,r,!0,t)&&i}if(i=Gc(o=t.g=e,r,!0,t)&&i,i=Gc(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Gc(o=t.g=n[a],r,!1,t)&&i}function Gc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&Pc(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}zs(Kc,Bs),Kc.prototype[Tc]=!0,Kc.prototype.removeEventListener=function(e,t,n,r){Zc(this,e,t,n,r)},Kc.prototype.M=function(){if(Kc.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rc(n[r]);delete t.g[e],t.h--}}this.I=null},Kc.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Kc.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Qc=Ps.JSON.stringify;function $c(){var e=il,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Xc,Yc=function(){function e(){ue(this,e),this.h=this.g=null}return ce(e,[{key:"add",value:function(e,t){var n=Jc.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Jc=new(function(){function e(t,n){ue(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ce(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new el}),(function(e){return e.reset()})),el=function(){function e(){ue(this,e),this.next=this.g=this.h=null}return ce(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function tl(e){Ps.setTimeout((function(){throw e}),0)}function nl(e,t){Xc||function(){var e=Ps.Promise.resolve(void 0);Xc=function(){e.then(al)}}(),rl||(Xc(),rl=!0),il.add(e,t)}var rl=!1,il=new Yc;function al(){for(var e;e=$c();){try{e.h.call(e.g)}catch(n){tl(n)}var t=Jc;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}rl=!1}function ol(e,t){Kc.call(this),this.h=e||1,this.g=t||Ps,this.j=Us(this.kb,this),this.l=Date.now()}function ul(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function sl(e,t,n){if("function"===typeof e)n&&(e=Us(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Us(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ps.setTimeout(e,t||0)}function cl(e){e.g=sl((function(){e.g=null,e.i&&(e.i=!1,cl(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}zs(ol,Kc),(Cs=ol.prototype).da=!1,Cs.S=null,Cs.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hc(this,"tick"),this.da&&(ul(this),this.start()))}},Cs.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Cs.M=function(){ol.Z.M.call(this),ul(this),delete this.g};var ll=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ce(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:cl(this)}},{key:"M",value:function(){fn(he(n.prototype),"M",this).call(this),this.g&&(Ps.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Bs);function fl(e){Bs.call(this),this.h=e,this.g={}}zs(fl,Bs);var dl=[];function hl(e,t,n,r){Array.isArray(n)||(n&&(dl[0]=n.toString()),n=dl);for(var i=0;i<n.length;i++){var a=Mc(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function pl(e){nc(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Uc(e)}),e),e.g={}}function vl(){this.g=!0}function ml(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Qc(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}fl.prototype.M=function(){fl.Z.M.call(this),pl(this)},fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vl.prototype.Aa=function(){this.g=!1},vl.prototype.info=function(){};var gl={},yl=null;function bl(){return yl=yl||new Kc}function kl(e){Sc.call(this,gl.Ma,e)}function wl(e){var t=bl();Hc(t,new kl(t,e))}function xl(e,t){Sc.call(this,gl.STAT_EVENT,e),this.stat=t}function _l(e){var t=bl();Hc(t,new xl(t,e))}function Sl(e,t){Sc.call(this,gl.Na,e),this.size=t}function Il(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Ps.setTimeout((function(){e()}),t)}gl.Ma="serverreachability",zs(kl,Sc),gl.STAT_EVENT="statevent",zs(xl,Sc),gl.Na="timingevent",zs(Sl,Sc);var El={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Tl={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Cl(){}function Nl(e){return e.h||(e.h=e.i())}function Rl(){}Cl.prototype.h=null;var Al,Pl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ol(){Sc.call(this,"d")}function Dl(){Sc.call(this,"c")}function Ll(){}function Ml(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new fl(this),this.P=Fl,e=fc?125:void 0,this.W=new ol(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new jl}function jl(){this.i=null,this.g="",this.h=!1}zs(Ol,Sc),zs(Dl,Sc),zs(Ll,Cl),Ll.prototype.g=function(){return new XMLHttpRequest},Ll.prototype.i=function(){return{}},Al=new Ll;var Fl=45e3,Zl={},Ul={};function Vl(e,t,n){e.K=1,e.v=ff(af(t)),e.s=n,e.U=!0,zl(e,null)}function zl(e,t){e.F=Date.now(),Kl(e),e.A=af(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Sf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new jl,e.g=Ed(e.l,n?t:null,!e.s),0<e.O&&(e.L=new ll(Us(e.Ia,e,e.g),e.O)),hl(e.V,e.g,"readystatechange",e.gb),t=e.H?rc(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),wl(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Bl(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function ql(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Wl(e,n))==Ul){4==t&&(e.o=4,_l(14),i=!1),ml(e.j,e.m,null,"[Incomplete Response]");break}if(r==Zl){e.o=4,_l(15),ml(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ml(e.j,e.m,r,null),Xl(e,r)}Bl(e)&&r!=Ul&&r!=Zl&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,_l(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),yd(t),t.L=!0,_l(11))):(ml(e.j,e.m,n,"[Invalid Chunked Response]"),$l(e),Ql(e))}function Wl(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ul:(n=Number(t.substring(n,r)),isNaN(n)?Zl:(r+=1)+n>t.length?Ul:(t=t.substr(r,n),e.C=r+n,t))}function Kl(e){e.Y=Date.now()+e.P,Hl(e,e.P)}function Hl(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Il(Us(e.eb,e),t)}function Gl(e){e.B&&(Ps.clearTimeout(e.B),e.B=null)}function Ql(e){0==e.l.G||e.I||wd(e.l,e)}function $l(e){Gl(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,ul(e.W),pl(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Xl(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Pf(n.i,e)))if(n.I=e.N,!e.J&&Pf(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;kd(n),cd(n)}gd(n),_l(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Il(Us(n.ab,n),6e3));if(1>=Af(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else _d(n,11)}else if((e.J||n.g==e)&&kd(n),!Qs(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ys(l,"spdy")||Ys(l,"quic")||Ys(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(Of(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,lf(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=Id(r,r.H?r.la:null,r.W),h.J){Df(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(Gl(p),Kl(p)),r.g=h}else md(r);0<n.l.length&&dd(n)}else"stop"!=a[0]&&"close"!=a[0]||_d(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_d(n,7):sd(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}wl(4)}catch(a){}}function Yl(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Ds(e)||"string"===typeof e)Ks(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Ds(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Ds(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Jl(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Jl)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ef(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];tf(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)tf(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function tf(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Cs=Ml.prototype).setTimeout=function(e){this.P=e},Cs.gb=function(e){e=e.target;var t=this.L;t&&3==rd(e)?t.l():this.Ia(e)},Cs.Ia=function(e){try{if(e==this.g)e:{var t=rd(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||fc||this.g&&(this.h.h||this.g.ga()||id(this.g)))){this.I||4!=t||7==n||wl(8==n||0>=r?3:2),Gl(this);var i=this.g.ba();this.N=i;t:if(Bl(this)){var a=id(this.g);e="";var o=a.length,u=4==rd(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){$l(this),Ql(this);var s="";break t}this.h.i=new Ps.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qs(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,_l(12),$l(this),Ql(this);break e}ml(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xl(this,i)}this.U?(ql(this,t,s),fc&&this.i&&3==t&&(hl(this.V,this.W,"tick",this.fb),this.W.start())):(ml(this.j,this.m,s,null),Xl(this,s)),4==t&&$l(this),this.i&&!this.I&&(4==t?wd(this.l,this):(this.i=!1,Kl(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,_l(12)):(this.o=0,_l(13)),$l(this),Ql(this)}}}catch(t){}},Cs.fb=function(){if(this.g){var e=rd(this.g),t=this.g.ga();this.C<t.length&&(Gl(this),ql(this,e,t),this.i&&4!=e&&Kl(this))}},Cs.cancel=function(){this.I=!0,$l(this)},Cs.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(wl(3),_l(17)),$l(this),this.o=2,Ql(this)):Hl(this,this.Y-e)},(Cs=Jl.prototype).R=function(){ef(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Cs.T=function(){return ef(this),this.g.concat()},Cs.get=function(e,t){return tf(this.h,e)?this.h[e]:t},Cs.set=function(e,t){tf(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Cs.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var nf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rf(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof rf){this.g=void 0!==t?t:e.g,of(this,e.j),this.s=e.s,uf(this,e.i),sf(this,e.m),this.l=e.l,t=e.h;var n=new kf;n.i=t.i,t.g&&(n.g=new Jl(t.g),n.h=t.h),cf(this,n),this.o=e.o}else e&&(n=String(e).match(nf))?(this.g=!!t,of(this,n[1]||"",!0),this.s=df(n[2]||""),uf(this,n[3]||"",!0),sf(this,n[4]),this.l=df(n[5]||"",!0),cf(this,n[6]||"",!0),this.o=df(n[7]||"")):(this.g=!!t,this.h=new kf(null,this.g))}function af(e){return new rf(e)}function of(e,t,n){e.j=n?df(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function uf(e,t,n){e.i=n?df(t,!0):t}function sf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function cf(e,t,n){t instanceof kf?(e.h=t,function(e,t){t&&!e.j&&(wf(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(xf(this,t),Sf(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=hf(t,yf)),e.h=new kf(t,e.g))}function lf(e,t,n){e.h.set(t,n)}function ff(e){return lf(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function df(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function hf(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}rf.prototype.toString=function(){var e=[],t=this.j;t&&e.push(hf(t,vf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(hf(t,vf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(hf(n,"/"==n.charAt(0)?gf:mf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",hf(n,bf)),e.join("")};var vf=/[#\/\?@]/g,mf=/[#\?:]/g,gf=/[#\?]/g,yf=/[#\?@]/g,bf=/#/g;function kf(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wf(e){e.g||(e.g=new Jl,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function xf(e,t){wf(e),t=If(e,t),tf(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,tf((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ef(e)))}function _f(e,t){return wf(e),t=If(e,t),tf(e.g.h,t)}function Sf(e,t,n){xf(e,t),0<n.length&&(e.i=null,e.g.set(If(e,t),Gs(n)),e.h+=n.length)}function If(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Cs=kf.prototype).add=function(e,t){wf(this),this.i=null,e=If(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Cs.forEach=function(e,t){wf(this),this.g.forEach((function(n,r){Ks(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Cs.T=function(){wf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Cs.R=function(e){wf(this);var t=[];if("string"===typeof e)_f(this,e)&&(t=Hs(t,this.g.get(If(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Hs(t,e[n])}return t},Cs.set=function(e,t){return wf(this),this.i=null,_f(this,e=If(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Cs.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Cs.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Ef=ce((function e(t,n){ue(this,e),this.h=t,this.g=n}));function Tf(e){this.l=e||Nf,Ps.PerformanceNavigationTiming?e=0<(e=Ps.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ps.g&&Ps.g.Ea&&Ps.g.Ea()&&Ps.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Cf,Nf=10;function Rf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Af(e){return e.h?1:e.g?e.g.size:0}function Pf(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Of(e,t){e.g?e.g.add(t):e.h=t}function Df(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Lf(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=oe(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Gs(e.i)}function Mf(){}function jf(){this.g=new Mf}function Ff(e,t,n){var r=n||"";try{Yl(e,(function(e,n){var i=e;Ls(e)&&(i=Qc(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Zf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Uf(e){this.l=e.$b||null,this.j=e.ib||!1}function Vf(e,t){Kc.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=zf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Tf.prototype.cancel=function(){if(this.i=Lf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=oe(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Mf.prototype.stringify=function(e){return Ps.JSON.stringify(e,void 0)},Mf.prototype.parse=function(e){return Ps.JSON.parse(e,void 0)},zs(Uf,Cl),Uf.prototype.g=function(){return new Vf(this.l,this.j)},Uf.prototype.i=(Cf={},function(){return Cf}),zs(Vf,Kc);var zf=0;function Bf(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function qf(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Wf(e)}function Wf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Cs=Vf.prototype).open=function(e,t){if(this.readyState!=zf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Wf(this)},Cs.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Ps).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Cs.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,qf(this)),this.readyState=zf},Cs.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Wf(this)),this.g&&(this.readyState=3,Wf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof Ps.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bf(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Cs.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?qf(this):Wf(this),3==this.readyState&&Bf(this)}},Cs.Ua=function(e){this.g&&(this.response=this.responseText=e,qf(this))},Cs.Ta=function(e){this.g&&(this.response=e,qf(this))},Cs.ha=function(){this.g&&qf(this)},Cs.setRequestHeader=function(e,t){this.v.append(e,t)},Cs.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Cs.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Kf=Ps.JSON.parse;function Hf(e){Kc.call(this),this.headers=new Jl,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gf,this.K=this.L=!1}zs(Hf,Kc);var Gf="",Qf=/^https?$/i,$f=["POST","PUT"];function Xf(e){return"content-type"==e.toLowerCase()}function Yf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Jf(e),td(e)}function Jf(e){e.D||(e.D=!0,Hc(e,"complete"),Hc(e,"error"))}function ed(e){if(e.h&&"undefined"!=typeof As&&(!e.C[1]||4!=rd(e)||2!=e.ba()))if(e.v&&4==rd(e))sl(e.Fa,0,e);else if(Hc(e,"readystatechange"),4==rd(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(nf)[1]||null;if(!a&&Ps.self&&Ps.self.location){var o=Ps.self.location.protocol;a=o.substr(0,o.length-1)}i=!Qf.test(a?a.toLowerCase():"")}t=i}if(t)Hc(e,"complete"),Hc(e,"success");else{e.m=6;try{var u=2<rd(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Jf(e)}}finally{td(e)}}}function td(e,t){if(e.g){nd(e);var n=e.g,r=e.C[0]?Os:null;e.g=null,e.C=null,t||Hc(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function nd(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Ps.clearTimeout(e.A),e.A=null)}function rd(e){return e.g?e.g.readyState:0}function id(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Gf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function ad(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return nc(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):lf(e,t,n))}function od(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function ud(e){this.za=0,this.l=[],this.h=new vl,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=od("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=od("baseRetryDelayMs",5e3,e),this.$a=od("retryDelaySeedMs",1e4,e),this.Ya=od("forwardChannelMaxRetries",2,e),this.ra=od("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Tf(e&&e.concurrentRequestLimit),this.Ca=new jf,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function sd(e){if(ld(e),3==e.G){var t=e.V++,n=af(e.F);lf(n,"SID",e.J),lf(n,"RID",t),lf(n,"TYPE","terminate"),pd(e,n),(t=new Ml(e,e.h,t,void 0)).K=2,t.v=ff(af(n)),n=!1,Ps.navigator&&Ps.navigator.sendBeacon&&(n=Ps.navigator.sendBeacon(t.v.toString(),"")),!n&&Ps.Image&&((new Image).src=t.v,n=!0),n||(t.g=Ed(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Kl(t)}Sd(e)}function cd(e){e.g&&(yd(e),e.g.cancel(),e.g=null)}function ld(e){cd(e),e.u&&(Ps.clearTimeout(e.u),e.u=null),kd(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Ps.clearTimeout(e.m),e.m=null)}function fd(e,t){e.l.push(new Ef(e.Za++,t)),3==e.G&&dd(e)}function dd(e){Rf(e.i)||e.m||(e.m=!0,nl(e.Ha,e),e.C=0)}function hd(e,t){var n;n=t?t.m:e.V++;var r=af(e.F);lf(r,"SID",e.J),lf(r,"RID",n),lf(r,"AID",e.U),pd(e,r),e.o&&e.s&&ad(r,e.o,e.s),n=new Ml(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=vd(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),Of(e.i,n),Vl(n,r,t)}function pd(e,t){e.j&&Yl({},(function(e,n){lf(t,n,e)}))}function vd(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Us(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{Ff(l,o,"req"+c+"_")}catch(eh){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function md(e){e.g||e.u||(e.Y=1,nl(e.Ga,e),e.A=0)}function gd(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Il(Us(e.Ga,e),xd(e,e.A)),e.A++,!0)}function yd(e){null!=e.B&&(Ps.clearTimeout(e.B),e.B=null)}function bd(e){e.g=new Ml(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=af(e.oa);lf(t,"RID","rpc"),lf(t,"SID",e.J),lf(t,"CI",e.N?"0":"1"),lf(t,"AID",e.U),pd(e,t),lf(t,"TYPE","xmlhttp"),e.o&&e.s&&ad(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=ff(af(t)),n.s=null,n.U=!0,zl(n,e)}function kd(e){null!=e.v&&(Ps.clearTimeout(e.v),e.v=null)}function wd(e,t){var n=null;if(e.g==t){kd(e),yd(e),e.g=null;var r=2}else{if(!Pf(e.i,t))return;n=t.D,Df(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Hc(r=bl(),new Sl(r,n,t,i)),dd(e)}else md(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Af(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Il(Us(e.Ha,e,t),xd(e,e.C)),e.C++,!0))}(e,t)||2==r&&gd(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:_d(e,5);break;case 4:_d(e,10);break;case 3:_d(e,6);break;default:_d(e,2)}}function xd(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function _d(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Us(e.jb,e);n||(n=new rf("//www.google.com/images/cleardot.gif"),Ps.location&&"http"==Ps.location.protocol||of(n,"https"),ff(n)),function(e,t){var n=new vl;if(Ps.Image){var r=new Image;r.onload=Vs(Zf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Vs(Zf,n,r,"TestLoadImage: error",!1,t),r.onabort=Vs(Zf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Vs(Zf,n,r,"TestLoadImage: timeout",!1,t),Ps.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else _l(2);e.G=0,e.j&&e.j.va(t),Sd(e),ld(e)}function Sd(e){e.G=0,e.I=-1,e.j&&(0==Lf(e.i).length&&0==e.l.length||(e.i.i.length=0,Gs(e.l),e.l.length=0),e.j.ua())}function Id(e,t,n){var r=function(e){return e instanceof rf?af(e):new rf(e,void 0)}(n);if(""!=r.i)t&&uf(r,t+"."+r.i),sf(r,r.m);else{var i=Ps.location;r=function(e,t,n,r){var i=new rf(null,void 0);return e&&of(i,e),t&&uf(i,t),n&&sf(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&nc(e.aa,(function(e,t){lf(r,t,e)})),t=e.D,n=e.sa,t&&n&&lf(r,t,n),lf(r,"VER",e.ma),pd(e,r),r}function Ed(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Hf(new Uf({ib:!0})):new Hf(e.qa)).L=e.H,t}function Td(){}function Cd(){if(cc&&!(10<=Number(xc)))throw Error("Environmental error: no available transport.")}function Nd(e,t){Kc.call(this),this.g=new ud(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Qs(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Qs(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Pd(this)}function Rd(e){Ol.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ad(){Dl.call(this),this.status=1}function Pd(e){this.g=e}(Cs=Hf.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Al.g(),this.C=this.u?Nl(this.u):Nl(Al),this.g.onreadystatechange=Us(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Yf(this,a)}e=n||"";var i=new Jl(this.headers);r&&Yl(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Xf,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=Ps.FormData&&e instanceof Ps.FormData,!(0<=Ws($f,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nd(this),0<this.B&&((this.K=function(e){return cc&&kc()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Us(this.pa,this)):this.A=sl(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Yf(this,a)}},Cs.pa=function(){"undefined"!=typeof As&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hc(this,"timeout"),this.abort(8))},Cs.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Hc(this,"complete"),Hc(this,"abort"),td(this))},Cs.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),td(this,!0)),Hf.Z.M.call(this)},Cs.Fa=function(){this.s||(this.F||this.v||this.l?ed(this):this.cb())},Cs.cb=function(){ed(this)},Cs.ba=function(){try{return 2<rd(this)?this.g.status:-1}catch(Cf){return-1}},Cs.ga=function(){try{return this.g?this.g.responseText:""}catch(Cf){return""}},Cs.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Kf(t)}},Cs.Da=function(){return this.m},Cs.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Cs=ud.prototype).ma=8,Cs.G=1,Cs.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},Cs.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Ml(this,this.h,e,void 0),n=this.s;if(this.P&&(n?ac(n=rc(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=vd(this,t,r),lf(i=af(this.F),"RID",e),lf(i,"CVER",22),this.D&&lf(i,"X-HTTP-Session-Id",this.D),pd(this,i),this.o&&n&&ad(i,this.o,n),Of(this.i,t),this.Ra&&lf(i,"TYPE","init"),this.ja?(lf(i,"$req",r),lf(i,"SID","null"),t.$=!0,Vl(t,i,null)):Vl(t,i,r),this.G=2}}else 3==this.G&&(e?hd(this,e):0==this.l.length||Rf(this.i)||hd(this))},Cs.Ga=function(){if(this.u=null,bd(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Il(Us(this.bb,this),e)}},Cs.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,_l(10),cd(this),bd(this))},Cs.ab=function(){null!=this.v&&(this.v=null,cd(this),gd(this),_l(19))},Cs.jb=function(e){e?(this.h.info("Successfully pinged google.com"),_l(2)):(this.h.info("Failed to ping google.com"),_l(1))},(Cs=Td.prototype).xa=function(){},Cs.wa=function(){},Cs.va=function(){},Cs.ua=function(){},Cs.Oa=function(){},Cd.prototype.g=function(e,t){return new Nd(e,t)},zs(Nd,Kc),Nd.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),nl(Us(e.hb,e,t))),_l(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Id(e,null,e.W),dd(e)},Nd.prototype.close=function(){sd(this.g)},Nd.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,fd(this.g,t)}else this.v?((t={}).__data__=Qc(e),fd(this.g,t)):fd(this.g,e)},Nd.prototype.M=function(){this.g.j=null,delete this.j,sd(this.g),delete this.g,Nd.Z.M.call(this)},zs(Rd,Ol),zs(Ad,Dl),zs(Pd,Td),Pd.prototype.xa=function(){Hc(this.g,"a")},Pd.prototype.wa=function(e){Hc(this.g,new Rd(e))},Pd.prototype.va=function(e){Hc(this.g,new Ad(e))},Pd.prototype.ua=function(){Hc(this.g,"b")},Cd.prototype.createWebChannel=Cd.prototype.g,Nd.prototype.send=Nd.prototype.u,Nd.prototype.open=Nd.prototype.m,Nd.prototype.close=Nd.prototype.close,El.NO_ERROR=0,El.TIMEOUT=8,El.HTTP_ERROR=6,Tl.COMPLETE="complete",Rl.EventType=Pl,Pl.OPEN="a",Pl.CLOSE="b",Pl.ERROR="c",Pl.MESSAGE="d",Kc.prototype.listen=Kc.prototype.N,Hf.prototype.listenOnce=Hf.prototype.O,Hf.prototype.getLastError=Hf.prototype.La,Hf.prototype.getLastErrorCode=Hf.prototype.Da,Hf.prototype.getStatus=Hf.prototype.ba,Hf.prototype.getResponseJson=Hf.prototype.Qa,Hf.prototype.getResponseText=Hf.prototype.ga,Hf.prototype.send=Hf.prototype.ea;var Od=Rs.createWebChannelTransport=function(){return new Cd},Dd=Rs.getStatEventTarget=function(){return bl()},Ld=Rs.ErrorCode=El,Md=Rs.EventType=Tl,jd=Rs.Event=gl,Fd=Rs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Zd=Rs.FetchXmlHttpFactory=Uf,Ud=Rs.WebChannel=Rl,Vd=Rs.XhrIo=Hf,zd="@firebase/firestore",Bd=function(){function e(t){ue(this,e),this.uid=t}return ce(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Bd.UNAUTHENTICATED=new Bd(null),Bd.GOOGLE_CREDENTIALS=new Bd("google-credentials-uid"),Bd.FIRST_PARTY=new Bd("first-party-uid"),Bd.MOCK_USER=new Bd("mock-user");var qd="9.9.1",Wd=new it("@firebase/firestore");function Kd(){return Wd.logLevel}function Hd(e){if(Wd.logLevel<=Xe.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($d);Wd.debug.apply(Wd,["Firestore (".concat(qd,"): ").concat(e)].concat((0,ne.Z)(i)))}}function Gd(e){if(Wd.logLevel<=Xe.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($d);Wd.error.apply(Wd,["Firestore (".concat(qd,"): ").concat(e)].concat((0,ne.Z)(i)))}}function Qd(e){if(Wd.logLevel<=Xe.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map($d);Wd.warn.apply(Wd,["Firestore (".concat(qd,"): ").concat(e)].concat((0,ne.Z)(i)))}}function $d(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Xd(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(qd,") INTERNAL ASSERTION FAILED: ")+e;throw Gd(t),new Error(t)}function Yd(e,t){e||Xd()}function Jd(e,t){return e}var eh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},th=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ce(n)}(Oe),nh=ce((function e(){var t=this;ue(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),rh=ce((function e(t,n){ue(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),ih=function(){function e(){ue(this,e)}return ce(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Bd.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ah=function(){function e(t){ue(this,e),this.token=t,this.changeListener=null}return ce(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),oh=function(){function e(t){ue(this,e),this.t=t,this.currentUser=Bd.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ce(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new nh;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new nh,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Hd("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Hd("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new nh)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Hd("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Yd("string"==typeof n.accessToken),new rh(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Yd(null===e||"string"==typeof e),new Bd(e)}}]),e}(),uh=ce((function e(t,n,r){ue(this,e),this.type="FirstParty",this.user=Bd.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),sh=function(){function e(t,n,r){ue(this,e),this.h=t,this.l=n,this.m=r}return ce(e,[{key:"getToken",value:function(){return Promise.resolve(new uh(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Bd.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),ch=ce((function e(t){ue(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),lh=function(){function e(t){ue(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ce(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Hd("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Hd("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Hd("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Hd("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Yd("string"==typeof t.token),e.p=t.token,new ch(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function fh(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var dh=function(){function e(){ue(this,e)}return ce(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=fh(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function hh(e,t){return e<t?-1:e>t?1:0}function ph(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function vh(e){return e+"\0"}var mh=function(){function e(t,n){if(ue(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new th(eh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new th(eh.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new th(eh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new th(eh.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ce(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?hh(this.nanoseconds,e.nanoseconds):hh(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),gh=function(){function e(t){ue(this,e),this.timestamp=t}return ce(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new mh(0,0))}},{key:"max",value:function(){return new e(new mh(253402300799,999999999))}}]),e}(),yh=function(){function e(t,n,r){ue(this,e),void 0===n?n=0:n>t.length&&Xd(),void 0===r?r=t.length-n:r>t.length-n&&Xd(),this.segments=t,this.offset=n,this.len=r}return ce(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),bh=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new th(eh.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,(0,ne.Z)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(yh),kh=/^[_a-zA-Z][_a-zA-Z0-9]*$/,wh=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return kh.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new th(eh.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new th(eh.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new th(eh.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new th(eh.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(yh),xh=function(){function e(t){ue(this,e),this.path=t}return ce(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===bh.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(bh.fromString(t))}},{key:"fromName",value:function(t){return new e(bh.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(bh.emptyPath())}},{key:"comparator",value:function(e,t){return bh.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new bh(t.slice()))}}]),e}(),_h=ce((function e(t,n,r,i){ue(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Sh(e){return e.fields.find((function(e){return 2===e.kind}))}function Ih(e){return e.fields.filter((function(e){return 2!==e.kind}))}_h.UNKNOWN_ID=-1;var Eh=ce((function e(t,n){ue(this,e),this.fieldPath=t,this.kind=n})),Th=function(){function e(t,n){ue(this,e),this.sequenceNumber=t,this.offset=n}return ce(e,null,[{key:"empty",value:function(){return new e(0,Rh.min())}}]),e}();function Ch(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=gh.fromTimestamp(1e9===r?new mh(n+1,0):new mh(n,r));return new Rh(i,xh.empty(),t)}function Nh(e){return new Rh(e.readTime,e.key,-1)}var Rh=function(){function e(t,n,r){ue(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ce(e,null,[{key:"min",value:function(){return new e(gh.min(),xh.empty(),-1)}},{key:"max",value:function(){return new e(gh.max(),xh.empty(),-1)}}]),e}();function Ah(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=xh.comparator(e.documentKey,t.documentKey))?n:hh(e.largestBatchId,t.largestBatchId)}var Ph="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Oh=function(){function e(){ue(this,e),this.onCommittedListeners=[]}return ce(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Dh(e){return Lh.apply(this,arguments)}function Lh(){return Lh=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===eh.FAILED_PRECONDITION&&t.message===Ph){e.next=2;break}throw t;case 2:Hd("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Lh.apply(this,arguments)}var Mh=function(){function e(t){var n=this;ue(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ce(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Xd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=oe(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,u=function(u){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},s=0;s<i;s++)u(s)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}(),jh=function(){function e(t,n){var r=this;ue(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.T=new nh,this.transaction.oncomplete=function(){r.T.resolve()},this.transaction.onabort=function(){n.error?r.T.reject(new Uh(t,n.error)):r.T.resolve()},this.transaction.onerror=function(e){var n=Wh(e.target.error);r.T.reject(new Uh(t,n))}}return ce(e,[{key:"A",get:function(){return this.T.promise}},{key:"abort",value:function(e){e&&this.T.reject(e),this.aborted||(Hd("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"R",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new zh(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Uh(n,t)}}}]),e}(),Fh=function(){function e(t,n,r){ue(this,e),this.name=t,this.version=n,this.P=r,12.2===e.v(Ee())&&Gd("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ce(e,[{key:"k",value:function(){var e=ie(te().mark((function e(t){var n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Hd("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Uh(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new th(eh.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new th(eh.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Uh(t,n))},i.onupgradeneeded=function(e){Hd("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.P.O(t,i.transaction,e.oldVersion,n.version).next((function(){Hd("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.M&&(this.db.onversionchange=function(e){return n.M(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"F",value:function(e){this.M=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=ie(te().mark((function e(t,n,r,i){var a,o,u,s,c,l=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(te().mark((function e(){var n,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.k(t);case 2:return l.db=e.sent,n=jh.open(l.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.R(),e})).catch((function(e){return n.abort(e),Mh.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.A;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s=e.t1,c="FirebaseError"!==s.name&&o<3,Hd("SimpleDb","Transaction failed with error:",s.message,"Retrying:",c),this.close(),c){e.next=15;break}return e.abrupt("return",Promise.reject(s));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Hd("SimpleDb","Removing database:",e),Bh(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"V",value:function(){if(!Pe())return!1;if(e.S())return!0;var t=Ee(),n=e.v(t),r=0<n&&n<10,i=e.D(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"S",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/reels-clone",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.C)}},{key:"N",value:function(e,t){return e.store(t)}},{key:"v",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"D",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),Zh=function(){function e(t){ue(this,e),this.$=t,this.B=!1,this.L=null}return ce(e,[{key:"isDone",get:function(){return this.B}},{key:"U",get:function(){return this.L}},{key:"cursor",set:function(e){this.$=e}},{key:"done",value:function(){this.B=!0}},{key:"q",value:function(e){this.L=e}},{key:"delete",value:function(){return Bh(this.$.delete())}}]),e}(),Uh=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,eh.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ce(n)}(th);function Vh(e){return"IndexedDbTransactionError"===e.name}var zh=function(){function e(t){ue(this,e),this.store=t}return ce(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Hd("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Hd("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Bh(n)}},{key:"add",value:function(e){return Hd("SimpleDb","ADD",this.store.name,e,e),Bh(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Bh(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Hd("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Hd("SimpleDb","DELETE",this.store.name,e),Bh(this.store.delete(e))}},{key:"count",value:function(){return Hd("SimpleDb","COUNT",this.store.name),Bh(this.store.count())}},{key:"K",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.G(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Mh((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new Mh((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"W",value:function(e,t){Hd("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.H=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"J",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Y",value:function(e){var t=this.cursor({});return new Mh((function(n,r){t.onerror=function(e){var t=Wh(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new Mh((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new Zh(i),o=t(i.primaryKey,i.value,a);if(o instanceof Mh){var u=o.catch((function(e){return a.done(),Mh.reject(e)}));n.push(u)}a.isDone?r():null===a.U?i.continue():i.continue(a.U)}else r()}})).next((function(){return Mh.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Bh(e){return new Mh((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Wh(e.target.error);n(t)}}))}var qh=!1;function Wh(e){var t=Fh.v(Ee());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new th("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return qh||(qh=!0,setTimeout((function(){throw r}),0)),r}}return e}var Kh=function(){function e(t,n){ue(this,e),this.asyncQueue=t,this.X=n,this.task=null}return ce(e,[{key:"start",value:function(){}},{key:"stop",value:function(){this.task&&(this.task.cancel(),this.task=null)}},{key:"started",get:function(){return null!==this.task}},{key:"Z",value:function(e){var t=this;Hd("IndexBackiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.task=null,e.prev=1,e.t0=Hd,e.t1="Documents written: ",e.next=6,t.X.tt();case 6:e.t2=e.sent,e.t3=e.t1.concat.call(e.t1,e.t2),(0,e.t0)("IndexBackiller",e.t3),e.next=19;break;case 11:if(e.prev=11,e.t4=e.catch(1),!Vh(e.t4)){e.next=17;break}Hd("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e.t4),e.next=19;break;case 17:return e.next=19,Dh(e.t4);case 19:return e.next=21,t.Z(1);case 21:case"end":return e.stop()}}),e,null,[[1,11]])}))))}}]),e}(),Hh=function(){function e(t,n){ue(this,e),this.localStore=t,this.persistence=n}return ce(e,[{key:"tt",value:function(){var e=ie(te().mark((function e(){var t,n=this,r=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:50,e.abrupt("return",this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(function(e){return n.et(e,t)})));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"et",value:function(e,t){var n=this,r=new Set,i=t,a=!0;return Mh.doWhile((function(){return!0===a&&i>0}),(function(){return n.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((function(t){if(null!==t&&!r.has(t))return Hd("IndexBackiller","Processing collection: ".concat(t)),n.nt(e,t,i).next((function(e){i-=e,r.add(t)}));a=!1}))})).next((function(){return t-i}))}},{key:"nt",value:function(e,t,n){var r=this;return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((function(i){return r.localStore.localDocuments.getNextDocuments(e,t,i,n).next((function(n){var a=n.changes;return r.localStore.indexManager.updateIndexEntries(e,a).next((function(){return r.st(i,n)})).next((function(n){return Hd("IndexBackiller","Updating offset: ".concat(n)),r.localStore.indexManager.updateCollectionGroup(e,t,n)})).next((function(){return a.size}))}))}))}},{key:"st",value:function(e,t){var n=e;return t.changes.forEach((function(e,t){var r=Nh(t);Ah(r,n)>0&&(n=r)})),new Rh(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}]),e}(),Gh=function(){function e(t,n){var r=this;ue(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.it(e)},this.rt=function(e){return n.writeSequenceNumber(e)})}return ce(e,[{key:"it",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.rt&&this.rt(e),e}}]),e}();function Qh(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function $h(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Xh(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}Gh.ot=-1;var Yh=function(){function e(t,n){ue(this,e),this.comparator=t,this.root=n||ep.EMPTY}return ce(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,ep.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ep.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Jh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Jh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Jh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Jh(this.root,e,this.comparator,!0)}}]),e}(),Jh=function(){function e(t,n,r,i){ue(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ce(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),ep=function(){function e(t,n,r,i,a){ue(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ce(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Xd();if(this.right.isRed())throw Xd();var e=this.left.check();if(e!==this.right.check())throw Xd();return e+(this.isRed()?0:1)}}]),e}();ep.EMPTY=null,ep.RED=!0,ep.BLACK=!1,ep.EMPTY=new(function(){function e(){ue(this,e),this.size=0}return ce(e,[{key:"key",get:function(){throw Xd()}},{key:"value",get:function(){throw Xd()}},{key:"color",get:function(){throw Xd()}},{key:"left",get:function(){throw Xd()}},{key:"right",get:function(){throw Xd()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new ep(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var tp=function(){function e(t){ue(this,e),this.comparator=t,this.data=new Yh(this.comparator)}return ce(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new np(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new np(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),np=function(){function e(t){ue(this,e),this.iter=t}return ce(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function rp(e){return e.hasNext()?e.getNext():void 0}var ip=function(){function e(t){ue(this,e),this.fields=t,t.sort(wh.comparator)}return ce(e,[{key:"unionWith",value:function(t){var n,r=new tp(wh.comparator),i=oe(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,u=oe(t);try{for(u.s();!(o=u.n()).done;){var s=o.value;r=r.add(s)}}catch(c){u.e(c)}finally{u.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=oe(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return ph(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}();var ap=function(e){function t(e){ue(this,t),this.binaryString=e}return ce(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return hh(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();ap.EMPTY_BYTE_STRING=new ap("");var op=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function up(e){if(Yd(!!e),"string"==typeof e){var t=0,n=op.exec(e);if(Yd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sp(e.seconds),nanos:sp(e.nanos)}}function sp(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function cp(e){return"string"==typeof e?ap.fromBase64String(e):ap.fromUint8Array(e)}function lp(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function fp(e){var t=e.mapValue.fields.__previous_value__;return lp(t)?fp(t):t}function dp(e){var t=up(e.mapValue.fields.__local_write_time__.timestampValue);return new mh(t.seconds,t.nanos)}var hp=ce((function e(t,n,r,i,a,o,u,s){ue(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),pp=function(){function e(t,n){ue(this,e),this.projectId=t,this.database=n||"(default)"}return ce(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function vp(e){return null==e}function mp(e){return 0===e&&1/e==-1/0}function gp(e){return"number"==typeof e&&Number.isInteger(e)&&!mp(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var yp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bp={nullValue:"NULL_VALUE"};function kp(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?lp(e)?4:Dp(e)?9007199254740991:10:Xd()}function wp(e,t){if(e===t)return!0;var n=kp(e);if(n!==kp(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return dp(e).isEqual(dp(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=up(e.timestampValue),r=up(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return cp(e.bytesValue).isEqual(cp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return sp(e.geoPointValue.latitude)===sp(t.geoPointValue.latitude)&&sp(e.geoPointValue.longitude)===sp(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return sp(e.integerValue)===sp(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=sp(e.doubleValue),r=sp(t.doubleValue);return n===r?mp(n)===mp(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ph(e.arrayValue.values||[],t.arrayValue.values||[],wp);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Qh(n)!==Qh(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!wp(n[i],r[i])))return!1;return!0}(e,t);default:return Xd()}}function xp(e,t){return void 0!==(e.values||[]).find((function(e){return wp(e,t)}))}function _p(e,t){if(e===t)return 0;var n=kp(e),r=kp(t);if(n!==r)return hh(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return hh(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=sp(e.integerValue||e.doubleValue),r=sp(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Sp(e.timestampValue,t.timestampValue);case 4:return Sp(dp(e),dp(t));case 5:return hh(e.stringValue,t.stringValue);case 6:return function(e,t){var n=cp(e),r=cp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=hh(n[i],r[i]);if(0!==a)return a}return hh(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=hh(sp(e.latitude),sp(t.latitude));return 0!==n?n:hh(sp(e.longitude),sp(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=_p(n[i],r[i]);if(a)return a}return hh(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===yp.mapValue&&t===yp.mapValue)return 0;if(e===yp.mapValue)return 1;if(t===yp.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=hh(r[o],a[o]);if(0!==u)return u;var s=_p(n[r[o]],i[a[o]]);if(0!==s)return s}return hh(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Xd()}}function Sp(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return hh(e,t);var n=up(e),r=up(t),i=hh(n.seconds,r.seconds);return 0!==i?i:hh(n.nanos,r.nanos)}function Ip(e){return Ep(e)}function Ep(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=up(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?cp(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,xh.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=oe(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Ep(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=oe(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Ep(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Xd();var t,n}function Tp(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Cp(e){return!!e&&"integerValue"in e}function Np(e){return!!e&&"arrayValue"in e}function Rp(e){return!!e&&"nullValue"in e}function Ap(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pp(e){return!!e&&"mapValue"in e}function Op(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return $h(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Op(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Op(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Dp(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Lp(e){return"nullValue"in e?bp:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Tp(pp.empty(),xh.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Xd()}function Mp(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Tp(pp.empty(),xh.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?yp:Xd()}function jp(e,t){var n=_p(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Fp(e,t){var n=_p(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var Zp=function(){function e(t){ue(this,e),this.value=t}return ce(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Pp(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Op(t)}},{key:"setAll",value:function(e){var t=this,n=wh.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Op(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Pp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return wp(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Pp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){$h(t,(function(t,n){return e[t]=n}));var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Op(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Up(e){var t=[];return $h(e.fields,(function(e,n){var r=new wh([e]);if(Pp(n)){var i=Up(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=oe(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new ip(t)}var Vp=function(){function e(t,n,r,i,a,o){ue(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ce(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Zp.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Zp.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=gh.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,gh.min(),gh.min(),Zp.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,gh.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,gh.min(),Zp.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,gh.min(),Zp.empty(),2)}}]),e}(),zp=ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;ue(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.ut=null}));function Bp(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new zp(e,t,n,r,i,a,o)}function qp(e){var t=Jd(e);if(null===t.ut){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Ip(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),vp(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Ip(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Ip(e)})).join(",")),t.ut=n}return t.ut}function Wp(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!uv(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!wp(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!cv(e.startAt,t.startAt)&&cv(e.endAt,t.endAt)}function Kp(e){return xh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Hp(e,t){return e.filters.filter((function(e){return e instanceof $p&&e.field.isEqual(t)}))}function Gp(e,t,n){var r,i=bp,a=!0,o=oe(Hp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=bp,c=!0;switch(u.op){case"<":case"<=":s=Lp(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=bp}jp({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];jp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function Qp(e,t,n){var r,i=yp,a=!0,o=oe(Hp(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=yp,c=!0;switch(u.op){case">=":case">":s=Mp(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=yp}Fp({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(d){o.e(d)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Fp({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var $p=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(_p(t,this.value)):null!==t&&kp(this.value)===kp(t)&&this.at(_p(t,this.value))}},{key:"at",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Xd()}}},{key:"ht",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,r):new Xp(e,t,r):"array-contains"===t?new tv(e,r):"in"===t?new nv(e,r):"not-in"===t?new rv(e,r):"array-contains-any"===t?new iv(e,r):new n(e,t,r)}},{key:"ct",value:function(e,t,n){return"in"===t?new Yp(e,n):new Jp(e,n)}}]),n}(function(){return ce((function e(){ue(this,e)}))}()),Xp=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this,e,r,i)).key=xh.fromName(i.referenceValue),a}return ce(n,[{key:"matches",value:function(e){var t=xh.comparator(e.key,this.key);return this.at(t)}}]),n}($p),Yp=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e,"in",r)).keys=ev("in",r),i}return ce(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}($p),Jp=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e,"not-in",r)).keys=ev("not-in",r),i}return ce(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}($p);function ev(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return xh.fromName(e.referenceValue)}))}var tv=function(e){de(n,e);var t=me(n);function n(e,r){return ue(this,n),t.call(this,e,"array-contains",r)}return ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Np(t)&&xp(t.arrayValue,this.value)}}]),n}($p),nv=function(e){de(n,e);var t=me(n);function n(e,r){return ue(this,n),t.call(this,e,"in",r)}return ce(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&xp(this.value.arrayValue,t)}}]),n}($p),rv=function(e){de(n,e);var t=me(n);function n(e,r){return ue(this,n),t.call(this,e,"not-in",r)}return ce(n,[{key:"matches",value:function(e){if(xp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!xp(this.value.arrayValue,t)}}]),n}($p),iv=function(e){de(n,e);var t=me(n);function n(e,r){return ue(this,n),t.call(this,e,"array-contains-any",r)}return ce(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return xp(t.value.arrayValue,e)}))}}]),n}($p),av=ce((function e(t,n){ue(this,e),this.position=t,this.inclusive=n})),ov=ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";ue(this,e),this.field=t,this.dir=n}));function uv(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function sv(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?xh.comparator(xh.fromName(o.referenceValue),n.key):_p(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function cv(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!wp(e.position[n],t.position[n]))return!1;return!0}var lv=ce((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;ue(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.lt=null,this.ft=null,this.startAt,this.endAt}));function fv(e,t,n,r,i,a,o,u){return new lv(e,t,n,r,i,a,o,u)}function dv(e){return new lv(e)}function hv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function pv(e){var t,n=oe(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.ht())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function vv(e){return null!==e.collectionGroup}function mv(e){var t=Jd(e);if(null===t.lt){t.lt=[];var n=pv(t),r=hv(t);if(null!==n&&null===r)n.isKeyField()||t.lt.push(new ov(n)),t.lt.push(new ov(wh.keyField(),"asc"));else{var i,a=!1,o=oe(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.lt.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new ov(wh.keyField(),s))}}}return t.lt}function gv(e){var t=Jd(e);if(!t.ft)if("F"===t.limitType)t.ft=Bp(t.path,t.collectionGroup,mv(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=oe(mv(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ov(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new av(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new av(t.startAt.position,t.startAt.inclusive):null;t.ft=Bp(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.ft}function yv(e,t,n){return new lv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bv(e,t){return Wp(gv(e),gv(t))&&e.limitType===t.limitType}function kv(e){return"".concat(qp(gv(e)),"|lt:").concat(e.limitType)}function wv(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Ip(t.value));var t})).join(", "),"]")),vp(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Ip(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Ip(e)})).join(",")),"Target(".concat(t,")")}(gv(e)),"; limitType=").concat(e.limitType,")")}function xv(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):xh.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=oe(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=oe(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=sv(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,mv(e),t))&&!(e.endAt&&!function(e,t,n){var r=sv(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,mv(e),t))}(e,t)}function _v(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Sv(e){return function(t,n){var r,i=!1,a=oe(mv(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=Iv(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function Iv(e,t,n){var r=e.field.isKeyField()?xh.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?_p(r,i):Xd()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Xd()}}function Ev(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mp(t)?"-0":t}}function Tv(e){return{integerValue:""+e}}function Cv(e,t){return gp(t)?Tv(t):Ev(e,t)}var Nv=ce((function e(){ue(this,e),this._=void 0}));function Rv(e,t,n){return e instanceof Ov?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Dv?Lv(e,t):e instanceof Mv?jv(e,t):function(e,t){var n=Pv(e,t),r=Zv(n)+Zv(e._t);return Cp(n)&&Cp(e._t)?Tv(r):Ev(e.wt,r)}(e,t)}function Av(e,t,n){return e instanceof Dv?Lv(e,t):e instanceof Mv?jv(e,t):n}function Pv(e,t){return e instanceof Fv?Cp(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Ov=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n)}(Nv),Dv=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this)).elements=e,r}return ce(n)}(Nv);function Lv(e,t){var n,r=Uv(t),i=oe(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return wp(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Mv=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this)).elements=e,r}return ce(n)}(Nv);function jv(e,t){var n,r=Uv(t),i=oe(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!wp(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Fv=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this)).wt=e,i._t=r,i}return ce(n)}(Nv);function Zv(e){return sp(e.integerValue||e.doubleValue)}function Uv(e){return Np(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Vv=ce((function e(t,n){ue(this,e),this.field=t,this.transform=n}));var zv=ce((function e(t,n){ue(this,e),this.version=t,this.transformResults=n})),Bv=function(){function e(t,n){ue(this,e),this.updateTime=t,this.exists=n}return ce(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function qv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Wv=ce((function e(){ue(this,e)}));function Kv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new im(e.key,Bv.none()):new Xv(e.key,e.data,Bv.none());var n,r=e.data,i=Zp.empty(),a=new tp(wh.comparator),o=oe(t.fields);try{for(o.s();!(n=o.n()).done;){var u=n.value;if(!a.has(u)){var s=r.field(u);null===s&&u.length>1&&(u=u.popLast(),s=r.field(u)),null===s?i.delete(u):i.set(u,s),a=a.add(u)}}}catch(c){o.e(c)}finally{o.f()}return new Yv(e.key,i,new ip(a.toArray()),Bv.none())}function Hv(e,t,n){e instanceof Xv?function(e,t,n){var r=e.value.clone(),i=em(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Yv?function(e,t,n){if(qv(e.precondition,t)){var r=em(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Jv(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gv(e,t,n,r){return e instanceof Xv?function(e,t,n,r){if(!qv(e.precondition,t))return n;var i=e.value.clone(),a=tm(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Yv?function(e,t,n,r){if(!qv(e.precondition,t))return n;var i=tm(e.fieldTransforms,r,t),a=t.data;return a.setAll(Jv(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return qv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Qv(e,t){var n,r=null,i=oe(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Pv(a.transform,o||null);null!=u&&(null===r&&(r=Zp.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function $v(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ph(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Dv&&t instanceof Dv||e instanceof Mv&&t instanceof Mv?ph(e.elements,t.elements,wp):e instanceof Fv&&t instanceof Fv?wp(e._t,t._t):e instanceof Ov&&t instanceof Ov}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Xv=function(e){de(n,e);var t=me(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return ue(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ce(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Wv),Yv=function(e){de(n,e);var t=me(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return ue(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ce(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(Wv);function Jv(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function em(e,t,n){var r=new Map;Yd(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Av(o,u,n[i]))}return r}function tm(e,t,n){var r,i=new Map,a=oe(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Rv(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var nm,rm,im=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ce(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Wv),am=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ce(n,[{key:"getFieldMask",value:function(){return null}}]),n}(Wv),om=ce((function e(t){ue(this,e),this.count=t}));function um(e){switch(e){default:return Xd();case eh.CANCELLED:case eh.UNKNOWN:case eh.DEADLINE_EXCEEDED:case eh.RESOURCE_EXHAUSTED:case eh.INTERNAL:case eh.UNAVAILABLE:case eh.UNAUTHENTICATED:return!1;case eh.INVALID_ARGUMENT:case eh.NOT_FOUND:case eh.ALREADY_EXISTS:case eh.PERMISSION_DENIED:case eh.FAILED_PRECONDITION:case eh.ABORTED:case eh.OUT_OF_RANGE:case eh.UNIMPLEMENTED:case eh.DATA_LOSS:return!0}}function sm(e){if(void 0===e)return Gd("GRPC error has no .code"),eh.UNKNOWN;switch(e){case nm.OK:return eh.OK;case nm.CANCELLED:return eh.CANCELLED;case nm.UNKNOWN:return eh.UNKNOWN;case nm.DEADLINE_EXCEEDED:return eh.DEADLINE_EXCEEDED;case nm.RESOURCE_EXHAUSTED:return eh.RESOURCE_EXHAUSTED;case nm.INTERNAL:return eh.INTERNAL;case nm.UNAVAILABLE:return eh.UNAVAILABLE;case nm.UNAUTHENTICATED:return eh.UNAUTHENTICATED;case nm.INVALID_ARGUMENT:return eh.INVALID_ARGUMENT;case nm.NOT_FOUND:return eh.NOT_FOUND;case nm.ALREADY_EXISTS:return eh.ALREADY_EXISTS;case nm.PERMISSION_DENIED:return eh.PERMISSION_DENIED;case nm.FAILED_PRECONDITION:return eh.FAILED_PRECONDITION;case nm.ABORTED:return eh.ABORTED;case nm.OUT_OF_RANGE:return eh.OUT_OF_RANGE;case nm.UNIMPLEMENTED:return eh.UNIMPLEMENTED;case nm.DATA_LOSS:return eh.DATA_LOSS;default:return Xd()}}(rm=nm||(nm={}))[rm.OK=0]="OK",rm[rm.CANCELLED=1]="CANCELLED",rm[rm.UNKNOWN=2]="UNKNOWN",rm[rm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rm[rm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rm[rm.NOT_FOUND=5]="NOT_FOUND",rm[rm.ALREADY_EXISTS=6]="ALREADY_EXISTS",rm[rm.PERMISSION_DENIED=7]="PERMISSION_DENIED",rm[rm.UNAUTHENTICATED=16]="UNAUTHENTICATED",rm[rm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rm[rm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rm[rm.ABORTED=10]="ABORTED",rm[rm.OUT_OF_RANGE=11]="OUT_OF_RANGE",rm[rm.UNIMPLEMENTED=12]="UNIMPLEMENTED",rm[rm.INTERNAL=13]="INTERNAL",rm[rm.UNAVAILABLE=14]="UNAVAILABLE",rm[rm.DATA_LOSS=15]="DATA_LOSS";var cm=function(){function e(t,n){ue(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return ce(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=(0,c.Z)(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){$h(this.inner,(function(t,n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=(0,c.Z)(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Xh(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),lm=new Yh(xh.comparator);function fm(){return lm}var dm=new Yh(xh.comparator);function hm(){for(var e=dm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function pm(e){var t=dm;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function vm(){return gm()}function mm(){return gm()}function gm(){return new cm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var ym=new Yh(xh.comparator),bm=new tp(xh.comparator);function km(){for(var e=bm,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var wm=new tp(hh);function xm(){return wm}var _m=function(){function e(t,n,r,i,a){ue(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ce(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Sm.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(gh.min(),r,xm(),fm(),km())}}]),e}(),Sm=function(){function e(t,n,r,i,a){ue(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ce(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ap.EMPTY_BYTE_STRING,n,km(),km(),km())}}]),e}(),Im=ce((function e(t,n,r,i){ue(this,e),this.gt=t,this.removedTargetIds=n,this.key=r,this.yt=i})),Em=ce((function e(t,n){ue(this,e),this.targetId=t,this.It=n})),Tm=ce((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ap.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;ue(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Cm=function(){function e(){ue(this,e),this.Tt=0,this.Et=Am(),this.At=ap.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}return ce(e,[{key:"current",get:function(){return this.Rt}},{key:"resumeToken",get:function(){return this.At}},{key:"Pt",get:function(){return 0!==this.Tt}},{key:"vt",get:function(){return this.bt}},{key:"Vt",value:function(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}},{key:"St",value:function(){var e=km(),t=km(),n=km();return this.Et.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Xd()}})),new Sm(this.At,this.Rt,e,t,n)}},{key:"Dt",value:function(){this.bt=!1,this.Et=Am()}},{key:"Ct",value:function(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}},{key:"xt",value:function(e){this.bt=!0,this.Et=this.Et.remove(e)}},{key:"Nt",value:function(){this.Tt+=1}},{key:"kt",value:function(){this.Tt-=1}},{key:"Ot",value:function(){this.bt=!0,this.Rt=!0}}]),e}(),Nm=function(){function e(t){ue(this,e),this.Mt=t,this.Ft=new Map,this.$t=fm(),this.Bt=Rm(),this.Lt=new tp(hh)}return ce(e,[{key:"Ut",value:function(e){var t,n=oe(e.gt);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.yt&&e.yt.isFoundDocument()?this.qt(r,e.yt):this.Kt(r,e.key,e.yt)}}catch(u){n.e(u)}finally{n.f()}var i,a=oe(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Kt(o,e.key,e.yt)}}catch(u){a.e(u)}finally{a.f()}}},{key:"Gt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.Qt(n);switch(e.state){case 0:t.jt(n)&&r.Vt(e.resumeToken);break;case 1:r.kt(),r.Pt||r.Dt(),r.Vt(e.resumeToken);break;case 2:r.kt(),r.Pt||t.removeTarget(n);break;case 3:t.jt(n)&&(r.Ot(),r.Vt(e.resumeToken));break;case 4:t.jt(n)&&(t.Wt(n),r.Vt(e.resumeToken));break;default:Xd()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((function(e,r){n.jt(r)&&t(r)}))}},{key:"zt",value:function(e){var t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){var i=r.target;if(Kp(i))if(0===n){var a=new xh(i.path);this.Kt(t,a,Vp.newNoDocument(a,gh.min()))}else Yd(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}},{key:"Yt",value:function(e){var t=this,n=new Map;this.Ft.forEach((function(r,i){var a=t.Ht(i);if(a){if(r.current&&Kp(a.target)){var o=new xh(a.target.path);null!==t.$t.get(o)||t.Xt(i,o)||t.Kt(i,o,Vp.newNoDocument(o,e))}r.vt&&(n.set(i,r.St()),r.Dt())}}));var r=km();this.Bt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ht(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.$t.forEach((function(t,n){return n.setReadTime(e)}));var i=new _m(e,n,this.Lt,this.$t,r);return this.$t=fm(),this.Bt=Rm(),this.Lt=new tp(hh),i}},{key:"qt",value:function(e,t){if(this.jt(e)){var n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}}},{key:"Kt",value:function(e,t,n){if(this.jt(e)){var r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Ft.delete(e)}},{key:"Jt",value:function(e){var t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Nt",value:function(e){this.Qt(e).Nt()}},{key:"Qt",value:function(e){var t=this.Ft.get(e);return t||(t=new Cm,this.Ft.set(e,t)),t}},{key:"Zt",value:function(e){var t=this.Bt.get(e);return t||(t=new tp(hh),this.Bt=this.Bt.insert(e,t)),t}},{key:"jt",value:function(e){var t=null!==this.Ht(e);return t||Hd("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ht",value:function(e){var t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}},{key:"Wt",value:function(e){var t=this;this.Ft.set(e,new Cm),this.Mt.getRemoteKeysForTarget(e).forEach((function(n){t.Kt(e,n,null)}))}},{key:"Xt",value:function(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Rm(){return new Yh(xh.comparator)}function Am(){return new Yh(xh.comparator)}var Pm={asc:"ASCENDING",desc:"DESCENDING"},Om={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dm=ce((function e(t,n){ue(this,e),this.databaseId=t,this.dt=n}));function Lm(e,t){return e.dt?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mm(e,t){return e.dt?t.toBase64():t.toUint8Array()}function jm(e,t){return Lm(e,t.toTimestamp())}function Fm(e){return Yd(!!e),gh.fromTimestamp(function(e){var t=up(e);return new mh(t.seconds,t.nanos)}(e))}function Zm(e,t){return function(e){return new bh(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Um(e){var t=bh.fromString(e);return Yd(cg(t)),t}function Vm(e,t){return Zm(e.databaseId,t.path)}function zm(e,t){var n=Um(t);if(n.get(1)!==e.databaseId.projectId)throw new th(eh.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new th(eh.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new xh(Km(n))}function Bm(e,t){return Zm(e.databaseId,t)}function qm(e){var t=Um(e);return 4===t.length?bh.emptyPath():Km(t)}function Wm(e){return new bh(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Km(e){return Yd(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Hm(e,t,n){return{name:Vm(e,t),fields:n.value.mapValue.fields}}function Gm(e,t,n){var r=zm(e,t.name),i=Fm(t.updateTime),a=new Zp({mapValue:{fields:t.fields}}),o=Vp.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Qm(e,t){return"found"in t?function(e,t){Yd(!!t.found),t.found.name,t.found.updateTime;var n=zm(e,t.found.name),r=Fm(t.found.updateTime),i=new Zp({mapValue:{fields:t.found.fields}});return Vp.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Yd(!!t.missing),Yd(!!t.readTime);var n=zm(e,t.missing),r=Fm(t.readTime);return Vp.newNoDocument(n,r)}(e,t):Xd()}function $m(e,t){var n;if(t instanceof Xv)n={update:Hm(e,t.key,t.value)};else if(t instanceof im)n={delete:Vm(e,t.key)};else if(t instanceof Yv)n={update:Hm(e,t.key,t.data),updateMask:sg(t.fieldMask)};else{if(!(t instanceof am))return Xd();n={verify:Vm(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ov)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Dv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Mv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Fv)return{fieldPath:t.field.canonicalString(),increment:n._t};throw Xd()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:jm(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Xd()}(e,t.precondition)),n}function Xm(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Bv.updateTime(Fm(e.updateTime)):void 0!==e.exists?Bv.exists(e.exists):Bv.none()}(t.currentDocument):Bv.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Yd("REQUEST_TIME"===t.setToServerValue),n=new Ov;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Dv(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Mv(i)}else"increment"in t?n=new Fv(e,t.increment):Xd();var a=wh.fromServerFormat(t.fieldPath);return new Vv(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=zm(e,t.update.name),a=new Zp({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new ip(t.map((function(e){return wh.fromServerFormat(e)})))}(t.updateMask);return new Yv(i,a,o,n,r)}return new Xv(i,a,n,r)}if(t.delete){var u=zm(e,t.delete);return new im(u,n)}if(t.verify){var s=zm(e,t.verify);return new am(s,n)}return Xd()}function Ym(e,t){return{documents:[Bm(e,t.path)]}}function Jm(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Bm(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Bm(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Ap(e.value))return{unaryFilter:{field:ig(e.field),op:"IS_NAN"}};if(Rp(e.value))return{unaryFilter:{field:ig(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ap(e.value))return{unaryFilter:{field:ig(e.field),op:"IS_NOT_NAN"}};if(Rp(e.value))return{unaryFilter:{field:ig(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ig(e.field),op:rg(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:ig(e.field),direction:ng(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.dt||vp(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function eg(e){var t=qm(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yd(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=tg(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ov(ag(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return vp(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new av(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new av(n,t)}(n.endAt)),fv(t,i,u,o,s,"F",c,l)}function tg(e){return e?void 0!==e.unaryFilter?[ug(e)]:void 0!==e.fieldFilter?[og(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return tg(e)})).reduce((function(e,t){return e.concat(t)})):Xd():[]}function ng(e){return Pm[e]}function rg(e){return Om[e]}function ig(e){return{fieldPath:e.canonicalString()}}function ag(e){return wh.fromServerFormat(e.fieldPath)}function og(e){return $p.create(ag(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xd()}}(e.fieldFilter.op),e.fieldFilter.value)}function ug(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ag(e.unaryFilter.field);return $p.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ag(e.unaryFilter.field);return $p.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ag(e.unaryFilter.field);return $p.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ag(e.unaryFilter.field);return $p.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xd()}}function sg(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function cg(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function lg(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=dg(t)),t=fg(e.get(n),t);return dg(t)}function fg(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function dg(e){return e+"\x01\x01"}function hg(e){var t=e.length;if(Yd(t>=2),2===t)return Yd("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),bh.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Xd(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Xd()}a=o+2}return new bh(r)}var pg=["userId","batchId"];function vg(e,t){return[e,lg(t)]}function mg(e,t,n){return[e,lg(t),n]}var gg={},yg=["prefixPath","collectionGroup","readTime","documentId"],bg=["prefixPath","collectionGroup","documentId"],kg=["collectionGroup","readTime","prefixPath","documentId"],wg=["canonicalId","targetId"],xg=["targetId","path"],_g=["path","targetId"],Sg=["collectionId","parent"],Ig=["indexId","uid"],Eg=["uid","sequenceNumber"],Tg=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Cg=["indexId","uid","orderedDocumentKey"],Ng=["userId","collectionPath","documentId"],Rg=["userId","collectionPath","largestBatchId"],Ag=["userId","collectionGroup","largestBatchId"],Pg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Og=[].concat((0,ne.Z)(Pg),["documentOverlays"]),Dg=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lg=Dg,Mg=[].concat(Lg,["indexConfiguration","indexState","indexEntries"]),jg=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this)).ee=e,i.currentSequenceNumber=r,i}return ce(n)}(Oh);function Fg(e,t){var n=Jd(e);return Fh.N(n.ee,t)}var Zg=function(){function e(t,n,r,i){ue(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ce(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Hv(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=oe(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Gv(i,e,t,this.localWriteTime))}}catch(s){r.e(s)}finally{r.f()}var a,o=oe(this.mutations);try{for(o.s();!(a=o.n()).done;){var u=a.value;u.key.isEqual(e.key)&&(t=Gv(u,e,t,this.localWriteTime))}}catch(s){o.e(s)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=mm();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,u=n.applyToLocalView(o,a.mutatedFields),s=Kv(o,u=t.has(i.key)?null:u);null!==s&&r.set(i.key,s),o.isValidDocument()||o.convertToNoDocument(gh.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),km())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&ph(this.mutations,e.mutations,(function(e,t){return $v(e,t)}))&&ph(this.baseMutations,e.baseMutations,(function(e,t){return $v(e,t)}))}}]),e}(),Ug=function(){function e(t,n,r,i){ue(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ce(e,null,[{key:"from",value:function(t,n,r){Yd(t.mutations.length===r.length);for(var i=ym,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Vg=function(){function e(t,n){ue(this,e),this.largestBatchId=t,this.mutation=n}return ce(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),zg=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:gh.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:gh.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ap.EMPTY_BYTE_STRING;ue(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ce(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Bg=ce((function e(t){ue(this,e),this.ne=t}));function qg(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Wg(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Vm(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Lm(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Kg(t.version)};else{if(!t.isUnknownDocument())return Xd();r.unknownDocument={path:n.path.toArray(),version:Kg(t.version)}}return r}function Wg(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Kg(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Hg(e){var t=new mh(e.seconds,e.nanoseconds);return gh.fromTimestamp(t)}function Gg(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Xm(e.ne,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Xm(e.ne,t)})),u=mh.fromMillis(t.localWriteTimeMs);return new Zg(t.batchId,u,n,o)}function Qg(e){var t,n,r=Hg(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Hg(e.lastLimboFreeSnapshotVersion):gh.min();return void 0!==e.query.documents?(Yd(1===(n=e.query).documents.length),t=gv(dv(qm(n.documents[0])))):t=function(e){return gv(eg(e))}(e.query),new zg(t,e.targetId,0,e.lastListenSequenceNumber,r,i,ap.fromBase64String(e.resumeToken))}function $g(e,t){var n,r=Kg(t.snapshotVersion),i=Kg(t.lastLimboFreeSnapshotVersion);n=Kp(t.target)?Ym(e.ne,t.target):Jm(e.ne,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:qp(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Xg(e){var t=eg({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yv(t,t.limit,"L"):t}function Yg(e,t){return new Vg(t.largestBatchId,Xm(e.ne,t.overlayMutation))}function Jg(e,t){var n=t.path.lastSegment();return[e,lg(t.path.popLast()),n]}function ey(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Kg(r.readTime),documentKey:lg(r.documentKey.path),largestBatchId:r.largestBatchId}}var ty=function(){function e(){ue(this,e)}return ce(e,[{key:"getBundleMetadata",value:function(e,t){return ny(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Hg(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ny(e).put({bundleId:(n=t).id,createTime:Kg(Fm(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ry(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Xg(t.bundledQuery),readTime:Hg(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ry(e).put(function(e){return{name:e.name,readTime:Kg(Fm(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ny(e){return Fg(e,"bundles")}function ry(e){return Fg(e,"namedQueries")}var iy=function(){function e(t,n){ue(this,e),this.wt=t,this.userId=n}return ce(e,[{key:"getOverlay",value:function(e,t){var n=this;return ay(e).get(Jg(this.userId,t)).next((function(e){return e?Yg(n.wt,e):null}))}},{key:"getOverlays",value:function(e,t){var n=this,r=vm();return Mh.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new Vg(t,a);i.push(r.ie(e,o))})),Mh.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(lg(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(ay(e).W("collectionPathOverlayIndex",i))})),Mh.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=vm(),a=lg(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return ay(e).K("collectionPathOverlayIndex",o).next((function(e){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Yg(r.wt,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=vm(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ay(e).J({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Yg(a.wt,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"ie",value:function(e,t){return ay(e).put(function(e,t,n){var r=Jg(t,n.mutation.key),i=(0,c.Z)(r,3);i[0];return{userId:t,collectionPath:i[1],documentId:i[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:$m(e.ne,n.mutation)}}(this.wt,this.userId,t))}}],[{key:"se",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function ay(e){return Fg(e,"documentOverlays")}var oy=function(){function e(){ue(this,e)}return ce(e,[{key:"re",value:function(e,t){this.oe(e,t),t.ue()}},{key:"oe",value:function(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(sp(e.integerValue));else if("doubleValue"in e){var n=sp(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),mp(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ce(t,20),"string"==typeof r?t.he(r):(t.he("".concat(r.seconds||"")),t.ae(r.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(cp(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?Dp(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Xd()}},{key:"le",value:function(e,t){this.ce(t,25),this.ge(e,t)}},{key:"ge",value:function(e,t){t.he(e)}},{key:"we",value:function(e,t){var n=e.fields||{};this.ce(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.le(a,t),this.oe(n[a],t)}}},{key:"me",value:function(e,t){var n=e.values||[];this.ce(t,50);var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.oe(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ce(t,37),xh.fromName(e).path.forEach((function(e){n.ce(t,60),n.ge(e,t)}))}},{key:"ce",value:function(e,t){e.ae(t)}},{key:"fe",value:function(e){e.ae(2)}}]),e}();function uy(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function sy(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=uy(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}oy.ye=new oy;var cy=function(){function e(){ue(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ce(e,[{key:"pe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ie(n.value),n=t.next();this.Te()}},{key:"Ee",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.Ae(n.value),n=t.next();this.Re()}},{key:"be",value:function(e){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{var a=r.codePointAt(0);this.Ie(240|a>>>18),this.Ie(128|63&a>>>12),this.Ie(128|63&a>>>6),this.Ie(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Te()}},{key:"Pe",value:function(e){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{var a=r.codePointAt(0);this.Ae(240|a>>>18),this.Ae(128|63&a>>>12),this.Ae(128|63&a>>>6),this.Ae(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.Re()}},{key:"ve",value:function(e){var t=this.Ve(e),n=sy(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"De",value:function(e){var t=this.Ve(e),n=sy(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Ce",value:function(){this.xe(255),this.xe(255)}},{key:"Ne",value:function(){this.ke(255),this.ke(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Oe",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ve",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"Ie",value:function(e){var t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}},{key:"Ae",value:function(e){var t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}},{key:"Te",value:function(){this.xe(0),this.xe(1)}},{key:"Re",value:function(){this.ke(0),this.ke(1)}},{key:"xe",value:function(e){this.Se(1),this.buffer[this.position++]=e}},{key:"ke",value:function(e){this.Se(1),this.buffer[this.position++]=~e}},{key:"Se",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),ly=function(){function e(t){ue(this,e),this.Me=t}return ce(e,[{key:"de",value:function(e){this.Me.pe(e)}},{key:"he",value:function(e){this.Me.be(e)}},{key:"ae",value:function(e){this.Me.ve(e)}},{key:"ue",value:function(){this.Me.Ce()}}]),e}(),fy=function(){function e(t){ue(this,e),this.Me=t}return ce(e,[{key:"de",value:function(e){this.Me.Ee(e)}},{key:"he",value:function(e){this.Me.Pe(e)}},{key:"ae",value:function(e){this.Me.De(e)}},{key:"ue",value:function(){this.Me.Ne()}}]),e}(),dy=function(){function e(){ue(this,e),this.Me=new cy,this.Fe=new ly(this.Me),this.$e=new fy(this.Me)}return ce(e,[{key:"seed",value:function(e){this.Me.seed(e)}},{key:"Be",value:function(e){return 0===e?this.Fe:this.$e}},{key:"Oe",value:function(){return this.Me.Oe()}},{key:"reset",value:function(){this.Me.reset()}}]),e}(),hy=function(){function e(t,n,r,i){ue(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return ce(e,[{key:"Le",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function py(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=vy(e.arrayValue,t.arrayValue))?n:0!==(n=vy(e.directionalValue,t.directionalValue))?n:xh.comparator(e.documentKey,t.documentKey)}function vy(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var my=function(){function e(t){ue(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];var n,r=oe(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.ht()?this.Ke=i:this.qe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return ce(e,[{key:"Ge",value:function(e){var t=Sh(e);if(void 0!==t&&!this.Qe(t))return!1;for(var n=Ih(e),r=0,i=0;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){var a=n[r];if(!this.je(this.Ke,a)||!this.We(this.Ue[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],o))return!1}return!0}},{key:"Qe",value:function(e){var t,n=oe(this.qe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.je(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"je",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"We",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),gy=function(){function e(){ue(this,e),this.ze=new yy}return ce(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.ze.add(t),Mh.resolve()}},{key:"getCollectionParents",value:function(e,t){return Mh.resolve(this.ze.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Mh.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Mh.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Mh.resolve(null)}},{key:"getIndexType",value:function(e,t){return Mh.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Mh.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Mh.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Mh.resolve(Rh.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Mh.resolve(Rh.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Mh.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Mh.resolve()}}]),e}(),yy=function(){function e(){ue(this,e),this.index={}}return ce(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new tp(bh.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new tp(bh.comparator)).toArray()}}]),e}(),by=new Uint8Array(0),ky=function(){function e(t,n){ue(this,e),this.user=t,this.databaseId=n,this.He=new yy,this.Je=new cm((function(e){return qp(e)}),(function(e,t){return Wp(e,t)})),this.uid=t.uid||""}return ce(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.He.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.He.add(t)}));var a={collectionId:r,parent:lg(i)};return wy(e).put(a)}return Mh.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[vh(t),""],!1,!0);return wy(e).K(r).next((function(e){var r,i=oe(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(hg(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=this,r=_y(e),i=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);delete i.indexId;var a=r.add(i);if(t.indexState){var o=Sy(e);return a.next((function(e){o.put(ey(e,n.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return a.next()}},{key:"deleteFieldIndex",value:function(e,t){var n=_y(e),r=Sy(e),i=xy(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=xy(e),i=!0,a=new Map;return Mh.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=km(),o=[];return Mh.forEach(a,(function(i,a){var u;Hd("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(qp(t)));var s=function(e,t){var n=Sh(t);if(void 0===n)return null;var r,i=oe(Hp(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=oe(Ih(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=oe(Hp(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=oe(Ih(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Gp(e,o.fieldPath,e.startAt):Qp(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new av(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=oe(Ih(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Qp(e,o.fieldPath,e.endAt):Gp(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new av(r,i)}(a,i),d=n.Ze(i,a,l),h=n.Ze(i,a,f),p=n.tn(i,a,c),v=n.en(i.indexId,s,d,l.inclusive,h,f.inclusive,p);return Mh.forEach(v,(function(n){return r.j(n,t.limit).next((function(t){t.forEach((function(t){var n=xh.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return Mh.resolve(null)}))}},{key:"Ye",value:function(e){var t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}},{key:"en",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.nn(t[s/c]):by,d=u.sn(e,f,n[s%c],r),h=u.rn(e,f,i[s%c],a),p=o.map((function(t){return u.sn(e,f,t,!0)}));l.push.apply(l,(0,ne.Z)(u.createRange(d,h,p)))},d=0;d<s;++d)f(d);return l}},{key:"sn",value:function(e,t,n,r){var i=new hy(e,xh.empty(),t,n);return r?i:i.Le()}},{key:"rn",value:function(e,t,n,r){var i=new hy(e,xh.empty(),t,n);return r?i.Le():i}},{key:"Xe",value:function(e,t){var n=new my(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=oe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.Ge(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return Mh.forEach(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new tp(wh.comparator),r=!1,i=oe(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=oe(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"on",value:function(e,t){var n,r=new dy,i=oe(Ih(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Be(a.kind);oy.ye.re(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Oe()}},{key:"nn",value:function(e){var t=new dy;return oy.ye.re(e,t.Be(0)),t.Oe()}},{key:"un",value:function(e,t){var n=new dy;return oy.ye.re(Tp(this.databaseId,t),n.Be(function(e){var t=Ih(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}},{key:"tn",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new dy);var i,a=0,o=oe(Ih(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=oe(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.cn(t,s.fieldPath)&&Np(c))r=this.an(r,s,c);else{var d=f.Be(s.kind);oy.ye.re(c,d)}}}catch(h){l.e(h)}finally{l.f()}}}catch(h){o.e(h)}finally{o.f()}return this.hn(r)}},{key:"Ze",value:function(e,t,n){return this.tn(e,t,n.position)}},{key:"hn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Oe();return t}},{key:"an",value:function(e,t,n){var r,i=(0,ne.Z)(e),a=[],o=oe(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=oe(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new dy;f.seed(l.Oe()),oy.ye.re(s,f.Be(t.kind)),a.push(f)}}catch(d){c.e(d)}finally{c.f()}}}catch(d){o.e(d)}finally{o.f()}return a}},{key:"cn",value:function(e,t){return!!e.filters.find((function(e){return e instanceof $p&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=_y(e),i=Sy(e);return(t?r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.K()).next((function(e){var t=[];return Mh.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Th(t.sequenceNumber,new Rh(Hg(t.readTime),new xh(hg(t.documentKey)),t.largestBatchId)):Th.empty(),r=e.fields.map((function(e){var t=(0,c.Z)(e,2),n=t[0],r=t[1];return new Eh(wh.fromServerFormat(n),r)}));return new _h(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:hh(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=_y(e),a=Sy(e);return this.ln(e).next((function(e){return i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return Mh.forEach(t,(function(t){return a.put(ey(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Mh.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Mh.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Mh.forEach(a,(function(r){return n.fn(e,t,r).next((function(t){var a=n.dn(i,r);return t.isEqual(a)?Mh.resolve():n._n(e,i,r,t,a)}))}))}))}))}},{key:"wn",value:function(e,t,n,r){return xy(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}},{key:"mn",value:function(e,t,n,r){return xy(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}},{key:"fn",value:function(e,t,n){var r=xy(e),i=new tp(py);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(function(e,r){i=i.add(new hy(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"dn",value:function(e,t){var n=new tp(py),r=this.on(t,e);if(null==r)return n;var i=Sh(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Np(a)){var o,u=oe(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new hy(t.indexId,e.key,this.nn(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new hy(t.indexId,e.key,by,r));return n}},{key:"_n",value:function(e,t,n,r,i){var a=this;Hd("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=rp(a),s=rp(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=rp(o)):l?(i(u),u=rp(a)):(u=rp(a),s=rp(o))}}(r,i,py,(function(r){o.push(a.wn(e,t,n,r))}),(function(r){o.push(a.mn(e,t,n,r))})),Mh.waitFor(o)}},{key:"ln",value:function(e){var t=1;return Sy(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return py(e,t)})).filter((function(e,t,n){return!t||0!==py(e,n[t-1])}));var r=[];r.push(e);var i,a=oe(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=py(o,e),s=py(o,t);if(0===u)r[0]=e.Le();else if(u>0&&s<0)r.push(o),r.push(o.Le());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,by,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,by,[]]));return c}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return this.getFieldIndexes(e,t).next(Iy)}},{key:"getMinOffset",value:function(e,t){var n=this;return Mh.mapArray(this.Ye(t),(function(t){return n.Xe(e,t).next((function(e){return e||Xd()}))})).next(Iy)}}]),e}();function wy(e){return Fg(e,"collectionParents")}function xy(e){return Fg(e,"indexEntries")}function _y(e){return Fg(e,"indexConfiguration")}function Sy(e){return Fg(e,"indexState")}function Iy(e){Yd(0!==e.length);for(var t=e[0].indexState.offset,n=t.largestBatchId,r=1;r<e.length;r++){var i=e[r].indexState.offset;Ah(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Rh(t.readTime,t.documentKey,n)}var Ey={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ty=function(){function e(t,n,r){ue(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ce(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Cy(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.J({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Yd(1===u)})));var c,l=[],f=oe(n.mutations);try{for(f.s();!(c=f.n()).done;){var d=c.value,h=mg(t,d.key.path,n.batchId);a.push(i.delete(h)),l.push(d.key)}}catch(p){f.e(p)}finally{f.f()}return Mh.waitFor(a).next((function(){return l}))}function Ny(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Xd();t=e.noDocument}return JSON.stringify(t).length}Ty.DEFAULT_COLLECTION_PERCENTILE=10,Ty.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ty.DEFAULT=new Ty(41943040,Ty.DEFAULT_COLLECTION_PERCENTILE,Ty.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ty.DISABLED=new Ty(-1,0,0);var Ry=function(){function e(t,n,r,i){ue(this,e),this.userId=t,this.wt=n,this.indexManager=r,this.referenceDelegate=i,this.gn={}}return ce(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Py(e).J({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Oy(e),o=Py(e);return o.add({}).next((function(u){Yd("number"==typeof u);var s,c=new Zg(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return $m(e.ne,t)})),i=n.mutations.map((function(t){return $m(e.ne,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.wt,i.userId,c),f=[],d=new tp((function(e,t){return hh(e.canonicalString(),t.canonicalString())})),h=oe(r);try{for(h.s();!(s=h.n()).done;){var p=s.value,v=mg(i.userId,p.key.path,u);d=d.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,gg))}}catch(m){h.e(m)}finally{h.f()}return d.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.gn[u]=c.keys()})),Mh.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return Py(e).get(t).next((function(e){return e?(Yd(e.userId===n.userId),Gg(n.wt,e)):null}))}},{key:"yn",value:function(e,t){var n=this;return this.gn[t]?Mh.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.gn[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return Py(e).J({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Yd(t.batchId>=r),a=Gg(n.wt,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Py(e).J({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Py(e).K("userMutationsIndex",n).next((function(e){return e.map((function(e){return Gg(t.wt,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=vg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Oy(e).J({range:i},(function(r,i,o){var u=(0,c.Z)(r,3),s=u[0],l=u[1],f=u[2],d=hg(l);if(s===n.userId&&t.path.isEqual(d))return Py(e).get(f).next((function(e){if(!e)throw Xd();Yd(e.userId===n.userId),a.push(Gg(n.wt,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new tp(hh),i=[];return t.forEach((function(t){var a=vg(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Oy(e).J({range:o},(function(e,i,a){var o=(0,c.Z)(e,3),u=o[0],s=o[1],l=o[2],f=hg(s);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),Mh.waitFor(i).next((function(){return n.pn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=vg(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new tp(hh);return Oy(e).J({range:o},(function(e,t,a){var o=(0,c.Z)(e,3),s=o[0],l=o[1],f=o[2],d=hg(l);s===n.userId&&r.isPrefixOf(d)?d.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.pn(e,u)}))}},{key:"pn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Py(e).get(t).next((function(e){if(null===e)throw Xd();Yd(e.userId===n.userId),r.push(Gg(n.wt,e))})))})),Mh.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Cy(e.ee,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.In(t.batchId)})),Mh.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"In",value:function(e){delete this.gn[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Mh.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return Oy(e).J({range:r},(function(e,n,r){if(e[0]===t.userId){var a=hg(e[1]);i.push(a)}else r.done()})).next((function(){Yd(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Ay(e,this.userId,t)}},{key:"Tn",value:function(e){var t=this;return Dy(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"se",value:function(t,n,r,i){return Yd(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Ay(e,t,n){var r=vg(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Oy(e).J({range:a,H:!0},(function(e,n,r){var a=(0,c.Z)(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function Py(e){return Fg(e,"mutations")}function Oy(e){return Fg(e,"documentMutations")}function Dy(e){return Fg(e,"mutationQueues")}var Ly=function(){function e(t){ue(this,e),this.En=t}return ce(e,[{key:"next",value:function(){return this.En+=2,this.En}}],[{key:"An",value:function(){return new e(0)}},{key:"Rn",value:function(){return new e(-1)}}]),e}(),My=function(){function e(t,n){ue(this,e),this.referenceDelegate=t,this.wt=n}return ce(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.bn(e).next((function(n){var r=new Ly(n.highestTargetId);return n.highestTargetId=r.next(),t.Pn(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.bn(e).next((function(e){return gh.fromTimestamp(new mh(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.bn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.bn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Pn(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.vn(e,t).next((function(){return n.bn(e).next((function(r){return r.targetCount+=1,n.Vn(t,r),n.Pn(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.vn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return jy(e).delete(t.targetId)})).next((function(){return n.bn(e)})).next((function(t){return Yd(t.targetCount>0),t.targetCount-=1,n.Pn(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return jy(e).J((function(o,u){var s=Qg(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Mh.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return jy(e).J((function(e,n){var r=Qg(n);t(r)}))}},{key:"bn",value:function(e){return Fy(e).get("targetGlobalKey").next((function(e){return Yd(null!==e),e}))}},{key:"Pn",value:function(e,t){return Fy(e).put("targetGlobalKey",t)}},{key:"vn",value:function(e,t){return jy(e).put($g(this.wt,t))}},{key:"Vn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.bn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=qp(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return jy(e).J({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Qg(n);Wp(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Zy(e);return t.forEach((function(t){var o=lg(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),Mh.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Zy(e);return Mh.forEach(t,(function(t){var a=lg(t.path);return Mh.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Zy(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Zy(e),i=km();return r.J({range:n,H:!0},(function(e,t,n){var r=hg(e[1]),a=new xh(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=lg(t.path),r=IDBKeyRange.bound([n],[vh(n)],!1,!0),i=0;return Zy(e).J({index:"documentTargetsIndex",H:!0,range:r},(function(e,t,n){var r=(0,c.Z)(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"te",value:function(e,t){return jy(e).get(t).next((function(e){return e?Qg(e):null}))}}]),e}();function jy(e){return Fg(e,"targets")}function Fy(e){return Fg(e,"targetGlobal")}function Zy(e){return Fg(e,"targetDocuments")}function Uy(e,t){var n=(0,c.Z)(e,2),r=n[0],i=n[1],a=(0,c.Z)(t,2),o=a[0],u=a[1],s=hh(r,o);return 0===s?hh(i,u):s}var Vy=function(){function e(t){ue(this,e),this.Sn=t,this.buffer=new tp(Uy),this.Dn=0}return ce(e,[{key:"Cn",value:function(){return++this.Dn}},{key:"xn",value:function(e){var t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();Uy(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),zy=function(){function e(t,n,r){ue(this,e),this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Nn=null}return ce(e,[{key:"start",value:function(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}},{key:"stop",value:function(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}},{key:"started",get:function(){return null!==this.Nn}},{key:"kn",value:function(e){var t=this;Hd("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Nn=null,e.prev=1,e.next=4,t.localStore.collectGarbage(t.garbageCollector);case 4:e.next=14;break;case 6:if(e.prev=6,e.t0=e.catch(1),!Vh(e.t0)){e.next=12;break}Hd("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e.t0),e.next=14;break;case 12:return e.next=14,Dh(e.t0);case 14:return e.next=16,t.kn(3e5);case 16:case"end":return e.stop()}}),e,null,[[1,6]])}))))}}]),e}(),By=function(){function e(t,n){ue(this,e),this.On=t,this.params=n}return ce(e,[{key:"calculateTargetCount",value:function(e,t){return this.On.Mn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Mh.resolve(Gh.ot);var r=new Vy(t);return this.On.forEachTarget(e,(function(e){return r.xn(e.sequenceNumber)})).next((function(){return n.On.Fn(e,(function(e){return r.xn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.On.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.On.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Hd("LruGarbageCollector","Garbage collection skipped; disabled"),Mh.resolve(Ey)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Hd("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Ey):n.$n(e,t)}))}},{key:"getCacheSize",value:function(e){return this.On.getCacheSize(e)}},{key:"$n",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Hd("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Kd()<=Xe.DEBUG&&Hd("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Mh.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),qy=function(){function e(t,n){ue(this,e),this.db=t,this.garbageCollector=function(e,t){return new By(e,t)}(this,n)}return ce(e,[{key:"Mn",value:function(e){var t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Bn",value:function(e){var t=0;return this.Fn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"Fn",value:function(e,t){return this.Ln(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Wy(e,n)}},{key:"removeReference",value:function(e,t,n){return Wy(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Wy(e,t)}},{key:"Un",value:function(e,t){return function(e,t){var n=!1;return Dy(e).Y((function(r){return Ay(e,r,t).next((function(e){return e&&(n=!0),Mh.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Ln(e,(function(o,u){if(u<=t){var s=n.Un(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,gh.min()),Zy(e).delete([0,lg(o.path)])}))}));i.push(s)}})).next((function(){return Mh.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Wy(e,t)}},{key:"Ln",value:function(e,t){var n,r=Zy(e),i=Gh.ot;return r.J({index:"documentTargetsIndex"},(function(e,r){var a=(0,c.Z)(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==Gh.ot&&t(new xh(hg(n)),i),i=s,n=u):i=Gh.ot})).next((function(){i!==Gh.ot&&t(new xh(hg(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Wy(e,t){return Zy(e).put(function(e,t){return{targetId:0,path:lg(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var Ky=function(){function e(){ue(this,e),this.changes=new cm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ce(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Vp.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Mh.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Hy=function(){function e(t){ue(this,e),this.wt=t}return ce(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return Xy(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return Xy(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Wg(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.qn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Vp.newInvalidDocument(t);return Xy(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yy(t))},(function(e,i){r=n.Kn(t,i)})).next((function(){return r}))}},{key:"Gn",value:function(e,t){var n=this,r={size:0,document:Vp.newInvalidDocument(t)};return Xy(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yy(t))},(function(e,i){r={document:n.Kn(t,i),size:Ny(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=fm();return this.Qn(e,t,(function(e,t){var i=n.Kn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"jn",value:function(e,t){var n=this,r=fm(),i=new Yh(xh.comparator);return this.Qn(e,t,(function(e,t){var a=n.Kn(e,t);r=r.insert(e,a),i=i.insert(e,Ny(t))})).next((function(){return{documents:r,Wn:i}}))}},{key:"Qn",value:function(e,t,n){if(t.isEmpty())return Mh.resolve();var r=new tp(eb);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(Yy(r.first()),Yy(r.last())),a=r.getIterator(),o=a.getNext();return Xy(e).J({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=xh.fromSegments([].concat((0,ne.Z)(t.prefixPath),[t.collectionGroup,t.documentId]));o&&eb(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.q(Yy(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Wg(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xy(e).K(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=fm(),i=oe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.Kn(xh.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=fm(),o=Jy(t,n),u=Jy(t,Rh.max());return Xy(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.Kn(xh.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Qy(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return $y(e).get("remoteDocumentGlobalKey").next((function(e){return Yd(!!e),e}))}},{key:"qn",value:function(e,t){return $y(e).put("remoteDocumentGlobalKey",t)}},{key:"Kn",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=Gm(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=xh.fromSegments(t.noDocument.path),i=Hg(t.noDocument.readTime);n=Vp.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Xd();var a=xh.fromSegments(t.unknownDocument.path),o=Hg(t.unknownDocument.version);n=Vp.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new mh(e[0],e[1]);return gh.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!n.isNoDocument()||!n.version.isEqual(gh.min()))return n}return Vp.newInvalidDocument(e)}}]),e}();function Gy(e){return new Hy(e)}var Qy=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this)).zn=e,i.trackRemovals=r,i.Hn=new cm((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ce(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new tp((function(e,t){return hh(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Hn.get(a);if(n.push(t.zn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=qg(t.zn.wt,o);i=i.add(a.path.popLast());var c=Ny(s);r+=c-u.size,n.push(t.zn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=qg(t.zn.wt,o.convertToNoDocument(gh.min()));n.push(t.zn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.zn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.zn.updateMetadata(e,r)),Mh.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.zn.Gn(e,t).next((function(e){return n.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.zn.jn(e,t).next((function(e){var t=e.documents;return e.Wn.forEach((function(e,r){n.Hn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(Ky);function $y(e){return Fg(e,"remoteDocumentGlobal")}function Xy(e){return Fg(e,"remoteDocumentsV14")}function Yy(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Jy(e,t){var n=t.documentKey.path.toArray();return[e,Wg(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function eb(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=hh(n[a],r[a]))return i;return(i=hh(n.length,r.length))||((i=hh(n[n.length-2],r[r.length-2]))||hh(n[n.length-1],r[r.length-1]))}var tb=ce((function e(t,n){ue(this,e),this.overlayedDocument=t,this.mutatedFields=n})),nb=function(){function e(t,n,r,i){ue(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return ce(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.getBaseDocument(e,t,r)})).next((function(e){return null!==r&&Gv(r.mutation,e,ip.empty(),mh.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,km()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:km(),i=vm();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=hm();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=vm();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,km())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=fm(),a=gm(),o=gm();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Yv)?i=i.insert(t.key,t):void 0!==o&&(a.set(t.key,o.mutation.getFieldMask()),Gv(o.mutation,t,o.mutation.getFieldMask(),mh.now()))})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new tb(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=gm(),i=new Yh((function(e,t){return e-t})),a=km();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=oe(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||ip.empty();o=e.applyToLocalView(a,o),r.set(n,o);var u=(i.get(e.batchId)||km()).add(n);i=i.insert(e.batchId,u)}}))};for(a.s();!(n=a.n()).done;)o()}catch(u){a.e(u)}finally{a.f()}})).next((function(){for(var o=[],u=i.getReverseIterator(),s=function(){var i=u.getNext(),s=i.key,c=i.value,l=mm();c.forEach((function(e){if(!a.has(e)){var n=Kv(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,s,l))};u.hasNext();)s();return Mh.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return xh.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):vv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Mh.resolve(vm()),u=-1,s=a;return o.next((function(t){return Mh.forEach(t,(function(t,n){return u<n.largestBatchId&&(u=n.largestBatchId),a.get(t)?Mh.resolve():i.getBaseDocument(e,t,n).next((function(e){s=s.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,s,t,km())})).next((function(e){return{batchId:u,changes:pm(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new xh(t)).next((function(e){var t=hm();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=hm();return this.indexManager.getCollectionParents(e,i).next((function(o){return Mh.forEach(o,(function(o){var u=function(e,t){return new lv(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next((function(a){return r=a,i.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId)})).next((function(e){e.forEach((function(e,t){var n=t.getKey();null===r.get(n)&&(r=r.insert(n,Vp.newInvalidDocument(n)))}));var n=hm();return r.forEach((function(r,i){var a=e.get(r);void 0!==a&&Gv(a.mutation,i,ip.empty(),mh.now()),xv(t,i)&&(n=n.insert(r,i))})),n}))}},{key:"getBaseDocument",value:function(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):Mh.resolve(Vp.newInvalidDocument(t))}}]),e}(),rb=function(){function e(t){ue(this,e),this.wt=t,this.Jn=new Map,this.Yn=new Map}return ce(e,[{key:"getBundleMetadata",value:function(e,t){return Mh.resolve(this.Jn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:Fm(n.createTime)}),Mh.resolve()}},{key:"getNamedQuery",value:function(e,t){return Mh.resolve(this.Yn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:Xg(e.bundledQuery),readTime:Fm(e.readTime)}}(t)),Mh.resolve()}}]),e}(),ib=function(){function e(){ue(this,e),this.overlays=new Yh(xh.comparator),this.Xn=new Map}return ce(e,[{key:"getOverlay",value:function(e,t){return Mh.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=vm();return Mh.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ie(e,t,i)})),Mh.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Xn.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Xn.delete(n)),Mh.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=vm(),i=t.length+1,a=new xh(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Mh.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Yh((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=vm(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=vm(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return Mh.resolve(s)}},{key:"ie",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Vg(t,n));var a=this.Xn.get(t);void 0===a&&(a=km(),this.Xn.set(t,a)),this.Xn.set(t,a.add(n.key))}}]),e}(),ab=function(){function e(){ue(this,e),this.Zn=new tp(ob.ts),this.es=new tp(ob.ns)}return ce(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new ob(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new ob(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"us",value:function(e){var t=this,n=new xh(new bh([])),r=new ob(n,e),i=new ob(n,e+1),a=[];return this.es.forEachInRange([r,i],(function(e){t.rs(e),a.push(e.key)})),a}},{key:"cs",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new xh(new bh([])),n=new ob(t,e),r=new ob(t,e+1),i=km();return this.es.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new ob(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),ob=function(){function e(t,n){ue(this,e),this.key=t,this.ls=n}return ce(e,null,[{key:"ts",value:function(e,t){return xh.comparator(e.key,t.key)||hh(e.ls,t.ls)}},{key:"ns",value:function(e,t){return hh(e.ls,t.ls)||xh.comparator(e.key,t.key)}}]),e}(),ub=function(){function e(t,n){ue(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.fs=1,this.ds=new tp(ob.ts)}return ce(e,[{key:"checkEmpty",value:function(e){return Mh.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.fs;this.fs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new Zg(i,t,n,r);this.mutationQueue.push(a);var o,u=oe(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ds=this.ds.add(new ob(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Mh.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Mh.resolve(this._s(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ws(n),i=r<0?0:r;return Mh.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Mh.resolve(0===this.mutationQueue.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Mh.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new ob(t,0),i=new ob(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],(function(e){var t=n._s(e.ls);a.push(t)})),Mh.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new tp(hh);return t.forEach((function(e){var t=new ob(e,0),i=new ob(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,i],(function(e){r=r.add(e.ls)}))})),Mh.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;xh.isDocumentKey(i)||(i=i.child(""));var a=new ob(new xh(i),0),o=new tp(hh);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),a),Mh.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t._s(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Yd(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();var r=this.ds;return Mh.forEach(t.mutations,(function(i){var a=new ob(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ds=r}))}},{key:"In",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new ob(t,0),r=this.ds.firstAfterOrEqual(n);return Mh.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Mh.resolve()}},{key:"ys",value:function(e,t){return this.ws(e)}},{key:"ws",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"_s",value:function(e){var t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),sb=function(){function e(t){ue(this,e),this.ps=t,this.docs=new Yh(xh.comparator),this.size=0}return ce(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Mh.resolve(n?n.document.mutableCopy():Vp.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=fm();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Vp.newInvalidDocument(e))})),Mh.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=fm(),i=new xh(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Ah(Nh(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Mh.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Xd()}},{key:"Is",value:function(e,t){return Mh.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new cb(this)}},{key:"getSize",value:function(e){return Mh.resolve(this.size)}}]),e}(),cb=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this)).zn=e,r}return ce(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.zn.addEntry(e,i)):t.zn.removeEntry(r)})),Mh.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.zn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.zn.getEntries(e,t)}}]),n}(Ky),lb=function(){function e(t){ue(this,e),this.persistence=t,this.Ts=new cm((function(e){return qp(e)}),Wp),this.lastRemoteSnapshotVersion=gh.min(),this.highestTargetId=0,this.Es=0,this.As=new ab,this.targetCount=0,this.Rs=Ly.An()}return ce(e,[{key:"forEachTarget",value:function(e,t){return this.Ts.forEach((function(e,n){return t(n)})),Mh.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Mh.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Mh.resolve(this.Es)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Mh.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),Mh.resolve()}},{key:"vn",value:function(e){this.Ts.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new Ly(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.vn(t),this.targetCount+=1,Mh.resolve()}},{key:"updateTargetData",value:function(e,t){return this.vn(t),Mh.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Mh.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Ts.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Ts.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Mh.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Mh.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Ts.get(t)||null;return Mh.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Mh.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Mh.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.us(t),Mh.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Mh.resolve(n)}},{key:"containsKey",value:function(e,t){return Mh.resolve(this.As.containsKey(t))}}]),e}(),fb=function(){function e(t,n){var r=this;ue(this,e),this.bs={},this.overlays={},this.Ps=new Gh(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new lb(this),this.indexManager=new gy,this.remoteDocumentCache=new sb((function(e){return r.referenceDelegate.Ss(e)})),this.wt=new Bg(n),this.Ds=new rb(this.wt)}return ce(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.vs=!1,Promise.resolve()}},{key:"started",get:function(){return this.vs}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new ib,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.bs[e.toKey()];return n||(n=new ub(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Hd("MemoryPersistence","Starting transaction:",e);var i=new db(this.Ps.next());return this.referenceDelegate.Cs(),n(i).next((function(e){return r.referenceDelegate.xs(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ns",value:function(e,t){return Mh.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),db=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ce(n)}(Oh),hb=function(){function e(t){ue(this,e),this.persistence=t,this.ks=new ab,this.Os=null}return ce(e,[{key:"Fs",get:function(){if(this.Os)return this.Os;throw Xd()}},{key:"addReference",value:function(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),Mh.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),Mh.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Fs.add(t.toString()),Mh.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ks.us(t.targetId).forEach((function(e){return n.Fs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Fs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Cs",value:function(){this.Os=new Set}},{key:"xs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mh.forEach(this.Fs,(function(r){var i=xh.fromPath(r);return t.$s(e,i).next((function(e){e||n.removeEntry(i,gh.min())}))})).next((function(){return t.Os=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.$s(e,t).next((function(e){e?n.Fs.delete(t.toString()):n.Fs.add(t.toString())}))}},{key:"Ss",value:function(e){return 0}},{key:"$s",value:function(e,t){var n=this;return Mh.or([function(){return Mh.resolve(n.ks.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ns(e,t)}])}}],[{key:"Ms",value:function(t){return new e(t)}}]),e}(),pb=function(){function e(t){ue(this,e),this.wt=t}return ce(e,[{key:"O",value:function(e,t,n,r){var i=this,a=new jh("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pg,{unique:!0}),e.createObjectStore("documentMutations")}(e),vb(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=Mh.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),vb(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gh.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").K().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",pg,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return Mh.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Bs(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.Ls(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Us(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.qs(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Ks(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Ng});t.createIndex("collectionPathOverlayIndex",Rg,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Ag,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:yg});t.createIndex("documentKeyIndex",bg),t.createIndex("collectionGroupIndex",kg)}(e)})).next((function(){return i.Gs(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){return i.Qs(e,a)}))),n<15&&r>=15&&(o=o.next((function(){return function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Ig}).createIndex("sequenceNumberIndex",Eg,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Tg}).createIndex("documentKeyIndex",Cg,{unique:!1})}(e)}))),o}},{key:"Ls",value:function(e){var t=0;return e.store("remoteDocuments").J((function(e,n){t+=Ny(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Bs",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.K().next((function(n){return Mh.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.K("userMutationsIndex",i).next((function(r){return Mh.forEach(r,(function(r){Yd(r.userId===n.userId);var i=Gg(t.wt,r);return Cy(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Us",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.J((function(n,i){var a=new bh(n),o=function(e){return[0,lg(e)]}(a);r.push(t.get(o).next((function(n){return n?Mh.resolve():function(n){return t.put({targetId:0,path:lg(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return Mh.waitFor(r)}))}))}},{key:"qs",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Sg});var n=t.store("collectionParents"),r=new yy,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:lg(i)})}};return t.store("remoteDocuments").J({H:!0},(function(e,t){var n=new bh(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").J({H:!0},(function(e,t){var n=(0,c.Z)(e,3),r=(n[0],n[1]),a=(n[2],hg(r));return i(a.popLast())}))}))}},{key:"Ks",value:function(e){var t=this,n=e.store("targets");return n.J((function(e,r){var i=Qg(r),a=$g(t.wt,i);return n.put(a)}))}},{key:"Gs",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.J((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new xh(bh.fromString(i.document.name).popFirst(5)):i.noDocument?xh.fromSegments(i.noDocument.path):i.unknownDocument?xh.fromSegments(i.unknownDocument.path):Xd()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return Mh.waitFor(r)}))}},{key:"Qs",value:function(e,t){var n=this,r=t.store("mutations"),i=Gy(this.wt),a=new fb(hb.Ms,this.wt.ne);return r.K().next((function(e){var r=new Map;return e.forEach((function(e){var t,i=null!==(t=r.get(e.userId))&&void 0!==t?t:km();Gg(n.wt,e).keys().forEach((function(e){return i=i.add(e)})),r.set(e.userId,i)})),Mh.forEach(r,(function(e,r){var o=new Bd(r),u=iy.se(n.wt,o),s=a.getIndexManager(o),c=Ry.se(o,n.wt,s,a.referenceDelegate);return new nb(i,c,u,s).recalculateAndSaveOverlaysForDocumentKeys(new jg(t,Gh.ot),e).next()}))}))}}]),e}();function vb(e){e.createObjectStore("targetDocuments",{keyPath:xg}).createIndex("documentTargetsIndex",_g,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",wg,{unique:!0}),e.createObjectStore("targetGlobal")}var mb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",gb=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:14;if(ue(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.js=a,this.window=o,this.document=u,this.Ws=c,this.zs=l,this.Hs=f,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=function(e){return Promise.resolve()},!e.V())throw new th(eh.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new qy(this,i),this.ei=n+"main",this.wt=new Bg(s),this.ni=new Fh(this.ei,this.Hs,new pb(this.wt)),this.Vs=new My(this.referenceDelegate,this.wt),this.remoteDocumentCache=Gy(this.wt),this.Ds=new ty,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&Gd("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ce(e,[{key:"start",value:function(){var e=this;return this.ii().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new th(eh.FAILED_PRECONDITION,mb);return e.ri(),e.oi(),e.ui(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Vs.getHighestSequenceNumber(t)}))})).then((function(t){e.Ps=new Gh(t,e.Ws)})).then((function(){e.vs=!0})).catch((function(t){return e.ni&&e.ni.close(),Promise.reject(t)}))}},{key:"ci",value:function(e){var t=this;return this.ti=function(){var n=ie(te().mark((function n(r){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ni.F(function(){var t=ie(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.ii();case 4:case"end":return e.stop()}}),e)})))))}},{key:"ii",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return bb(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.ai(t).next((function(t){t||(e.isPrimary=!1,e.js.enqueueRetryable((function(){return e.ti(!1)})))}))})).next((function(){return e.hi(t)})).next((function(n){return e.isPrimary&&!n?e.li(t).next((function(){return!1})):!!n&&e.fi(t).next((function(){return!0}))}))})).catch((function(t){if(Vh(t))return Hd("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Hd("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.js.enqueueRetryable((function(){return e.ti(t)})),e.isPrimary=t}))}},{key:"ai",value:function(e){var t=this;return yb(e).get("owner").next((function(e){return Mh.resolve(t.di(e))}))}},{key:"_i",value:function(e){return bb(e).delete(this.clientId)}},{key:"wi",value:function(){var e=ie(te().mark((function e(){var t,n,r,i,a=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.mi(this.Zs,18e5)){e.next=6;break}return this.Zs=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Fg(e,"clientMetadata");return t.K().next((function(e){var n=a.gi(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Mh.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.si){n=oe(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.si.removeItem(this.yi(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ui",value:function(){var e=this;this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.ii().then((function(){return e.wi()})).then((function(){return e.ui()}))}))}},{key:"di",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"hi",value:function(e){var t=this;return this.zs?Mh.resolve(!0):yb(e).get("owner").next((function(n){if(null!==n&&t.mi(n.leaseTimestampMs,5e3)&&!t.pi(n.ownerId)){if(t.di(n)&&t.networkEnabled)return!0;if(!t.di(n)){if(!n.allowTabSynchronization)throw new th(eh.FAILED_PRECONDITION,mb);return!1}}return!(!t.networkEnabled||!t.inForeground)||bb(e).K().next((function(e){return void 0===t.gi(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Hd("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=ie(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.vs=!1,this.Ii(),this.Xs&&(this.Xs.cancel(),this.Xs=null),this.Ti(),this.Ei(),e.next=7,this.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new jg(e,Gh.ot);return t.li(n).next((function(){return t._i(n)}))}));case 7:this.ni.close(),this.Ai();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gi",value:function(e,t){var n=this;return e.filter((function(e){return n.mi(e.updateTimeMs,t)&&!n.pi(e.clientId)}))}},{key:"Ri",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return bb(t).K().next((function(t){return e.gi(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.vs}},{key:"getMutationQueue",value:function(e,t){return Ry.se(e,this.wt,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Vs}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getIndexManager",value:function(e){return new ky(e,this.wt.ne.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return iy.se(this.wt,e)}},{key:"getBundleCache",value:function(){return this.Ds}},{key:"runTransaction",value:function(e,t,n){var r=this;Hd("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=15===(i=this.Hs)?Mg:14===i?Lg:13===i?Dg:12===i?Og:11===i?Pg:void Xd();return this.ni.runTransaction(e,o,u,(function(i){return a=new jg(i,r.Ps?r.Ps.next():Gh.ot),"readwrite-primary"===t?r.ai(a).next((function(e){return!!e||r.hi(a)})).next((function(t){if(!t)throw Gd("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.js.enqueueRetryable((function(){return r.ti(!1)})),new th(eh.FAILED_PRECONDITION,Ph);return n(a)})).next((function(e){return r.fi(a).next((function(){return e}))})):r.bi(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"bi",value:function(e){var t=this;return yb(e).get("owner").next((function(e){if(null!==e&&t.mi(e.leaseTimestampMs,5e3)&&!t.pi(e.ownerId)&&!t.di(e)&&!(t.zs||t.allowTabSynchronization&&e.allowTabSynchronization))throw new th(eh.FAILED_PRECONDITION,mb)}))}},{key:"fi",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yb(e).put("owner",t)}},{key:"li",value:function(e){var t=this,n=yb(e);return n.get("owner").next((function(e){return t.di(e)?(Hd("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Mh.resolve()}))}},{key:"mi",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Gd("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ri",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=function(){e.js.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.ii()}))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}},{key:"Ti",value:function(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}},{key:"oi",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=function(){t.Ii(),!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.js.enterRestrictedMode(!0),t.js.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Js))}},{key:"Ei",value:function(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}},{key:"pi",value:function(e){var t;try{var n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Hd("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Gd("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ii",value:function(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(zs){Gd("Failed to set zombie client id.",zs)}}},{key:"Ai",value:function(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(zs){}}},{key:"yi",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"V",value:function(){return Fh.V()}}]),e}();function yb(e){return Fg(e,"owner")}function bb(e){return Fg(e,"clientMetadata")}function kb(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var wb=function(){function e(t,n,r,i){ue(this,e),this.targetId=t,this.fromCache=n,this.Pi=r,this.vi=i}return ce(e,null,[{key:"Vi",value:function(t,n){var r,i=km(),a=km(),o=oe(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),xb=function(){function e(){ue(this,e),this.Si=!1}return ce(e,[{key:"initialize",value:function(e,t){this.Di=e,this.indexManager=t,this.Si=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ci(e,t).next((function(a){return a||i.xi(e,t,r,n)})).next((function(n){return n||i.Ni(e,t)}))}},{key:"Ci",value:function(e,t){return Mh.resolve(null)}},{key:"xi",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(gh.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next((function(a){var o=i.ki(t,a);return i.Oi(t,o,n,r)?i.Ni(e,t):(Kd()<=Xe.DEBUG&&Hd("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wv(t)),i.Mi(e,o,t,Ch(r,-1)))}))}},{key:"ki",value:function(e,t){var n=new tp(Sv(e));return t.forEach((function(t,r){xv(e,r)&&(n=n.add(r))})),n}},{key:"Oi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ni",value:function(e,t){return Kd()<=Xe.DEBUG&&Hd("QueryEngine","Using full collection scan to execute query:",wv(t)),this.Di.getDocumentsMatchingQuery(e,t,Rh.min())}},{key:"Mi",value:function(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),_b=function(){function e(t,n,r,i){ue(this,e),this.persistence=t,this.Fi=n,this.wt=i,this.$i=new Yh(hh),this.Bi=new cm((function(e){return qp(e)}),Wp),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(r)}return ce(e,[{key:"qi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nb(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.$i)}))}}]),e}();function Sb(e,t,n,r){return new _b(e,t,n,r)}function Ib(e,t){return Eb.apply(this,arguments)}function Eb(){return Eb=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.qi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=km(),s=oe(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=oe(c.mutations);try{for(f.s();!(l=f.n()).done;){var d=l.value;u=u.add(d.key)}}catch(b){f.e(b)}finally{f.f()}}}catch(b){s.e(b)}finally{s.f()}var h,p=oe(n);try{for(p.s();!(h=p.n()).done;){var v=h.value;o.push(v.batchId);var m,g=oe(v.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;u=u.add(y.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.localDocuments.getDocuments(e,u).next((function(e){return{Ki:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),Eb.apply(this,arguments)}function Tb(e,t){var n=Jd(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Mh.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Yd(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=km(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Cb(e){var t=Jd(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Vs.getLastRemoteSnapshotVersion(e)}))}function Nb(e,t){var n=Jd(e),r=t.snapshotVersion,i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Vs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Vs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(ap.EMPTY_BYTE_STRING,gh.min()).withLastLimboFreeSnapshotVersion(gh.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Vs.updateTargetData(e,c))}}));var u=fm(),s=km();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Rb(e,a,t.documentUpdates).next((function(e){u=e.Gi,s=e.Qi}))),!r.isEqual(gh.min())){var c=n.Vs.getLastRemoteSnapshotVersion(e).next((function(t){return n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Mh.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,u,s)})).next((function(){return u}))})).then((function(e){return n.$i=i,e}))}function Rb(e,t,n){var r=km(),i=km();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=fm();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(gh.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Hd("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Gi:r,Qi:i}}))}function Ab(e,t){var n=Jd(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function Pb(e,t){var n=Jd(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Vs.getTargetData(e,t).next((function(i){return i?(r=i,Mh.resolve(r)):n.Vs.allocateTargetId(e).next((function(i){return r=new zg(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e}))}function Ob(e,t,n){return Db.apply(this,arguments)}function Db(){return Db=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jd(t),a=i.$i.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Vh(e.t1)){e.next=12;break}throw e.t1;case 12:Hd("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.$i=i.$i.remove(n),i.Bi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Db.apply(this,arguments)}function Lb(e,t,n){var r=Jd(e),i=gh.min(),a=km();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Jd(e),i=r.Bi.get(n);return void 0!==i?Mh.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,gv(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Fi.getDocumentsMatchingQuery(e,t,n?i:gh.min(),n?a:km())})).next((function(e){return Fb(r,_v(t),e),{documents:e,ji:a}}))}))}function Mb(e,t){var n=Jd(e),r=Jd(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.te(e,t).next((function(e){return e?e.target:null}))}))}function jb(e,t){var n=Jd(e),r=n.Li.get(t)||gh.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.Ui.getAllFromCollectionGroup(e,t,Ch(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return Fb(n,t,e),e}))}function Fb(e,t,n){var r=gh.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Li.set(t,r)}function Zb(e,t,n,r){return Ub.apply(this,arguments)}function Ub(){return Ub=ie(te().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,d,h,p;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Jd(t),o=km(),u=fm(),s=oe(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Wi(l.metadata.name),l.document&&(o=o.add(f)),(d=n.zi(l)).setReadTime(n.Hi(l.metadata.readTime)),u=u.insert(f,d)}catch(v){s.e(v)}finally{s.f()}return h=a.Ui.newChangeBuffer({trackRemovals:!0}),e.next=7,Pb(a,function(e){return gv(dv(bh.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Rb(e,h,u).next((function(t){return h.apply(e),t})).next((function(t){return a.Vs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Vs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)})).next((function(){return t.Gi}))}))})));case 9:case"end":return e.stop()}}),e)}))),Ub.apply(this,arguments)}function Vb(e,t){return zb.apply(this,arguments)}function zb(){return zb=ie(te().mark((function e(t,n){var r,i,a,o=arguments;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:km(),e.next=3,Pb(t,gv(Xg(n.bundledQuery)));case 3:return i=e.sent,a=Jd(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Fm(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Ds.saveNamedQuery(e,n);var o=i.withResumeToken(ap.EMPTY_BYTE_STRING,t);return a.$i=a.$i.insert(o.targetId,o),a.Vs.updateTargetData(e,o).next((function(){return a.Vs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Vs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Ds.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),zb.apply(this,arguments)}function Bb(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function qb(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Wb(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Kb=function(){function e(t,n,r,i){ue(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ce(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new th(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Gd("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Hb=function(){function e(t,n,r){ue(this,e),this.targetId=t,this.state=n,this.error=r}return ce(e,[{key:"Yi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Ji",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new th(i.error.code,i.error.message))),a?new e(t,i.state,r):(Gd("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Gb=function(){function e(t,n){ue(this,e),this.clientId=t,this.activeTargetIds=n}return ce(e,null,[{key:"Ji",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=xm(),o=0;i&&o<r.activeTargetIds.length;++o)i=gp(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Gd("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Qb=function(){function e(t,n){ue(this,e),this.clientId=t,this.onlineState=n}return ce(e,null,[{key:"Ji",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Gd("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),$b=function(){function e(){ue(this,e),this.activeTargetIds=xm()}return ce(e,[{key:"Xi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Yi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Xb=function(){function e(t,n,r,i,a){ue(this,e),this.window=t,this.js=n,this.persistenceKey=r,this.tr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Yh(hh),this.started=!1,this.ir=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=Bb(this.persistenceKey,this.tr),this.ur=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new $b),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.ar=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.hr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.lr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.dr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.er)}return ce(e,[{key:"start",value:function(){var e=ie(te().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,d=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Ri();case 2:t=e.sent,n=oe(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.tr){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Bb(this.persistenceKey,i)))&&(o=Gb.Ji(i,a))&&(this.sr=this.sr.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this._r(),(u=this.storage.getItem(this.lr))&&(s=this.wr(u))&&this.mr(s),c=oe(this.ir);try{for(c.s();!(l=c.n()).done;)f=l.value,this.nr(f)}catch(h){c.e(h)}finally{c.f()}this.ir=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ur,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.gr(this.sr)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.sr.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.yr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.yr(e,t,n),this.pr(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Wb(this.persistenceKey,e));if(n){var r=Hb.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Ir.Zi(e),this._r()}},{key:"isLocalQueryTarget",value:function(e){return this.Ir.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Wb(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Tr(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.pr(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Er(e)}},{key:"notifyBundleLoaded",value:function(e){this.Ar(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Hd("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Hd("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Hd("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"nr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Hd("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void Gd("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable(ie(te().mark((function e(){var r,i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Rr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Pr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.ar.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Vr(a));case 16:e.next=41;break;case 18:if(!t.hr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Sr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Dr(o));case 23:e.next=41;break;case 25:if(n.key!==t.lr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.wr(n.newValue))){e.next=30;break}return e.abrupt("return",t.mr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ur){e.next=37;break}s=function(e){var t=Gh.ot;if(null!=e)try{var n=JSON.parse(e);Yd("number"==typeof n),t=n}catch(e){Gd("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Gh.ot&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.dr){e.next=41;break}return c=t.Cr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Nr(e)})));case 41:e.next=44;break;case 43:t.ir.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Ir",get:function(){return this.sr.get(this.tr)}},{key:"_r",value:function(){this.setItem(this.rr,this.Ir.Yi())}},{key:"yr",value:function(e,t,n){var r=new Kb(this.currentUser,e,t,n),i=qb(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}},{key:"pr",value:function(e){var t=qb(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Er",value:function(e){var t={clientId:this.tr,onlineState:e};this.storage.setItem(this.lr,JSON.stringify(t))}},{key:"Tr",value:function(e,t,n){var r=Wb(this.persistenceKey,e),i=new Hb(e,t,n);this.setItem(r,i.Yi())}},{key:"Ar",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}},{key:"Rr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Pr",value:function(e,t){var n=this.Rr(e);return Gb.Ji(n,t)}},{key:"vr",value:function(e,t){var n=this.ar.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kb.Ji(new Bd(i),r,t)}},{key:"Sr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]);return Hb.Ji(r,t)}},{key:"wr",value:function(e){return Qb.Ji(e)}},{key:"Cr",value:function(e){return JSON.parse(e)}},{key:"Vr",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.kr(t.batchId,t.state,t.error));case 2:Hd("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Dr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.sr.insert(e,t):this.sr.remove(e),i=this.gr(this.sr),a=this.gr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Mr(o,u).then((function(){n.sr=r}))}},{key:"mr",value:function(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"gr",value:function(e){var t=xm();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"V",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Yb=function(){function e(){ue(this,e),this.Fr=new $b,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ce(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.$r[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Fr.Zi(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.$r[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Fr.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Fr.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Fr=new $b,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Jb=function(){function e(){ue(this,e)}return ce(e,[{key:"Br",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),ek=function(){function e(){var t=this;ue(this,e),this.Lr=function(){return t.Ur()},this.qr=function(){return t.Kr()},this.Gr=[],this.Qr()}return ce(e,[{key:"Br",value:function(e){this.Gr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}},{key:"Qr",value:function(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}},{key:"Ur",value:function(){Hd("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=oe(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Kr",value:function(){Hd("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=oe(this.Gr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"V",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),tk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},nk=function(){function e(t){ue(this,e),this.jr=t.jr,this.Wr=t.Wr}return ce(e,[{key:"zr",value:function(e){this.Hr=e}},{key:"Jr",value:function(e){this.Yr=e}},{key:"onMessage",value:function(e){this.Xr=e}},{key:"close",value:function(){this.Wr()}},{key:"send",value:function(e){this.jr(e)}},{key:"Zr",value:function(){this.Hr()}},{key:"eo",value:function(e){this.Yr(e)}},{key:"no",value:function(e){this.Xr(e)}}]),e}(),rk=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ce(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Vd;o.listenOnce(Md.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Ld.NO_ERROR:var t=o.getResponseJson();Hd("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Ld.TIMEOUT:Hd("Connection",'RPC "'+e+'" timed out'),a(new th(eh.DEADLINE_EXCEEDED,"Request time out"));break;case Ld.HTTP_ERROR:var n=o.getStatus();if(Hd("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(eh).indexOf(t)>=0?t:eh.UNKNOWN}(r.status);a(new th(u,r.message))}else a(new th(eh.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new th(eh.UNAVAILABLE,"Connection failed."));break;default:Xd()}}finally{Hd("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ho",value:function(e,t,n){var r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Od(),a=Dd(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Zd({})),this.uo(o.initMessageHeaders,t,n),Te()||Re()||Ee().indexOf("Electron/")>=0||Ae()||Ee().indexOf("MSAppHost/")>=0||Ne()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Hd("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new nk({jr:function(e){l?Hd("Connection","Not sending because WebChannel is closed:",e):(c||(Hd("Connection","Opening WebChannel transport."),s.open(),c=!0),Hd("Connection","WebChannel sending:",e),s.send(e))},Wr:function(){return s.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(s,Ud.EventType.OPEN,(function(){l||Hd("Connection","WebChannel transport opened.")})),d(s,Ud.EventType.CLOSE,(function(){l||(l=!0,Hd("Connection","WebChannel transport closed"),f.eo())})),d(s,Ud.EventType.ERROR,(function(e){l||(l=!0,Qd("Connection","WebChannel transport errored:",e),f.eo(new th(eh.UNAVAILABLE,"The operation could not be completed")))})),d(s,Ud.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Yd(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Hd("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=nm[e];if(void 0!==t)return sm(t)}(a),u=i.message;void 0===o&&(o=eh.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.eo(new th(o,u)),s.close()}else Hd("Connection","WebChannel received:",n),f.no(n)}})),d(a,jd.STAT_EVENT,(function(e){e.stat===Fd.PROXY?Hd("Connection","Detected buffering proxy"):e.stat===Fd.NOPROXY&&Hd("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Zr()}),0),f}}]),n}(function(){function e(t){ue(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.so=n+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ce(e,[{key:"ro",value:function(e,t,n,r,i){var a=this.oo(e,t);Hd("RestConnection","Sending: ",a,n);var o={};return this.uo(o,r,i),this.co(e,a,o,n).then((function(e){return Hd("RestConnection","Received: ",e),e}),(function(t){throw Qd("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ao",value:function(e,t,n,r,i,a){return this.ro(e,t,n,r,i)}},{key:"uo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+qd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"oo",value:function(e,t){var n=tk[e];return"".concat(this.so,"/v1/").concat(t,":").concat(n)}}]),e}());function ik(){return"undefined"!=typeof window?window:null}function ak(){return"undefined"!=typeof document?document:null}function ok(e){return new Dm(e,!0)}var uk=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;ue(this,e),this.js=t,this.timerId=n,this.lo=r,this.fo=i,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}return ce(e,[{key:"reset",value:function(){this.wo=0}},{key:"po",value:function(){this.wo=this._o}},{key:"Io",value:function(e){var t=this;this.cancel();var n=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),i=Math.max(0,n-r);i>0&&Hd("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.wo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.mo=this.js.enqueueAfterDelay(this.timerId,i,(function(){return t.yo=Date.now(),e()})),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}},{key:"Eo",value:function(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}},{key:"cancel",value:function(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}},{key:"To",value:function(){return(Math.random()-.5)*this.wo}}]),e}(),sk=function(){function e(t,n,r,i,a,o,u,s){ue(this,e),this.js=t,this.Ao=r,this.Ro=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new uk(t,n)}return ce(e,[{key:"Do",value:function(){return 1===this.state||5===this.state||this.Co()}},{key:"Co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.xo()}},{key:"stop",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Do(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"No",value:function(){this.state=0,this.So.reset()}},{key:"ko",value:function(){var e=this;this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,(function(){return e.Oo()})))}},{key:"Mo",value:function(e){this.Fo(),this.stream.send(e)}},{key:"Oo",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"$o",value:function(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}},{key:"close",value:function(){var e=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Fo(),this.$o(),this.So.cancel(),this.Po++,4!==t?this.So.reset():n&&n.code===eh.RESOURCE_EXHAUSTED?(Gd(n.toString()),Gd("Using maximum backoff delay to prevent overloading the backend."),this.So.po()):n&&n.code===eh.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Bo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Jr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Lo(this.Po),n=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=(0,c.Z)(t,2),i=r[0],a=r[1];e.Po===n&&e.Uo(i,a)}),(function(n){t((function(){var t=new th(eh.UNKNOWN,"Fetching auth token failed: "+n.message);return e.qo(t)}))}))}},{key:"Uo",value:function(e,t){var n=this,r=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr((function(){r((function(){return n.state=2,n.Vo=n.js.enqueueAfterDelay(n.Ro,1e4,(function(){return n.Co()&&(n.state=3),Promise.resolve()})),n.listener.zr()}))})),this.stream.Jr((function(e){r((function(){return n.qo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"xo",value:function(){var e=this;this.state=5,this.So.Io(ie(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"qo",value:function(e){return Hd("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Lo",value:function(e){var t=this;return function(n){t.js.enqueueAndForget((function(){return t.Po===e?n():(Hd("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ck=function(e){de(n,e);var t=me(n);function n(e,r,i,a,o,u){var s;return ue(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s}return ce(n,[{key:"Ko",value:function(e,t){return this.bo.ho("Listen",e,t)}},{key:"onMessage",value:function(e){this.So.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Xd()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.dt?(Yd(void 0===t||"string"==typeof t),ap.fromBase64String(t||"")):(Yd(void 0===t||t instanceof Uint8Array),ap.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?eh.UNKNOWN:sm(e.code);return new th(t,e.message||"")}(o);n=new Tm(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=zm(e,s.document.name),l=Fm(s.document.updateTime),f=new Zp({mapValue:{fields:s.document.fields}}),d=Vp.newFoundDocument(c,l,f),h=s.targetIds||[],p=s.removedTargetIds||[];n=new Im(h,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=zm(e,v.document),g=v.readTime?Fm(v.readTime):gh.min(),y=Vp.newNoDocument(m,g),b=v.removedTargetIds||[];n=new Im([],b,y.key,y)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=zm(e,k.document),x=k.removedTargetIds||[];n=new Im([],x,w,null)}else{if(!("filter"in t))return Xd();t.filter;var _=t.filter;_.targetId;var S=_.count||0,I=new om(S),E=_.targetId;n=new Em(E,I)}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return gh.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?gh.min():t.readTime?Fm(t.readTime):gh.min()}(e);return this.listener.Go(t,n)}},{key:"Qo",value:function(e){var t={};t.database=Wm(this.wt),t.addTarget=function(e,t){var n,r=t.target;return(n=Kp(r)?{documents:Ym(e,r)}:{query:Jm(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Mm(e,t.resumeToken):t.snapshotVersion.compareTo(gh.min())>0&&(n.readTime=Lm(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xd()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.wt,e);n&&(t.labels=n),this.Mo(t)}},{key:"jo",value:function(e){var t={};t.database=Wm(this.wt),t.removeTarget=e,this.Mo(t)}}]),n}(sk),lk=function(e){de(n,e);var t=me(n);function n(e,r,i,a,o,u){var s;return ue(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).wt=o,s.Wo=!1,s}return ce(n,[{key:"zo",get:function(){return this.Wo}},{key:"start",value:function(){this.Wo=!1,this.lastStreamToken=void 0,fn(he(n.prototype),"start",this).call(this)}},{key:"Bo",value:function(){this.Wo&&this.Ho([])}},{key:"Ko",value:function(e,t){return this.bo.ho("Write",e,t)}},{key:"onMessage",value:function(e){if(Yd(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();var t=function(e,t){return e&&e.length>0?(Yd(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Fm(e.updateTime):Fm(t);return n.isEqual(gh.min())&&(n=Fm(t)),new zv(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Fm(e.commitTime);return this.listener.Jo(n,t)}return Yd(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}},{key:"Xo",value:function(){var e={};e.database=Wm(this.wt),this.Mo(e)}},{key:"Ho",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return $m(t.wt,e)}))};this.Mo(n)}}]),n}(sk),fk=function(e){de(n,e);var t=me(n);function n(e,r,i,a){var o;return ue(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.wt=a,o.Zo=!1,o}return ce(n,[{key:"tu",value:function(){if(this.Zo)throw new th(eh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"ro",value:function(e,t,n){var r=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=(0,c.Z)(i,2),o=a[0],u=a[1];return r.bo.ro(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===eh.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new th(eh.UNKNOWN,e.toString())}))}},{key:"ao",value:function(e,t,n,r){var i=this;return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=(0,c.Z)(a,2),u=o[0],s=o[1];return i.bo.ao(e,t,n,u,s,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===eh.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new th(eh.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Zo=!0}}]),n}(function(){return ce((function e(){ue(this,e)}))}()),dk=function(){function e(t,n){ue(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}return ce(e,[{key:"iu",value:function(){var e=this;0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.nu=null,e.ou("Backend didn't respond within 10 seconds."),e.ru("Offline"),Promise.resolve()})))}},{key:"uu",value:function(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ru("Offline")))}},{key:"set",value:function(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}},{key:"ru",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"ou",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.su?(Gd(t),this.su=!1):Hd("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}]),e}(),hk=ce((function e(t,n,r,i,a){var o=this;ue(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br((function(e){r.enqueueAndForget(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Sk(o),!e.t0){e.next=5;break}return Hd("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jd(t)).lu.add(4),e.next=4,mk(n);case 4:return n._u.set("Unknown"),n.lu.delete(4),e.next=8,pk(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this._u=new dk(r,i)}));function pk(e){return vk.apply(this,arguments)}function vk(){return vk=ie(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Sk(t)){e.next=18;break}n=oe(t.fu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),vk.apply(this,arguments)}function mk(e){return gk.apply(this,arguments)}function gk(){return gk=ie(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=oe(t.fu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),gk.apply(this,arguments)}function yk(e,t){var n=Jd(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),_k(n)?xk(n):Jk(n).Co()&&kk(n,t))}function bk(e,t){var n=Jd(e),r=Jk(n);n.hu.delete(t),r.Co()&&wk(n,t),0===n.hu.size&&(r.Co()?r.ko():Sk(n)&&n._u.set("Unknown"))}function kk(e,t){e.wu.Nt(t.targetId),Jk(e).Qo(t)}function wk(e,t){e.wu.Nt(t),Jk(e).jo(t)}function xk(e){e.wu=new Nm({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},te:function(t){return e.hu.get(t)||null}}),Jk(e).start(),e._u.iu()}function _k(e){return Sk(e)&&!Jk(e).Do()&&e.hu.size>0}function Sk(e){return 0===Jd(e).lu.size}function Ik(e){e.wu=void 0}function Ek(e){return Tk.apply(this,arguments)}function Tk(){return Tk=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.hu.forEach((function(e,n){kk(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Tk.apply(this,arguments)}function Ck(e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ik(t),_k(t)?(t._u.uu(n),xk(t)):t._u.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Rk(e,t,n){return Ak.apply(this,arguments)}function Ak(){return Ak=ie(te().mark((function e(t,n,r){var i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._u.set("Online"),!(n instanceof Tm&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=oe(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.hu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.hu.delete(o),t.wu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Hd("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Pk(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Im?t.wu.Ut(n):n instanceof Em?t.wu.zt(n):t.wu.Gt(n),r.isEqual(gh.min())){e.next=29;break}return e.prev=14,e.next=17,Cb(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.wu.Yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.hu.get(t);if(n){e.hu.set(t,n.withResumeToken(ap.EMPTY_BYTE_STRING,n.snapshotVersion)),wk(e,t);var r=new zg(n.target,t,1,n.sequenceNumber);kk(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Hd("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Pk(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),Ak.apply(this,arguments)}function Pk(e,t,n){return Ok.apply(this,arguments)}function Ok(){return Ok=ie(te().mark((function e(t,n,r){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Vh(n)){e.next=2;break}throw n;case 2:return t.lu.add(1),e.next=5,mk(t);case 5:t._u.set("Offline"),r||(r=function(){return Cb(t.localStore)}),t.asyncQueue.enqueueRetryable(ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hd("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.lu.delete(1),e.next=6,pk(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Dk(e,t){return t().catch((function(n){return Pk(e,n,t)}))}function Lk(e){return Mk.apply(this,arguments)}function Mk(){return Mk=ie(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jd(t),r=ew(n),i=n.au.length>0?n.au[n.au.length-1].batchId:-1;case 2:if(!jk(n)){e.next=19;break}return e.prev=3,e.next=6,Ab(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.au.length&&r.ko(),e.abrupt("break",19);case 10:i=a.batchId,Fk(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Pk(n,e.t0);case 17:e.next=2;break;case 19:Zk(n)&&Uk(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Mk.apply(this,arguments)}function jk(e){return Sk(e)&&e.au.length<10}function Fk(e,t){e.au.push(t);var n=ew(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function Zk(e){return Sk(e)&&!ew(e).Do()&&e.au.length>0}function Uk(e){ew(e).start()}function Vk(e){return zk.apply(this,arguments)}function zk(){return zk=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ew(t).Xo();case 1:case"end":return e.stop()}}),e)}))),zk.apply(this,arguments)}function Bk(e){return qk.apply(this,arguments)}function qk(){return qk=ie(te().mark((function e(t){var n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ew(t),r=oe(t.au);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Ho(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),qk.apply(this,arguments)}function Wk(e,t,n){return Kk.apply(this,arguments)}function Kk(){return Kk=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.au.shift(),a=Ug.from(i,n,r),e.next=3,Dk(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Lk(t);case 5:case"end":return e.stop()}}),e)}))),Kk.apply(this,arguments)}function Hk(e,t){return Gk.apply(this,arguments)}function Gk(){return Gk=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&ew(t).zo,!e.t0){e.next=4;break}return e.next=4,function(){var e=ie(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!um(i=n.code)||i===eh.ABORTED){e.next=7;break}return r=t.au.shift(),ew(t).No(),e.next=5,Dk(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Lk(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Zk(t)&&Uk(t);case 5:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Qk(e,t){return $k.apply(this,arguments)}function $k(){return $k=ie(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Jd(t)).asyncQueue.verifyOperationInProgress(),Hd("RemoteStore","RemoteStore received new credentials"),i=Sk(r),r.lu.add(3),e.next=6,mk(r);case 6:return i&&r._u.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.lu.delete(3),e.next=12,pk(r);case 12:case"end":return e.stop()}}),e)}))),$k.apply(this,arguments)}function Xk(e,t){return Yk.apply(this,arguments)}function Yk(){return Yk=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jd(t),!n){e.next=7;break}return r.lu.delete(2),e.next=5,pk(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.lu.add(2),e.next=12,mk(r);case 12:r._u.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),Yk.apply(this,arguments)}function Jk(e){return e.mu||(e.mu=function(e,t,n){var r=Jd(e);return r.tu(),new ck(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Ek.bind(null,e),Jr:Ck.bind(null,e),Go:Rk.bind(null,e)}),e.fu.push(function(){var t=ie(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.mu.No(),_k(e)?xk(e):e._u.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.mu.stop();case 6:Ik(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.mu}function ew(e){return e.gu||(e.gu=function(e,t,n){var r=Jd(e);return r.tu(),new lk(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:Vk.bind(null,e),Jr:Hk.bind(null,e),Yo:Bk.bind(null,e),Jo:Wk.bind(null,e)}),e.fu.push(function(){var t=ie(te().mark((function t(n){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.gu.No(),t.next=4,Lk(e);case 4:t.next=9;break;case 6:return t.next=8,e.gu.stop();case 8:e.au.length>0&&(Hd("RemoteStore","Stopping write stream with ".concat(e.au.length," pending writes")),e.au=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}var tw=function(){function e(t,n,r,i,a){ue(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new nh,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ce(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new th(eh.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function nw(e,t){if(Gd("AsyncQueue","".concat(t,": ").concat(e)),Vh(e))return new th(eh.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var rw=function(){function e(t){ue(this,e),this.comparator=t?function(e,n){return t(e,n)||xh.comparator(e.key,n.key)}:function(e,t){return xh.comparator(e.key,t.key)},this.keyedMap=hm(),this.sortedSet=new Yh(this.comparator)}return ce(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),iw=function(){function e(){ue(this,e),this.yu=new Yh(xh.comparator)}return ce(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Xd():this.yu=this.yu.insert(t,e)}},{key:"pu",value:function(){var e=[];return this.yu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),aw=function(){function e(t,n,r,i,a,o,u,s){ue(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ce(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,rw.emptySet(n),a,r,i,!0,!1)}}]),e}(),ow=ce((function e(){ue(this,e),this.Iu=void 0,this.listeners=[]})),uw=ce((function e(){ue(this,e),this.queries=new cm((function(e){return kv(e)}),bv),this.onlineState="Unknown",this.Tu=new Set}));function sw(e,t){return cw.apply(this,arguments)}function cw(){return cw=ie(te().mark((function e(t,n){var r,i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jd(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ow),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Iu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=nw(e.t0,"Initialization of query '".concat(wv(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Eu(r.onlineState),o.Iu&&n.Au(o.Iu)&&pw(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),cw.apply(this,arguments)}function lw(e,t){return fw.apply(this,arguments)}function fw(){return fw=ie(te().mark((function e(t,n){var r,i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jd(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}function dw(e,t){var n,r=Jd(e),i=!1,a=oe(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=oe(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Au(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Iu=o}}}catch(f){a.e(f)}finally{a.f()}i&&pw(r)}function hw(e,t,n){var r=Jd(e),i=r.queries.get(t);if(i){var a,o=oe(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function pw(e){e.Tu.forEach((function(e){e.next()}))}var vw=function(){function e(t,n,r){ue(this,e),this.query=t,this.Ru=n,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}return ce(e,[{key:"Au",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=oe(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new aw(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),a=!0):this.Vu(e,this.onlineState)&&(this.Su(e),a=!0),this.Pu=e,a}},{key:"onError",value:function(e){this.Ru.error(e)}},{key:"Eu",value:function(e){this.onlineState=e;var t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}},{key:"Vu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Du||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Su",value:function(e){e=aw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}]),e}(),mw=function(){function e(t,n){ue(this,e),this.payload=t,this.byteLength=n}return ce(e,[{key:"Cu",value:function(){return"metadata"in this.payload}}]),e}(),gw=function(){function e(t){ue(this,e),this.wt=t}return ce(e,[{key:"Wi",value:function(e){return zm(this.wt,e)}},{key:"zi",value:function(e){return e.metadata.exists?Gm(this.wt,e.document,!1):Vp.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}},{key:"Hi",value:function(e){return Fm(e)}}]),e}(),yw=function(){function e(t,n,r){ue(this,e),this.xu=t,this.localStore=n,this.wt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=bw(t)}return ce(e,[{key:"Nu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=bh.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"ku",value:function(e){var t,n=new Map,r=new gw(this.wt),i=oe(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Wi(a.metadata.name),s=oe(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||km()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=ie(te().mark((function e(){var t,n,r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Zb(this.localStore,new gw(this.wt),this.documents,this.xu.id);case 2:t=e.sent,n=this.ku(this.documents),r=oe(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Vb(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Mu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function bw(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var kw=ce((function e(t){ue(this,e),this.key=t})),ww=ce((function e(t){ue(this,e),this.key=t})),xw=function(){function e(t,n){ue(this,e),this.query=t,this.Fu=n,this.$u=null,this.current=!1,this.Bu=km(),this.mutatedKeys=km(),this.Lu=Sv(t),this.Uu=new rw(this.Lu)}return ce(e,[{key:"qu",get:function(){return this.Fu}},{key:"Ku",value:function(e,t){var n=this,r=t?t.Gu:new iw,i=t?t.Uu:this.Uu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=xv(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.Qu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Lu(f,s)>0||c&&n.Lu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=h?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Uu:o,Gu:r,Oi:u,mutatedKeys:a}}},{key:"Qu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;var a=e.Gu.pu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xd()}};return n(e)-n(t)}(e.type,t.type)||r.Lu(e.doc,t.doc)})),this.ju(n);var o=t?this.Wu():[],u=0===this.Bu.size&&this.current?1:0,s=u!==this.$u;return this.$u=u,0!==a.length||s?{snapshot:new aw(this.query,e.Uu,i,a,e.mutatedKeys,0===u,s,!1),zu:o}:{zu:o}}},{key:"Eu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new iw,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}},{key:"Hu",value:function(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}},{key:"ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Fu=t.Fu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Fu=t.Fu.delete(e)})),this.current=e.current)}},{key:"Wu",value:function(){var e=this;if(!this.current)return[];var t=this.Bu;this.Bu=km(),this.Uu.forEach((function(t){e.Hu(t.key)&&(e.Bu=e.Bu.add(t.key))}));var n=[];return t.forEach((function(t){e.Bu.has(t)||n.push(new ww(t))})),this.Bu.forEach((function(e){t.has(e)||n.push(new kw(e))})),n}},{key:"Ju",value:function(e){this.Fu=e.ji,this.Bu=km();var t=this.Ku(e.documents);return this.applyChanges(t,!0)}},{key:"Yu",value:function(){return aw.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}]),e}(),_w=ce((function e(t,n,r){ue(this,e),this.query=t,this.targetId=n,this.view=r})),Sw=ce((function e(t){ue(this,e),this.key=t,this.Xu=!1})),Iw=function(){function e(t,n,r,i,a,o){ue(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new cm((function(e){return kv(e)}),bv),this.ec=new Map,this.nc=new Set,this.sc=new Yh(xh.comparator),this.ic=new Map,this.rc=new ab,this.oc={},this.uc=new Map,this.cc=Ly.Rn(),this.onlineState="Unknown",this.ac=void 0}return ce(e,[{key:"isPrimaryClient",get:function(){return!0===this.ac}}]),e}();function Ew(e,t){return Tw.apply(this,arguments)}function Tw(){return Tw=ie(te().mark((function e(t,n){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=bx(t),!(o=r.tc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Yu(),e.next=15;break;case 6:return e.next=8,Pb(r.localStore,gv(n));case 8:return u=e.sent,r.isPrimaryClient&&yk(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Cw(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Tw.apply(this,arguments)}function Cw(e,t,n,r){return Nw.apply(this,arguments)}function Nw(){return Nw=ie(te().mark((function e(t,n,r,i){var a,o,u,s,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.hc=function(e,n,r){return function(){var e=ie(te().mark((function e(t,n,r,i){var a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ku(r),e.t0=a.Oi,!e.t0){e.next=6;break}return e.next=5,Lb(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ku(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Qw(t,n.targetId,u.zu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Lb(t.localStore,n,!0);case 3:return a=e.sent,o=new xw(n,a.ji),u=o.Ku(a.documents),s=Sm.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),Qw(t,r,c.zu),l=new _w(n,r,o),e.abrupt("return",(t.tc.set(n,l),t.ec.has(r)?t.ec.get(r).push(n):t.ec.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Nw.apply(this,arguments)}function Rw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=ie(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Jd(t),i=r.tc.get(n),!((a=r.ec.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ec.set(i.targetId,a.filter((function(e){return!bv(e,n)}))),void r.tc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Ob(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),bk(r.remoteStore,i.targetId),Hw(r,i.targetId)})).catch(Dh);case 9:e.next=14;break;case 11:return Hw(r,i.targetId),e.next=14,Ob(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Pw(e,t,n){return Ow.apply(this,arguments)}function Ow(){return Ow=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=kx(t),e.prev=1,e.next=4,function(e,t){var n,r,i=Jd(e),a=mh.now(),o=t.reduce((function(e,t){return e.add(t.key)}),km());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var u=fm(),s=km();return i.Ui.getEntries(e,o).next((function(e){(u=e).forEach((function(e,t){t.isValidDocument()||(s=s.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,u)})).next((function(r){n=r;var o,u=[],s=oe(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Qv(c,n.get(c.key).overlayedDocument);null!=l&&u.push(new Yv(c.key,l,Up(l.value.mapValue),Bv.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return i.mutationQueue.addMutationBatch(e,a,u,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,s);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:pm(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.oc[e.currentUser.toKey()];r||(r=new Yh(hh)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,Yw(i,a.changes);case 9:return e.next=11,Lk(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=nw(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Ow.apply(this,arguments)}function Dw(e,t){return Lw.apply(this,arguments)}function Lw(){return Lw=ie(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(t),e.prev=1,e.next=4,Nb(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ic.get(t);n&&(Yd(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Xu=!0:e.modifiedDocuments.size>0?Yd(n.Xu):e.removedDocuments.size>0&&(Yd(n.Xu),n.Xu=!1))})),e.next=8,Yw(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Dh(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),Lw.apply(this,arguments)}function Mw(e,t,n){var r=Jd(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.tc.forEach((function(e,n){var r=n.view.Eu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Jd(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=oe(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Eu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&pw(n)}(r.eventManager,t),i.length&&r.Zu.Go(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function jw(e,t,n){return Fw.apply(this,arguments)}function Fw(){return Fw=ie(te().mark((function e(t,n,r){var i,a,o,u,s,c;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Jd(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ic.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Yh(xh.comparator)).insert(o,Vp.newNoDocument(o,gh.min())),s=km().add(o),c=new _m(gh.min(),new Map,new tp(hh),u,s),e.next=9,Dw(i,c);case 9:i.sc=i.sc.remove(o),i.ic.delete(n),Xw(i),e.next=16;break;case 14:return e.next=16,Ob(i.localStore,n,!1).then((function(){return Hw(i,n,r)})).catch(Dh);case 16:case"end":return e.stop()}}),e)}))),Fw.apply(this,arguments)}function Zw(e,t){return Uw.apply(this,arguments)}function Uw(){return Uw=ie(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(t),i=n.batch.batchId,e.prev=1,e.next=4,Tb(r.localStore,n);case 4:return a=e.sent,Kw(r,i,null),Ww(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,Yw(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Uw.apply(this,arguments)}function Vw(e,t,n){return zw.apply(this,arguments)}function zw(){return zw=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Jd(t),e.prev=1,e.next=4,function(e,t){var n=Jd(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return Yd(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Kw(i,n,r),Ww(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Yw(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dh(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),zw.apply(this,arguments)}function Bw(e,t){return qw.apply(this,arguments)}function qw(){return qw=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Sk((r=Jd(t)).remoteStore)||Hd("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Jd(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.uc.get(i)||[]).push(n),r.uc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=nw(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),qw.apply(this,arguments)}function Ww(e,t){(e.uc.get(t)||[]).forEach((function(e){e.resolve()})),e.uc.delete(t)}function Kw(e,t,n){var r=Jd(e),i=r.oc[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function Hw(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=oe(e.ec.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.tc.delete(a),n&&e.Zu.lc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach((function(t){e.rc.containsKey(t)||Gw(e,t)}))}function Gw(e,t){e.nc.delete(t.path.canonicalString());var n=e.sc.get(t);null!==n&&(bk(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),Xw(e))}function Qw(e,t,n){var r,i=oe(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof kw?(e.rc.addReference(a.key,t),$w(e,a)):a instanceof ww?(Hd("SyncEngine","Document no longer in limbo: "+a.key),e.rc.removeReference(a.key,t),e.rc.containsKey(a.key)||Gw(e,a.key)):Xd()}}catch(o){i.e(o)}finally{i.f()}}function $w(e,t){var n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(Hd("SyncEngine","New document in limbo: "+n),e.nc.add(r),Xw(e))}function Xw(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){var t=e.nc.values().next().value;e.nc.delete(t);var n=new xh(bh.fromString(t)),r=e.cc.next();e.ic.set(r,new Sw(n)),e.sc=e.sc.insert(n,r),yk(e.remoteStore,new zg(gv(dv(n.path)),r,2,Gh.ot))}}function Yw(e,t,n){return Jw.apply(this,arguments)}function Jw(){return Jw=ie(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Jd(t),a=[],o=[],u=[],e.t0=i.tc.isEmpty(),e.t0){e.next=9;break}return i.tc.forEach((function(e,t){u.push(i.hc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=wb.Vi(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Zu.Go(a),e.next=9,function(){var e=ie(te().mark((function e(t,n){var r,i,a,o,u,s,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Mh.forEach(n,(function(t){return Mh.forEach(t.Pi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Mh.forEach(t.vi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Vh(e.t0)){e.next=10;break}throw e.t0;case 10:Hd("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=oe(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.$i.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.$i=r.$i.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Jw.apply(this,arguments)}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=ie(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Jd(t)).currentUser.isEqual(n)){e.next=11;break}return Hd("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ib(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.uc.forEach((function(e){e.forEach((function(e){e.reject(new th(eh.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.uc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Yw(r,i.Ki);case 11:case"end":return e.stop()}}),e)}))),tx.apply(this,arguments)}function nx(e,t){var n=Jd(e),r=n.ic.get(t);if(r&&r.Xu)return km().add(r.key);var i=km(),a=n.ec.get(t);if(!a)return i;var o,u=oe(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.tc.get(s);i=i.unionWith(c.view.qu)}}catch(l){u.e(l)}finally{u.f()}return i}function rx(e,t){return ix.apply(this,arguments)}function ix(){return ix=ie(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(t),e.next=3,Lb(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Ju(i),e.abrupt("return",(r.isPrimaryClient&&Qw(r,n.targetId,a.zu),a));case 6:case"end":return e.stop()}}),e)}))),ix.apply(this,arguments)}function ax(e,t){return ox.apply(this,arguments)}function ox(){return ox=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(t),e.abrupt("return",jb(r.localStore,n).then((function(e){return Yw(r,e)})));case 2:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function ux(e,t,n,r){return sx.apply(this,arguments)}function sx(){return sx=ie(te().mark((function e(t,n,r,i){var a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Jd(t),e.next=3,function(e,t){var n=Jd(e),r=Jd(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.yn(e,t).next((function(t){return t?n.localDocuments.getDocuments(e,t):Mh.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,Lk(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Kw(a,n,i||null),Ww(a,n),function(e,t){Jd(Jd(e).mutationQueue).In(t)}(a.localStore,n)):Xd();case 11:return e.next=13,Yw(a,o);case 13:e.next=16;break;case 15:Hd("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function cx(e,t){return lx.apply(this,arguments)}function lx(){return lx=ie(te().mark((function e(t,n){var r,i,a,o,u,s,c,l;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(bx(r=Jd(t)),kx(r),!0!==n||!0===r.ac){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,fx(r,i.toArray());case 5:return a=e.sent,r.ac=!0,e.next=9,Xk(r.remoteStore,!0);case 9:o=oe(a);try{for(o.s();!(u=o.n()).done;)s=u.value,yk(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ac){e.next=25;break}return c=[],l=Promise.resolve(),r.ec.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Hw(r,t),Ob(r.localStore,t,!0)})),bk(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,fx(r,c);case 21:return function(e){var t=Jd(e);t.ic.forEach((function(e,n){bk(t.remoteStore,n)})),t.rc.cs(),t.ic=new Map,t.sc=new Yh(xh.comparator)}(r),r.ac=!1,e.next=25,Xk(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}function fx(e,t,n){return dx.apply(this,arguments)}function dx(){return dx=ie(te().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d,h,p,v,m,g;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Jd(t),a=[],o=[],u=oe(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ec.get(c))||0===f.length){e.next=34;break}return e.next=11,Pb(i.localStore,gv(f[0]));case 11:l=e.sent,d=oe(f),e.prev=13,d.s();case 15:if((h=d.n()).done){e.next=24;break}return p=h.value,v=i.tc.get(p),e.next=20,rx(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),d.e(e.t0);case 29:return e.prev=29,d.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Mb(i.localStore,c);case 36:return g=e.sent,e.next=39,Pb(i.localStore,g);case 39:return l=e.sent,e.next=42,Cw(i,hx(g),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Zu.Go(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),dx.apply(this,arguments)}function hx(e){return fv(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function px(e){var t=Jd(e);return Jd(Jd(t.localStore).persistence).Ri()}function vx(e,t,n,r){return mx.apply(this,arguments)}function mx(){return mx=ie(te().mark((function e(t,n,r,i){var a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Jd(t)).ac){e.next=3;break}return e.abrupt("return",void Hd("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ec.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,jb(a.localStore,_v(o[0]));case 10:return u=e.sent,s=_m.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,Yw(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,Ob(a.localStore,n,!0);case 17:return Hw(a,n,i),e.abrupt("break",20);case 19:Xd();case 20:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function gx(e,t,n){return yx.apply(this,arguments)}function yx(){return yx=ie(te().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,d;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=bx(t)).ac){e.next=45;break}a=oe(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ec.has(u)){e.next=10;break}return Hd("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Mb(i.localStore,u);case 12:return s=e.sent,e.next=15,Pb(i.localStore,s);case 15:return c=e.sent,e.next=18,Cw(i,hx(s),c.targetId,!1);case 18:yk(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=oe(r),e.prev=30,d=te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ec.has(t),!e.t0){e.next=5;break}return e.next=5,Ob(i.localStore,t,!1).then((function(){bk(i.remoteStore,t),Hw(i,t)})).catch(Dh);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(d(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),yx.apply(this,arguments)}function bx(e){var t=Jd(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=nx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jw.bind(null,t),t.Zu.Go=dw.bind(null,t.eventManager),t.Zu.lc=hw.bind(null,t.eventManager),t}function kx(e){var t=Jd(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Zw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vw.bind(null,t),t}function wx(e,t,n){var r=Jd(e);(function(){var e=ie(te().mark((function e(t,n,r){var i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Jd(e),r=Fm(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ds.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(bw(i)),a=new yw(i,t.localStore,n.wt),e.next=15,n.fc();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Nu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.fc();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,Yw(t,s.Mu,void 0);case 31:return e.next=33,function(e,t){var n=Jd(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ds.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Qd("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var xx=function(){function e(){ue(this,e),this.synchronizeTabs=!1}return ce(e,[{key:"initialize",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.wt=ok(t.databaseInfo.databaseId),this.sharedClientState=this.dc(t),this.persistence=this._c(t),e.next=5,this.persistence.start();case 5:this.localStore=this.wc(t),this.gcScheduler=this.mc(t,this.localStore),this.indexBackfillerScheduler=this.gc(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"mc",value:function(e,t){return null}},{key:"gc",value:function(e,t){return null}},{key:"wc",value:function(e){return Sb(this.persistence,new xb,e.initialUser,this.wt)}},{key:"_c",value:function(e){return new fb(hb.Ms,this.wt)}},{key:"dc",value:function(e){return new Yb}},{key:"terminate",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),_x=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this)).yc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ce(n,[{key:"initialize",value:function(){var e=ie(te().mark((function e(t){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn(he(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.yc.initialize(this,t);case 4:return e.next=6,kx(this.yc.syncEngine);case 6:return e.next=8,Lk(this.yc.remoteStore);case 8:return e.next=10,this.persistence.ci((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"wc",value:function(e){return Sb(this.persistence,new xb,e.initialUser,this.wt)}},{key:"mc",value:function(e,t){var n=this.persistence.referenceDelegate.garbageCollector;return new zy(n,e.asyncQueue,t)}},{key:"gc",value:function(e,t){var n=new Hh(t,this.persistence);return new Kh(e.asyncQueue,n)}},{key:"_c",value:function(e){var t=kb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ty.withCacheSize(this.cacheSizeBytes):Ty.DEFAULT;return new gb(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ik(),ak(),this.wt,this.sharedClientState,!!this.forceOwnership)}},{key:"dc",value:function(e){return new Yb}}]),n}(xx),Sx=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e,r,!1)).yc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ce(n,[{key:"initialize",value:function(){var e=ie(te().mark((function e(t){var r,i=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fn(he(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.yc.syncEngine,e.t0=this.sharedClientState instanceof Xb,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={kr:ux.bind(null,r),Or:vx.bind(null,r),Mr:gx.bind(null,r),Ri:px.bind(null,r),Nr:ax.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.ci(function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cx(i.yc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start():t||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(t&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():t||i.indexBackfillerScheduler.stop());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dc",value:function(e){var t=ik();if(!Xb.V(t))throw new th(eh.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=kb(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Xb(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(_x),Ix=function(){function e(){ue(this,e)}return ce(e,[{key:"initialize",value:function(){var e=ie(te().mark((function e(t,n){var r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Mw(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ex.bind(null,this.syncEngine),e.next=12,Xk(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new uw}},{key:"createDatastore",value:function(e){var t,n=ok(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new rk(t));return function(e,t,n,r){return new fk(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Mw(o.syncEngine,e,0)},a=ek.V()?new ek:new Jb,new hk(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Iw(e,t,n,r,i,a);return o&&(u.ac=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Jd(t),Hd("RemoteStore","RemoteStore shutting down."),n.lu.add(5),e.next=5,mk(n);case 5:n.du.shutdown(),n._u.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Ex(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return ie(te().mark((function r(){var i;return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Tx=function(){function e(t){ue(this,e),this.observer=t,this.muted=!1}return ce(e,[{key:"next",value:function(e){this.observer.next&&this.Ic(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Tc",value:function(){this.muted=!0}},{key:"Ic",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Cx=function(){function e(t,n){var r=this;ue(this,e),this.Ec=t,this.wt=n,this.metadata=new nh,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then((function(e){e&&e.Cu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ce(e,[{key:"close",value:function(){return this.Ec.cancel()}},{key:"getMetadata",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fc",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Rc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Rc",value:function(){var e=ie(te().mark((function e(){var t,n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.bc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ac.decode(t),r=Number(n),isNaN(r)&&this.Pc("length string (".concat(n,") is not valid number")),e.next=9,this.vc(r);case 9:return i=e.sent,e.abrupt("return",new mw(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Vc",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"bc",value:function(){var e=ie(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Vc()<0)){e.next=7;break}return e.next=3,this.Sc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Vc())<0&&this.Pc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"vc",value:function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Sc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ac.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){throw this.Ec.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Sc",value:function(){var e=ie(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ec.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Nx=function(){function e(t){ue(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ce(e,[{key:"lookup",value:function(){var e=ie(te().mark((function e(t){var n,r=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new th(eh.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=ie(te().mark((function e(t,n){var r,i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(t),i=Wm(r.wt)+"/documents",a={documents:n.map((function(e){return Vm(r.wt,e)}))},e.next=5,r.ao("BatchGetDocuments",i,a,n.length);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Qm(r.wt,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Yd(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new im(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=ie(te().mark((function e(){var t,n=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=xh.fromPath(t);n.mutations.push(new am(r,n.precondition(r)))})),e.next=7,function(){var e=ie(te().mark((function e(t,n){var r,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jd(t),i=Wm(r.wt)+"/documents",a={writes:n.map((function(e){return $m(r.wt,e)}))},e.next=3,r.ro("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Xd();t=gh.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new th(eh.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Bv.updateTime(t):Bv.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(gh.min()))throw new th(eh.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Bv.updateTime(t)}return Bv.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Rx=function(){function e(t,n,r,i,a){ue(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.Dc=r.maxAttempts,this.So=new uk(this.asyncQueue,"transaction_retry")}return ce(e,[{key:"run",value:function(){this.Dc-=1,this.Cc()}},{key:"Cc",value:function(){var e=this;this.So.Io(ie(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Nx(e.datastore),(r=e.xc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Nc(t)}))}))})).catch((function(t){e.Nc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"xc",value:function(e){try{var t=this.updateFunction(e);return!vp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Nc",value:function(e){var t=this;this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget((function(){return t.Cc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"kc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!um(t)}return!1}}]),e}(),Ax=function(){function e(t,n,r,i){var a=this;ue(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Bd.UNAUTHENTICATED,this.clientId=dh.I(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hd("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Hd("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ce(e,[{key:"getConfiguration",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new th(eh.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new nh;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(ie(te().mark((function n(){var r;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=nw(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Px(e,t){return Ox.apply(this,arguments)}function Ox(){return Ox=ie(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Hd("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ib(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),Ox.apply(this,arguments)}function Dx(e,t){return Lx.apply(this,arguments)}function Lx(){return Lx=ie(te().mark((function e(t,n){var r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Mx(t);case 3:return r=e.sent,Hd("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Qk(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Qk(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),Lx.apply(this,arguments)}function Mx(e){return jx.apply(this,arguments)}function jx(){return jx=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Hd("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Px(t,new xx);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),jx.apply(this,arguments)}function Fx(e){return Zx.apply(this,arguments)}function Zx(){return Zx=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Hd("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Dx(t,new Ix);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}function Ux(e){return Mx(e).then((function(e){return e.persistence}))}function Vx(e){return Mx(e).then((function(e){return e.localStore}))}function zx(e){return Fx(e).then((function(e){return e.remoteStore}))}function Bx(e){return Fx(e).then((function(e){return e.syncEngine}))}function qx(e){return Wx.apply(this,arguments)}function Wx(){return Wx=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fx(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Ew.bind(null,n.syncEngine),r.onUnlisten=Rw.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Wx.apply(this,arguments)}function Kx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nh;return e.asyncQueue.enqueueAndForget(ie(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Tx({next:function(a){t.enqueueAndForget((function(){return lw(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new th(eh.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new th(eh.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new vw(dv(n.path),a,{includeMetadataChanges:!0,Du:!0});return sw(e,o)},i.next=3,qx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function Hx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new nh;return e.asyncQueue.enqueueAndForget(ie(te().mark((function i(){return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Tx({next:function(n){t.enqueueAndForget((function(){return lw(e,o)})),n.fromCache&&"server"===r.source?i.reject(new th(eh.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new vw(n,a,{includeMetadataChanges:!0,Du:!0});return sw(e,o)},i.next=3,qx(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var Gx=new Map;function Qx(e,t,n){if(!n)throw new th(eh.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function $x(e,t,n,r){if(!0===t&&!0===r)throw new th(eh.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Xx(e){if(!xh.isDocumentKey(e))throw new th(eh.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Yx(e){if(xh.isDocumentKey(e))throw new th(eh.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Jx(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Xd()}function e_(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new th(eh.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Jx(e);throw new th(eh.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function t_(e,t){if(t<=0)throw new th(eh.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var n_=function(){function e(t){var n;if(ue(this,e),void 0===t.host){if(void 0!==t.ssl)throw new th(eh.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new th(eh.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,$x("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ce(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),r_=function(){function e(t,n,r){ue(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new n_({}),this._settingsFrozen=!1,t instanceof pp?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new th(eh.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pp(e.options.projectId)}(t))}return ce(e,[{key:"app",get:function(){if(!this._app)throw new th(eh.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new th(eh.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new n_(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ih;switch(e.type){case"gapi":var t=e.client;return Yd(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new sh(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new th(eh.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Gx.get(e);t&&(Hd("ComponentProvider","Removing Datastore"),Gx.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function i_(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=e_(e,r_))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Qd("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Bd.MOCK_USER;else{o=Ie(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new th(eh.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Bd(s)}e._authCredentials=new ah(new rh(o,u))}}var a_=function(){function e(t,n,r){ue(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ce(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new u_(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),o_=function(){function e(t,n,r){ue(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ce(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),u_=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this,e,r,dv(i)))._path=i,a.type="collection",a}return ce(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new a_(this.firestore,null,new xh(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(o_);function s_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ke(e),Qx("collection","path",t),e instanceof r_){var a=bh.fromString.apply(bh,[t].concat(r));return Yx(a),new u_(e,null,a)}if(!(e instanceof a_||e instanceof u_))throw new th(eh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(bh.fromString.apply(bh,[t].concat(r)));return Yx(o),new u_(e.firestore,null,o)}function c_(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Ke(e),1===arguments.length&&(t=dh.I()),Qx("doc","path",t),e instanceof r_){var a=bh.fromString.apply(bh,[t].concat(r));return Xx(a),new a_(e,null,new xh(a))}if(!(e instanceof a_||e instanceof u_))throw new th(eh.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(bh.fromString.apply(bh,[t].concat(r)));return Xx(o),new a_(e.firestore,e instanceof u_?e.converter:null,new xh(o))}function l_(e,t){return e=Ke(e),t=Ke(t),(e instanceof a_||e instanceof u_)&&(t instanceof a_||t instanceof u_)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function f_(e,t){return e=Ke(e),t=Ke(t),e instanceof o_&&t instanceof o_&&e.firestore===t.firestore&&bv(e._query,t._query)&&e.converter===t.converter}var d_=function(){function e(){var t=this;ue(this,e),this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new uk(this,"async_queue_retry"),this.Kc=function(){var e=ak();e&&Hd("AsyncQueue","Visibility state changed to "+e.visibilityState),t.So.Eo()};var n=ak();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Kc)}return ce(e,[{key:"isShuttingDown",get:function(){return this.Fc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Gc(),this.Qc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;var t=ak();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Gc(),this.Fc)return new Promise((function(){}));var n=new nh;return this.Qc((function(){return t.Fc&&t.Uc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Mc.push(e),t.jc()}))}},{key:"jc",value:function(){var e=ie(te().mark((function e(){var t=this;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Mc.length){e.next=14;break}return e.prev=1,e.next=4,this.Mc[0]();case 4:this.Mc.shift(),this.So.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Vh(e.t0)){e.next=12;break}throw e.t0;case 12:Hd("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Mc.length>0&&this.So.Io((function(){return t.jc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){var t=this,n=this.Oc.then((function(){return t.Lc=!0,e().catch((function(e){t.Bc=e,t.Lc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Gd("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Lc=!1,e}))}));return this.Oc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Gc(),this.qc.indexOf(e)>-1&&(t=0);var i=tw.createAndSchedule(this,e,t,n,(function(e){return r.Wc(e)}));return this.$c.push(i),i}},{key:"Gc",value:function(){this.Bc&&Xd()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Oc,e.next=3,t;case 3:if(t!==this.Oc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Hc",value:function(e){var t,n=oe(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Jc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=oe(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Yc",value:function(e){this.qc.push(e)}},{key:"Wc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();function h_(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=oe(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var p_=function(){function e(){ue(this,e),this._progressObserver={},this._taskCompletionResolver=new nh,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ce(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),v_=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new d_,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ce(n,[{key:"_terminate",value:function(){return this._firestoreClient||g_(this),this._firestoreClient.terminate()}}]),n}(r_);function m_(e){return e._firestoreClient||g_(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function g_(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new hp(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new Ax(e._authCredentials,e._appCheckCredentials,e._queue,r)}function y_(e,t,n){var r=new nh;return e.asyncQueue.enqueue(ie(te().mark((function i(){var a;return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Px(e,n);case 3:return i.next=5,Dx(e,t);case 5:r.resolve(),i.next=14;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===eh.FAILED_PRECONDITION||e.code===eh.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a=i.t0)){i.next=13;break}throw a;case 13:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a);case 14:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function b_(e){return function(e){return e.asyncQueue.enqueue(ie(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ux(e);case 2:return n=t.sent,t.next=5,zx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Jd(e);return t.lu.delete(0),pk(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(m_(e=e_(e,v_)))}function k_(e){return function(e){return e.asyncQueue.enqueue(ie(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ux(e);case 2:return n=t.sent,t.next=5,zx(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Jd(t)).lu.add(0),e.next=4,mk(n);case 4:n._u.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(m_(e=e_(e,v_)))}function w_(e,t){var n=m_(e=e_(e,v_)),r=new p_;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Cx(e,t)}(function(e,t){if(e instanceof Uint8Array)return Ex(e,t);if(e instanceof ArrayBuffer)return Ex(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,ok(t));e.asyncQueue.enqueueAndForget(ie(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=wx,t.next=3,Bx(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function x_(e,t){return function(e,t){return e.asyncQueue.enqueue(ie(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Jd(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ds.getNamedQuery(e,t)}))},n.next=3,Vx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(m_(e=e_(e,v_)),t).then((function(t){return t?new o_(e,null,t.query):null}))}function __(e){if(e._initialized||e._terminated)throw new th(eh.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var S_=function(){function e(){ue(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new th(eh.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wh(n)}return ce(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();function I_(){return new S_("__name__")}var E_=function(){function e(t){ue(this,e),this._byteString=t}return ce(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ap.fromBase64String(t))}catch(t){throw new th(eh.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ap.fromUint8Array(t))}}]),e}(),T_=ce((function e(t){ue(this,e),this._methodName=t})),C_=function(){function e(t,n){if(ue(this,e),!isFinite(t)||t<-90||t>90)throw new th(eh.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new th(eh.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ce(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return hh(this._lat,e._lat)||hh(this._long,e._long)}}]),e}(),N_=/^__.*__$/,R_=function(){function e(t,n,r){ue(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ce(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Yv(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xv(e,this.data,t,this.fieldTransforms)}}]),e}(),A_=function(){function e(t,n,r){ue(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ce(e,[{key:"toMutation",value:function(e,t){return new Yv(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function P_(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xd()}}var O_=function(){function e(t,n,r,i,a,o){ue(this,e),this.settings=t,this.databaseId=n,this.wt=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ce(e,[{key:"path",get:function(){return this.settings.path}},{key:"Zc",get:function(){return this.settings.Zc}},{key:"ta",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"ea",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}},{key:"ia",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}},{key:"ra",value:function(e){return this.ta({path:void 0,na:!0})}},{key:"oa",value:function(e){return J_(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.sa(this.path.get(e))}},{key:"sa",value:function(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(P_(this.Zc)&&N_.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}]),e}(),D_=function(){function e(t,n,r){ue(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.wt=r||ok(t)}return ce(e,[{key:"aa",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new O_({Zc:e,methodName:t,ca:n,path:wh.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}]),e}();function L_(e){var t=e._freezeSettings(),n=ok(e._databaseId);return new D_(e._databaseId,!!t.ignoreUndefinedProperties,n)}function M_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.aa(a.merge||a.mergeFields?2:0,t,n,i);Q_("Data must be an object, but it was:",o,r);var u,s,c=H_(r,o);if(a.merge)u=new ip(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],d=oe(a.mergeFields);try{for(d.s();!(l=d.n()).done;){var h=l.value,p=$_(t,h,n);if(!o.contains(p))throw new th(eh.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));eS(f,p)||f.push(p)}}catch(v){d.e(v)}finally{d.f()}u=new ip(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new R_(new Zp(c),u,s)}var j_=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Zc)throw 1===e.Zc?e.oa("".concat(this._methodName,"() can only appear at the top level of your update data")):e.oa("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(T_);function F_(e,t,n){return new O_({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}var Z_=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"_toFieldTransform",value:function(e){return new Vv(e.path,new Ov)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(T_),U_=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e)).ha=r,i}return ce(n,[{key:"_toFieldTransform",value:function(e){var t=F_(this,e,!0),n=this.ha.map((function(e){return K_(e,t)})),r=new Dv(n);return new Vv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_),V_=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e)).ha=r,i}return ce(n,[{key:"_toFieldTransform",value:function(e){var t=F_(this,e,!0),n=this.ha.map((function(e){return K_(e,t)})),r=new Mv(n);return new Vv(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_),z_=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e)).la=r,i}return ce(n,[{key:"_toFieldTransform",value:function(e){var t=new Fv(e.wt,Cv(e.wt,this.la));return new Vv(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(T_);function B_(e,t,n,r){var i=e.aa(1,t,n);Q_("Data must be an object, but it was:",i,r);var a=[],o=Zp.empty();$h(r,(function(e,r){var u=Y_(t,e,n);r=Ke(r);var s=i.ia(u);if(r instanceof j_)a.push(u);else{var c=K_(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new ip(a);return new A_(o,u,i.fieldTransforms)}function q_(e,t,n,r,i,a){var o=e.aa(1,t,n),u=[$_(t,r,n)],s=[i];if(a.length%2!=0)throw new th(eh.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push($_(t,a[c])),s.push(a[c+1]);for(var l=[],f=Zp.empty(),d=u.length-1;d>=0;--d)if(!eS(l,u[d])){var h=u[d],p=s[d];p=Ke(p);var v=o.ia(h);if(p instanceof j_)l.push(h);else{var m=K_(p,v);null!=m&&(l.push(h),f.set(h,m))}}var g=new ip(l);return new A_(f,g,o.fieldTransforms)}function W_(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return K_(n,e.aa(r?4:3,t))}function K_(e,t){if(G_(e=Ke(e)))return Q_("Unsupported field value:",t,e),H_(e,t);if(e instanceof T_)return function(e,t){if(!P_(t.Zc))throw t.oa("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.oa("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=oe(e);try{for(a.s();!(n=a.n()).done;){var o=K_(n.value,t.ra(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Ke(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Cv(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=mh.fromDate(e);return{timestampValue:Lm(t.wt,n)}}if(e instanceof mh){var r=new mh(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lm(t.wt,r)}}if(e instanceof C_)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof E_)return{bytesValue:Mm(t.wt,e._byteString)};if(e instanceof a_){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.oa("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Zm(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa("Unsupported field value: ".concat(Jx(e)))}(e,t)}function H_(e,t){var n={};return Xh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$h(e,(function(e,r){var i=K_(r,t.ea(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function G_(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof mh||e instanceof C_||e instanceof E_||e instanceof a_||e instanceof T_)}function Q_(e,t,n){if(!G_(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Jx(n);throw"an object"===r?t.oa(e+" a custom object"):t.oa(e+" "+r)}}function $_(e,t,n){if((t=Ke(t))instanceof S_)return t._internalPath;if("string"==typeof t)return Y_(e,t);throw J_("Field path arguments must be of type string or ",e,!1,void 0,n)}var X_=new RegExp("[~\\*/\\[\\]]");function Y_(e,t,n){if(t.search(X_)>=0)throw J_("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ge(S_,(0,ne.Z)(t.split(".")))._internalPath}catch(r){throw J_("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function J_(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new th(eh.INVALID_ARGUMENT,u+e+s)}function eS(e,t){return e.some((function(e){return e.isEqual(t)}))}var tS=function(){function e(t,n,r,i,a){ue(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ce(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new a_(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new nS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(rS("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),nS=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"data",value:function(){return fn(he(n.prototype),"data",this).call(this)}}]),n}(tS);function rS(e,t){return"string"==typeof t?Y_(e,t):t instanceof S_?t._internalPath:t._delegate._internalPath}var iS=function(){function e(t,n){ue(this,e),this.hasPendingWrites=t,this.fromCache=n}return ce(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),aS=function(e){de(n,e);var t=me(n);function n(e,r,i,a,o,u){var s;return ue(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ce(n,[{key:"exists",value:function(){return fn(he(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new oS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(rS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(tS),oS=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fn(he(n.prototype),"data",this).call(this,e)}}]),n}(aS),uS=function(){function e(t,n,r,i){ue(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new iS(i.hasPendingWrites,i.fromCache),this.query=r}return ce(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new oS(n._firestore,n._userDataWriter,r.key,r,new iS(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new th(eh.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new oS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new oS(e._firestore,e._userDataWriter,t.doc.key,t.doc,new iS(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:sS(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function sS(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xd()}}function cS(e,t){return e instanceof aS&&t instanceof aS?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof uS&&t instanceof uS&&e._firestore===t._firestore&&f_(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function lS(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new th(eh.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var fS=ce((function e(){ue(this,e)}));function dS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var hS=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this)).fa=e,a.da=r,a._a=i,a.type="where",a}return ce(n,[{key:"_apply",value:function(e){var t=L_(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new th(eh.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){ES(o,a);var s,c=[],l=oe(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(IS(r,e,f))}}catch(h){l.e(h)}finally{l.f()}u={arrayValue:{values:c}}}else u=IS(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||ES(o,a),u=W_(n,"where",o,"in"===a||"not-in"===a);var d=$p.create(i,a,u);return function(e,t){if(t.ht()){var n=pv(e);if(null!==n&&!n.isEqual(t.field))throw new th(eh.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=hv(e);null!==r&&TS(e,t.field,r)}var i=function(e,t){var n,r=oe(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(h){r.e(h)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new th(eh.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new th(eh.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new o_(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new lv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(fS);function pS(e,t,n){var r=t,i=rS("where",e);return new hS(i,r,n)}var vS=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this)).fa=e,i.wa=r,i.type="orderBy",i}return ce(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new th(eh.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new th(eh.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ov(t,n);return function(e,t){if(null===hv(e)){var n=pv(e);null!==n&&TS(e,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new o_(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new lv(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(fS);function mS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=rS("orderBy",e);return new vS(r,n)}var gS=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this)).type=e,a.ma=r,a.ga=i,a}return ce(n,[{key:"_apply",value:function(e){return new o_(e.firestore,e.converter,yv(e._query,this.ma,this.ga))}}]),n}(fS);var yS=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ce(n,[{key:"_apply",value:function(e){var t=SS(e,this.type,this.ya,this.pa);return new o_(e.firestore,e.converter,function(e,t){return new lv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(fS);function bS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yS("startAt",t,!0)}function kS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yS("startAfter",t,!1)}var wS=function(e){de(n,e);var t=me(n);function n(e,r,i){var a;return ue(this,n),(a=t.call(this)).type=e,a.ya=r,a.pa=i,a}return ce(n,[{key:"_apply",value:function(e){var t=SS(e,this.type,this.ya,this.pa);return new o_(e.firestore,e.converter,function(e,t){return new lv(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(fS);function xS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wS("endBefore",t,!1)}function _S(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new wS("endAt",t,!0)}function SS(e,t,n,r){if(n[0]=Ke(n[0]),n[0]instanceof tS)return function(e,t,n,r,i){if(!r)throw new th(eh.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=oe(mv(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Tp(t,r.key));else{var c=r.data.field(s.field);if(lp(c))throw new th(eh.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new th(eh.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new av(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=L_(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new th(eh.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new th(eh.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!vv(e)&&-1!==c.indexOf("/"))throw new th(eh.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(bh.fromString(c));if(!xh.isDocumentKey(l))throw new th(eh.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new xh(l);u.push(Tp(t,f))}else{var d=W_(n,r,c);u.push(d)}}return new av(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function IS(e,t,n){if("string"==typeof(n=Ke(n))){if(""===n)throw new th(eh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vv(t)&&-1!==n.indexOf("/"))throw new th(eh.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(bh.fromString(n));if(!xh.isDocumentKey(r))throw new th(eh.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Tp(e,new xh(r))}if(n instanceof a_)return Tp(e,n._key);throw new th(eh.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Jx(n),"."))}function ES(e,t){if(!Array.isArray(e)||0===e.length)throw new th(eh.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new th(eh.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function TS(e,t,n){if(!n.isEqual(t))throw new th(eh.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var CS={maxAttempts:5},NS=function(){function e(){ue(this,e)}return ce(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sp(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Xd()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return $h(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new C_(sp(e.latitude),sp(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=fp(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(dp(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=up(e);return new mh(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=bh.fromString(e);Yd(cg(n));var r=new pp(n.get(1),n.get(3)),i=new xh(n.popFirst(5));return r.isEqual(t)||Gd("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function RS(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var AS=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this)).firestore=e,r}return ce(n,[{key:"convertBytes",value:function(e){return new E_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new a_(this.firestore,null,t)}}]),n}(NS),PS=function(){function e(t,n){ue(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=L_(t)}return ce(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=OS(e,this._firestore),i=RS(r.converter,t,n),a=M_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Bv.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=OS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ke(t))||t instanceof S_?q_(this._dataReader,"WriteBatch.update",i._key,t,n,o):B_(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,Bv.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=OS(e,this._firestore);return this._mutations=this._mutations.concat(new im(t._key,Bv.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new th(eh.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function OS(e,t){if((e=Ke(e)).firestore!==t)throw new th(eh.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function DS(e){e=e_(e,a_);var t=e_(e.firestore,v_);return Kx(m_(t),e._key).then((function(n){return WS(t,e,n)}))}var LS=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this)).firestore=e,r}return ce(n,[{key:"convertBytes",value:function(e){return new E_(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new a_(this.firestore,null,t)}}]),n}(NS);function MS(e){e=e_(e,a_);var t=e_(e.firestore,v_),n=m_(t),r=new LS(t);return function(e,t){var n=new nh;return e.asyncQueue.enqueueAndForget(ie(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ie(te().mark((function e(t,n,r){var i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Jd(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.localDocuments.getDocument(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new th(eh.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=nw(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Vx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new aS(t,r,e._key,n,new iS(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function jS(e){e=e_(e,o_);var t=e_(e.firestore,v_),n=m_(t),r=new LS(t);return lS(e._query),Hx(n,e._query).then((function(n){return new uS(t,r,e,n)}))}function FS(e){e=e_(e,o_);var t=e_(e.firestore,v_),n=m_(t),r=new LS(t);return function(e,t){var n=new nh;return e.asyncQueue.enqueueAndForget(ie(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=ie(te().mark((function e(t,n,r){var i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Lb(t,n,!0);case 3:i=e.sent,a=new xw(n,i.ji),o=a.Ku(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=nw(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,Vx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new uS(t,r,e,n)}))}function ZS(e,t,n){e=e_(e,a_);var r=e_(e.firestore,v_),i=RS(e.converter,t,n);return qS(r,[M_(L_(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Bv.none())])}function US(e,t,n){e=e_(e,a_);for(var r=e_(e.firestore,v_),i=L_(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return qS(r,[("string"==typeof(t=Ke(t))||t instanceof S_?q_(i,"updateDoc",e._key,t,n,o):B_(i,"updateDoc",e._key,t)).toMutation(e._key,Bv.exists(!0))])}function VS(e,t){var n=e_(e.firestore,v_),r=c_(e),i=RS(e.converter,t);return qS(n,[M_(L_(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Bv.exists(!1))]).then((function(){return r}))}function zS(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Ke(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||h_(n[s])||(u=n[s],s++);var c,l,f,d={includeMetadataChanges:u.includeMetadataChanges};if(h_(n[s])){var h=n[s];n[s]=null===(i=h.next)||void 0===i?void 0:i.bind(h),n[s+1]=null===(a=h.error)||void 0===a?void 0:a.bind(h),n[s+2]=null===(o=h.complete)||void 0===o?void 0:o.bind(h)}if(e instanceof a_)l=e_(e.firestore,v_),f=dv(e._key.path),c={next:function(t){n[s]&&n[s](WS(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=e_(e,o_);l=e_(p.firestore,v_),f=p._query;var v=new LS(l);c={next:function(e){n[s]&&n[s](new uS(l,v,p,e))},error:n[s+1],complete:n[s+2]},lS(e._query)}return function(e,t,n,r){var i=new Tx(r),a=new vw(t,i,n);return e.asyncQueue.enqueueAndForget(ie(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=sw,t.next=3,qx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Tc(),e.asyncQueue.enqueueAndForget(ie(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=lw,t.next=3,qx(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(m_(l),f,d,c)}function BS(e,t){return function(e,t){var n=new Tx(t);return e.asyncQueue.enqueueAndForget(ie(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jd(e).Tu.add(t),t.next()},t.next=3,qx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Tc(),e.asyncQueue.enqueueAndForget(ie(te().mark((function t(){return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Jd(e).Tu.delete(t)},t.next=3,qx(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(m_(e=e_(e,v_)),h_(t)?t:{next:t})}function qS(e,t){return function(e,t){var n=new nh;return e.asyncQueue.enqueueAndForget(ie(te().mark((function r(){return te().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Pw,r.next=3,Bx(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(m_(e),t)}function WS(e,t,n){var r=n.docs.get(t._key),i=new LS(e);return new aS(e,i,t._key,r,new iS(n.hasPendingWrites,n.fromCache),t.converter)}var KS=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e,r))._firestore=e,i}return ce(n,[{key:"get",value:function(e){var t=this,r=OS(e,this._firestore),i=new LS(this._firestore);return fn(he(n.prototype),"get",this).call(this,e).then((function(e){return new aS(t._firestore,i,r._key,e._document,new iS(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){ue(this,e),this._firestore=t,this._transaction=n,this._dataReader=L_(t)}return ce(e,[{key:"get",value:function(e){var t=this,n=OS(e,this._firestore),r=new AS(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Xd();var i=e[0];if(i.isFoundDocument())return new tS(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new tS(t._firestore,r,n._key,null,n.converter);throw Xd()}))}},{key:"set",value:function(e,t,n){var r=OS(e,this._firestore),i=RS(r.converter,t,n),a=M_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=OS(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Ke(t))||t instanceof S_?q_(this._dataReader,"Transaction.update",i._key,t,n,o):B_(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=OS(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function HS(e,t,n){e=e_(e,v_);var r=Object.assign(Object.assign({},CS),n);return function(e){if(e.maxAttempts<1)throw new th(eh.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new nh;return e.asyncQueue.enqueueAndForget(ie(te().mark((function i(){var a;return te().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return Fx(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new Rx(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(m_(e),(function(n){return t(new KS(e,n))}),r)}function GS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new U_("arrayUnion",t)}function QS(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new V_("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){qd=e}(Ut),Ot(new He("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new v_(i,new oh(e.getProvider("auth-internal")),new lh(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Kt(zd,"3.4.13",e),Kt(zd,"3.4.13","esm2017")}();var $S="firebasestorage.googleapis.com",XS=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,YS(e),"Firebase Storage: ".concat(r," (").concat(YS(e),")"))).customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(le(i),n.prototype),i}return ce(n,[{key:"_codeEquals",value:function(e){return YS(e)===this.code}},{key:"serverResponse",get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}]),n}(Oe);function YS(e){return"storage/"+e}function JS(){return new XS("unknown","An unknown error occurred, please check the error payload for server response.")}function eI(){return new XS("canceled","User canceled the upload/download.")}function tI(){return new XS("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function nI(e){return new XS("invalid-argument",e)}function rI(){return new XS("app-deleted","The Firebase app was deleted.")}function iI(e){return new XS("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function aI(e,t){return new XS("invalid-format","String does not match format '"+e+"': "+t)}function oI(e){throw new XS("internal-error","Internal error: "+e)}var uI,sI=function(){function e(t,n){ue(this,e),this.bucket=t,this.path_=n}return ce(e,[{key:"path",get:function(){return this.path_}},{key:"isRoot",get:function(){return 0===this.path.length}},{key:"fullServerUrl",value:function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}},{key:"bucketOnlyServerUrl",value:function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}}],[{key:"makeFromBucketSpec",value:function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(i){return new e(t,"")}if(""===r.path)return r;throw new XS("invalid-default-bucket","Invalid default bucket '"+t+"'.")}},{key:"makeFromUrl",value:function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var a=new RegExp("^gs://"+i+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}for(var u=n.replace(/[.]/g,"\\."),s=[{regex:a,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(u,"/").concat("v[A-Za-z0-9_]+","/b/").concat(i,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp("^https?://".concat(n===$S?"(?:storage.googleapis.com|storage.cloud.google.com)":n,"/").concat(i,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:o}],c=0;c<s.length;c++){var l=s[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new XS("invalid-url","Invalid URL '"+e+"'.")}(t);return r}}]),e}(),cI=function(){function e(t){ue(this,e),this.promise_=Promise.reject(t)}return ce(e,[{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(){}}]),e}();function lI(e){return"string"===typeof e||e instanceof String}function fI(e){return dI()&&e instanceof Blob}function dI(){return"undefined"!==typeof Blob}function hI(e,t,n,r){if(r<t)throw nI("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw nI("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function pI(e,t,n){var r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function vI(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(uI||(uI={}));var mI=function(){function e(t,n,r,i,a,o,u,s,c,l,f){var d=this;ue(this,e),this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=o,this.callback_=u,this.errorCallback_=s,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((function(e,t){d.resolve_=e,d.reject_=t,d.start_()}))}return ce(e,[{key:"start_",value:function(){var e=this,t=function(t,n){var r=e.resolve_,i=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var o=e.callback_(a,a.getResponse());!function(e){return void 0!==e}(o)?r():r(o)}catch(s){i(s)}else if(null!==a){var u=JS();u.serverResponse=a.getErrorText(),e.errorCallback_?i(e.errorCallback_(a,u)):i(u)}else{if(n.canceled)i(e.appDelete_?rI():eI());else i(new XS("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}};this.canceled_?t(0,new gI(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,a=null,o=!1,u=0;function s(){return 2===u}var c=!1;function l(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function f(t){i=setTimeout((function(){i=null,e(h,s())}),t)}function d(){a&&clearTimeout(a)}function h(e){if(c)d();else{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void l.call.apply(l,[null,e].concat(n));var a;if(s()||o)return d(),void l.call.apply(l,[null,e].concat(n));r<64&&(r*=2),1===u?(u=2,a=0):a=1e3*(r+Math.random()),f(a)}}var p=!1;function v(e){p||(p=!0,d(),c||(null!==i?(e||(u=2),clearTimeout(i),f(0)):e||(u=1)))}return f(0),a=setTimeout((function(){o=!0,v(!0)}),n),v}((function(t,n){if(n)t(!1,new gI(!1,null,!0));else{var r=e.connectionFactory_();e.pendingConnection_=r;var i=function(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)};null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===uI.NO_ERROR,a=r.getStatus();if(n&&!e.isRetryStatusCode_(a)){var o=-1!==e.successCodes_.indexOf(a);t(!0,new gI(o,r))}else{var u=r.getErrorCode()===uI.ABORT;t(!1,new gI(!1,null,u))}}))}}),t,this.timeout_)}},{key:"getPromise",value:function(){return this.promise_}},{key:"cancel",value:function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}},{key:"isRetryStatusCode_",value:function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}]),e}(),gI=ce((function e(t,n,r){ue(this,e),this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}));function yI(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function bI(){for(var e=yI(),t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){for(var i=new e,a=0;a<n.length;a++)i.append(n[a]);return i.getBlob()}if(dI())return new Blob(n);throw new XS("unsupported-environment","This browser doesn't seem to support creating Blobs")}var kI={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},wI=ce((function e(t,n){ue(this,e),this.data=t,this.contentType=n||null}));function xI(e,t){switch(e){case kI.RAW:return new wI(_I(t));case kI.BASE64:case kI.BASE64URL:return new wI(SI(e,t));case kI.DATA_URL:return new wI(function(e){var t=new II(e);return t.base64?SI(kI.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(n){throw aI(kI.DATA_URL,"Malformed data URL.")}return _I(t)}(t.rest)}(t),new II(t).contentType)}throw JS()}function _I(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function SI(e,t){switch(e){case kI.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw aI(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case kI.BASE64URL:var i=-1!==t.indexOf("+"),a=-1!==t.indexOf("/");if(i||a)throw aI(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var o;try{o=atob(t)}catch(c){throw aI(e,"Invalid character found")}for(var u=new Uint8Array(o.length),s=0;s<o.length;s++)u[s]=o.charCodeAt(s);return u}var II=ce((function e(t){ue(this,e),this.base64=!1,this.contentType=null;var n=t.match(/^data:([^,]+)?,/);if(null===n)throw aI(kI.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var r=n[1]||null;null!=r&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-";base64".length):r),this.rest=t.substring(t.indexOf(",")+1)}));var EI=function(){function e(t,n){ue(this,e);var r=0,i="";fI(t)?(this.data_=t,r=t.size,i=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=i}return ce(e,[{key:"size",value:function(){return this.size_}},{key:"type",value:function(){return this.type_}},{key:"slice",value:function(t,n){if(fI(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}var i=new Uint8Array(this.data_.buffer,t,n-t);return new e(i,!0)}},{key:"uploadData",value:function(){return this.data_}}],[{key:"getBlob",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(dI()){var i=n.map((function(t){return t instanceof e?t.data_:t}));return new e(bI.apply(null,i))}var a=n.map((function(e){return lI(e)?xI(kI.RAW,e).data:e.data_})),o=0;a.forEach((function(e){o+=e.byteLength}));var u=new Uint8Array(o),s=0;return a.forEach((function(e){for(var t=0;t<e.length;t++)u[s++]=e[t]})),new e(u,!0)}}]),e}();function TI(e){var t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function CI(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function NI(e,t){return t}var RI=ce((function e(t,n,r,i){ue(this,e),this.server=t,this.local=n||t,this.writable=!!r,this.xform=i||NI})),AI=null;function PI(){if(AI)return AI;var e=[];e.push(new RI("bucket")),e.push(new RI("generation")),e.push(new RI("metageneration")),e.push(new RI("name","fullPath",!0));var t=new RI("name");t.xform=function(e,t){return function(e){return!lI(e)||e.length<2?e:CI(e)}(t)},e.push(t);var n=new RI("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new RI("timeCreated")),e.push(new RI("updated")),e.push(new RI("md5Hash",null,!0)),e.push(new RI("cacheControl",null,!0)),e.push(new RI("contentDisposition",null,!0)),e.push(new RI("contentEncoding",null,!0)),e.push(new RI("contentLanguage",null,!0)),e.push(new RI("contentType",null,!0)),e.push(new RI("metadata","customMetadata",!0)),AI=e}function OI(e,t,n){for(var r={type:"file"},i=n.length,a=0;a<i;a++){var o=n[a];r[o.local]=o.xform(r,t[o.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new sI(n,r);return t._makeStorageReference(i)}})}(r,e),r}function DI(e,t,n){var r=TI(t);return null===r?null:OI(e,r,n)}function LI(e,t){for(var n={},r=t.length,i=0;i<r;i++){var a=t[i];a.writable&&(n[a.server]=e[a.local])}return JSON.stringify(n)}function MI(e,t,n){var r=TI(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes){var i,a=oe(n.prefixes);try{for(a.s();!(i=a.n()).done;){var o=i.value.replace(/\/$/,""),u=e._makeStorageReference(new sI(t,o));r.prefixes.push(u)}}catch(d){a.e(d)}finally{a.f()}}if(n.items){var s,c=oe(n.items);try{for(c.s();!(s=c.n()).done;){var l=s.value,f=e._makeStorageReference(new sI(t,l.name));r.items.push(f)}}catch(d){c.e(d)}finally{c.f()}}return r}(e,t,r)}var jI=ce((function e(t,n,r,i){ue(this,e),this.url=t,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}));function FI(e){if(!e)throw JS()}function ZI(e,t){return function(n,r){var i=DI(e,r,t);return FI(null!==i),i}}function UI(e,t){return function(n,r){var i=DI(e,r,t);return FI(null!==i),function(e,t,n,r){var i=TI(t);if(null===i)return null;if(!lI(i.downloadTokens))return null;var a=i.downloadTokens;if(0===a.length)return null;var o=encodeURIComponent;return a.split(",").map((function(t){var i=e.bucket,a=e.fullPath;return pI("/b/"+o(i)+"/o/"+o(a),n,r)+vI({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function VI(e){return function(t,n){var r,i,a;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new XS("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new XS("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(a=e.bucket,r=new XS("quota-exceeded","Quota for bucket '"+a+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new XS("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function zI(e){var t=VI(e);return function(n,r){var i,a=t(n,r);return 404===n.getStatus()&&(i=e.path,a=new XS("object-not-found","Object '"+i+"' does not exist.")),a.serverResponse=r.serverResponse,a}}function BI(e,t,n){var r=pI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new jI(r,"GET",ZI(e,n),i);return a.errorHandler=zI(t),a}function qI(e,t,n,r,i){var a={};t.isRoot?a.prefix="":a.prefix=t.path+"/",n&&n.length>0&&(a.delimiter=n),r&&(a.pageToken=r),i&&(a.maxResults=i);var o=pI(t.bucketOnlyServerUrl(),e.host,e._protocol),u=e.maxOperationRetryTime,s=new jI(o,"GET",function(e,t){return function(n,r){var i=MI(e,t,r);return FI(null!==i),i}}(e,t.bucket),u);return s.urlParams=a,s.errorHandler=VI(t),s}function WI(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function KI(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};var u=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+u;var s=WI(t,r,i),c="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+LI(s,n)+"\r\n--"+u+"\r\nContent-Type: "+s.contentType+"\r\n\r\n",l="\r\n--"+u+"--",f=EI.getBlob(c,r,l);if(null===f)throw tI();var d={name:s.fullPath},h=pI(a,e.host,e._protocol),p=e.maxUploadRetryTime,v=new jI(h,"POST",ZI(e,n),p);return v.urlParams=d,v.headers=o,v.body=f.uploadData(),v.errorHandler=VI(t),v}var HI=ce((function e(t,n,r,i){ue(this,e),this.current=t,this.total=n,this.finalized=!!r,this.metadata=i||null}));function GI(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){FI(!1)}return FI(!!n&&-1!==(t||["active"]).indexOf(n)),n}var QI=262144;function $I(e,t,n,r,i,a,o,u){var s=new HI(0,0);if(o?(s.current=o.current,s.total=o.total):(s.current=0,s.total=r.size()),r.size()!==s.total)throw new XS("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=s.total-s.current,l=c;i>0&&(l=Math.min(l,i));var f=s.current,d=f+l,h={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":"".concat(s.current)},p=r.slice(f,d);if(null===p)throw tI();var v=t.maxUploadRetryTime,m=new jI(n,"POST",(function(e,n){var i,o=GI(e,["active","final"]),u=s.current+l,c=r.size();return i="final"===o?ZI(t,a)(e,n):null,new HI(u,c,"final"===o,i)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=u||null,m.errorHandler=VI(e),m}var XI={STATE_CHANGED:"state_changed"},YI={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function JI(e){switch(e){case"running":case"pausing":case"canceling":return YI.RUNNING;case"paused":return YI.PAUSED;case"success":return YI.SUCCESS;case"canceled":return YI.CANCELED;default:return YI.ERROR}}var eE=ce((function e(t,n,r){ue(this,e);var i=function(e){return"function"===typeof e}(t)||null!=n||null!=r;if(i)this.next=t,this.error=null!==n&&void 0!==n?n:void 0,this.complete=null!==r&&void 0!==r?r:void 0;else{var a=t;this.next=a.next,this.error=a.error,this.complete=a.complete}}));function tE(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((function(){return e.apply(void 0,n)}))}}var nE=function(){function e(){var t=this;ue(this,e),this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=uI.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=uI.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=uI.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return ce(e,[{key:"send",value:function(e,t,n,r){if(this.sent_)throw oI("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}},{key:"getErrorCode",value:function(){if(!this.sent_)throw oI("cannot .getErrorCode() before sending");return this.errorCode_}},{key:"getStatus",value:function(){if(!this.sent_)throw oI("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}},{key:"getResponse",value:function(){if(!this.sent_)throw oI("cannot .getResponse() before sending");return this.xhr_.response}},{key:"getErrorText",value:function(){if(!this.sent_)throw oI("cannot .getErrorText() before sending");return this.xhr_.statusText}},{key:"abort",value:function(){this.xhr_.abort()}},{key:"getResponseHeader",value:function(e){return this.xhr_.getResponseHeader(e)}},{key:"addUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}},{key:"removeUploadProgressListener",value:function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}]),e}(),rE=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"initXhr",value:function(){this.xhr_.responseType="text"}}]),n}(nE);function iE(){return new rE}var aE=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;ue(this,e),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=n,this._metadata=i,this._mappings=PI(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return ce(e,[{key:"_makeProgressCallback",value:function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}}},{key:"_shouldDoResumable",value:function(e){return e.size()>262144}},{key:"_start",value:function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}},{key:"_resolveToken",value:function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=(0,c.Z)(n,2),i=r[0],a=r[1];switch(t._state){case"running":e(i,a);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))}},{key:"_createResumable",value:function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var a=t.bucketOnlyServerUrl(),o=WI(t,r,i),u={name:o.fullPath},s=pI(a,e.host,e._protocol),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=LI(o,n),f=e.maxUploadRetryTime,d=new jI(s,"POST",(function(e){var t;GI(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){FI(!1)}return FI(lI(t)),t}),f);return d.urlParams=u,d.headers=c,d.body=l,d.errorHandler=VI(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,iE,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))}},{key:"_fetchStatus",value:function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,a=new jI(n,"POST",(function(e){var t=GI(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){FI(!1)}n||FI(!1);var i=Number(n);return FI(!isNaN(i)),new HI(i,r.size(),"final"===t)}),i);return a.headers={"X-Goog-Upload-Command":"query"},a.errorHandler=VI(t),a}(e._ref.storage,e._ref._location,t,e._blob),a=e._ref.storage._makeRequest(i,iE,n,r);e._request=a,a.getPromise().then((function(t){e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))}},{key:"_continueUpload",value:function(){var e=this,t=QI*this._chunkMultiplier,n=new HI(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,a){var o;try{o=$I(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(s){return e._error=s,void e._transition("error")}var u=e._ref.storage._makeRequest(o,iE,i,a);e._request=u,u.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))}},{key:"_increaseMultiplier",value:function(){QI*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}},{key:"_fetchMetadata",value:function(){var e=this;this._resolveToken((function(t,n){var r=BI(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,iE,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))}},{key:"_oneShotUpload",value:function(){var e=this;this._resolveToken((function(t,n){var r=KI(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,iE,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))}},{key:"_updateProgress",value:function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}},{key:"_transition",value:function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=eI(),this._state=e,this._notifyObservers()}}},{key:"completeTransitions_",value:function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}},{key:"snapshot",get:function(){var e=JI(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}},{key:"on",value:function(e,t,n,r){var i=this,a=new eE(t||void 0,n||void 0,r||void 0);return this._addObserver(a),function(){i._removeObserver(a)}}},{key:"then",value:function(e,t){return this._promise.then(e,t)}},{key:"catch",value:function(e){return this.then(null,e)}},{key:"_addObserver",value:function(e){this._observers.push(e),this._notifyObserver(e)}},{key:"_removeObserver",value:function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}},{key:"_notifyObservers",value:function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))}},{key:"_finishPromise",value:function(){if(void 0!==this._resolve){var e=!0;switch(JI(this._state)){case YI.SUCCESS:tE(this._resolve.bind(null,this.snapshot))();break;case YI.CANCELED:case YI.ERROR:tE(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}},{key:"_notifyObserver",value:function(e){switch(JI(this._state)){case YI.RUNNING:case YI.PAUSED:e.next&&tE(e.next.bind(e,this.snapshot))();break;case YI.SUCCESS:e.complete&&tE(e.complete.bind(e))();break;default:e.error&&tE(e.error.bind(e,this._error))()}}},{key:"resume",value:function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}},{key:"pause",value:function(){var e="running"===this._state;return e&&this._transition("pausing"),e}},{key:"cancel",value:function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}]),e}(),oE=function(){function e(t,n){ue(this,e),this._service=t,this._location=n instanceof sI?n:sI.makeFromUrl(n,t.host)}return ce(e,[{key:"toString",value:function(){return"gs://"+this._location.bucket+"/"+this._location.path}},{key:"_newRef",value:function(t,n){return new e(t,n)}},{key:"root",get:function(){var e=new sI(this._location.bucket,"");return this._newRef(this._service,e)}},{key:"bucket",get:function(){return this._location.bucket}},{key:"fullPath",get:function(){return this._location.path}},{key:"name",get:function(){return CI(this._location.path)}},{key:"storage",get:function(){return this._service}},{key:"parent",get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new sI(this._location.bucket,t);return new e(this._service,n)}},{key:"_throwIfRoot",value:function(e){if(""===this._location.path)throw iI(e)}}]),e}();function uE(e,t,n){return sE.apply(this,arguments)}function sE(){return(sE=ie(te().mark((function e(t,n,r){var i,a,o,u;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={pageToken:r},e.next=3,cE(t,o);case 3:if(u=e.sent,(i=n.prefixes).push.apply(i,(0,ne.Z)(u.prefixes)),(a=n.items).push.apply(a,(0,ne.Z)(u.items)),null==u.nextPageToken){e.next=9;break}return e.next=9,uE(t,n,u.nextPageToken);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function cE(e,t){null!=t&&"number"===typeof t.maxResults&&hI("options.maxResults",1,1e3,t.maxResults);var n=t||{},r=qI(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,iE)}function lE(e,t){e._throwIfRoot("updateMetadata");var n=function(e,t,n,r){var i=pI(t.fullServerUrl(),e.host,e._protocol),a=LI(n,r),o=e.maxOperationRetryTime,u=new jI(i,"PATCH",ZI(e,r),o);return u.headers={"Content-Type":"application/json; charset=utf-8"},u.body=a,u.errorHandler=zI(t),u}(e.storage,e._location,t,PI());return e.storage.makeRequestWithTokens(n,iE)}function fE(e){e._throwIfRoot("getDownloadURL");var t=function(e,t,n){var r=pI(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,a=new jI(r,"GET",UI(e,n),i);return a.errorHandler=zI(t),a}(e.storage,e._location,PI());return e.storage.makeRequestWithTokens(t,iE).then((function(e){if(null===e)throw new XS("no-download-url","The given file does not have any download URLs.");return e}))}function dE(e){e._throwIfRoot("deleteObject");var t=function(e,t){var n=pI(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new jI(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=zI(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,iE)}function hE(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new sI(e._location.bucket,n);return new oE(e.storage,r)}function pE(e,t){if(e instanceof bE){var n=e;if(null==n._bucket)throw new XS("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new oE(n,n._bucket);return null!=t?pE(r,t):r}return void 0!==t?hE(e,t):e}function vE(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof bE)return new oE(e,t);throw nI("To use ref(service, url), the first argument must be a Storage instance.")}return pE(e,t)}function mE(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:sI.makeFromBucketSpec(n,e)}function gE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:Ie(i,e.app.options.projectId))}var yE,bE=function(){function e(t,n,r,i,a){ue(this,e),this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=$S,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?sI.makeFromBucketSpec(i,this._host):mE(this._host,this.app.options)}return ce(e,[{key:"host",get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=sI.makeFromBucketSpec(this._url,e):this._bucket=mE(e,this.app.options)}},{key:"maxUploadRetryTime",get:function(){return this._maxUploadRetryTime},set:function(e){hI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}},{key:"maxOperationRetryTime",get:function(){return this._maxOperationRetryTime},set:function(e){hI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}},{key:"_getAuthToken",value:function(){var e=ie(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._overrideAuthToken){e.next=2;break}return e.abrupt("return",this._overrideAuthToken);case 2:if(!(t=this._authProvider.getImmediate({optional:!0}))){e.next=9;break}return e.next=6,t.getToken();case 6:if(null===(n=e.sent)){e.next=9;break}return e.abrupt("return",n.accessToken);case 9:return e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_getAppCheckToken",value:function(){var e=ie(te().mark((function e(){var t,n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=this._appCheckProvider.getImmediate({optional:!0}))){e.next=6;break}return e.next=4,t.getToken();case 4:return n=e.sent,e.abrupt("return",n.token);case 6:return e.abrupt("return",null);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_delete",value:function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()}},{key:"_makeStorageReference",value:function(e){return new oE(this,e)}},{key:"_makeRequest",value:function(e,t,n,r){var i=this;if(this._deleted)return new cI(rI());var a=function(e,t,n,r,i,a){var o=vI(e.urlParams),u=e.url+o,s=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(s,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(s,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(s,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(s,r),new mI(u,e.method,s,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(a),a.getPromise().then((function(){return i._requests.delete(a)}),(function(){return i._requests.delete(a)})),a}},{key:"makeRequestWithTokens",value:function(){var e=ie(te().mark((function e(t,n){var r,i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this._getAuthToken(),this._getAppCheckToken()]);case 2:return r=e.sent,i=(0,c.Z)(r,2),a=i[0],o=i[1],e.abrupt("return",this._makeRequest(t,n,a,o).getPromise());case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),kE="@firebase/storage",wE="0.9.9",xE="storage";function _E(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new aE(e,new EI(t),n)}(e=Ke(e),t,n)}function SE(e){return function(e){e._throwIfRoot("getMetadata");var t=BI(e.storage,e._location,PI());return e.storage.makeRequestWithTokens(t,iE)}(e=Ke(e))}function IE(e){return function(e){var t={prefixes:[],items:[]};return uE(e,t).then((function(){return t}))}(e=Ke(e))}function EE(e){return fE(e=Ke(e))}function TE(e,t){return vE(e=Ke(e),t)}function CE(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};gE(e,t,n,r)}function NE(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new bE(r,i,a,n,Ut)}Ot(new He(xE,NE,"PUBLIC").setMultipleInstances(!0)),Kt(kE,wE,""),Kt(kE,wE,"esm2017");var RE=function(){function e(t,n){var r=this;ue(this,e),this._delegate=t,this.firebase=n,At(t,new He("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ce(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),qt(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){At(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Pt(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),AE=(yE={},(0,a.Z)(yE,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),(0,a.Z)(yE,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),yE),PE=new De("app-compat","Firebase",AE);var OE=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Vt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(je(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Kt,setLogLevel:Gt,onLog:Ht,apps:null,SDK_VERSION:Ut,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ot(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw PE.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&_e(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!je(n,e=e||Tt))throw PE.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(RE);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){_e(n,e)},createSubscribe:Be,ErrorFactory:De,deepExtend:_e}),n}(),DE=new it("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){DE.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var LE=self.firebase.SDK_VERSION;LE&&LE.indexOf("LITE")>=0&&DE.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ME=OE;!function(e){Kt("@firebase/app-compat","0.1.30",e)}();var jE=n(3878),FE=n(9199),ZE=n(5267);function UE(){return window}function VE(e,t,n){return zE.apply(this,arguments)}function zE(){return zE=ie(te().mark((function e(t,n,r){var i,a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=UE(),o=a.BuildInfo,Fn(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,GE(n.sessionId);case 4:return u=e.sent,s={},Br()?s.ibi=o.packageName:Ur()?s.apn=o.packageName:An(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",ms(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function BE(){return BE=ie(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=UE(),r=n.BuildInfo,i={},Br()?i.iosBundleId=r.packageName:Ur()?i.androidPackageName=r.packageName:An(t,"operation-not-supported-in-this-environment"),e.next=5,Ku(t,i);case 5:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function qE(e){var t=UE().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function WE(e,t,n){return KE.apply(this,arguments)}function KE(){return KE=ie(te().mark((function e(t,n,r){var i,a,o;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=UE(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(Pn(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ur()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),KE.apply(this,arguments)}function HE(e){var t,n,r,i,a,o,u,s,c,l,f=UE();Mn("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Mn("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Mn("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Mn("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Mn("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function GE(e){return QE.apply(this,arguments)}function QE(){return(QE=ie(te().mark((function e(t){var n,r,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=$E(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $E(e){if(Fn(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var XE=function(e){de(n,e);var t=me(n);function n(){var e;return ue(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ce(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),fn(he(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Bu);function YE(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:rT(),postBody:null,tenantId:e.tenantId,error:Pn(e,"no-auth-event")}}function JE(e,t){return iT()._set(aT(e),t)}function eT(e){return tT.apply(this,arguments)}function tT(){return tT=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iT()._get(aT(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,iT()._remove(aT(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),tT.apply(this,arguments)}function nT(e,t){var n,r,i=function(e){var t=oT(e),n=t.link?decodeURIComponent(t.link):void 0,r=oT(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return oT(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=oT(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?Pn(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function rT(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function iT(){return Un(so)}function aT(e){return Or("authEvent",e.config.apiKey,e.name)}function oT(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=(t=n,(0,jE.Z)(t)||(0,FE.Z)(t)||(0,ae.Z)(t)||(0,ZE.Z)());r[0];return Ve(r.slice(1).join("?"))}var uT=function(){function e(){ue(this,e),this._redirectPersistence=lo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zu,this._overrideRedirectResult=Cu}return ce(e,[{key:"_initialize",value:function(){var e=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new XE(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){An(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=ie(te().mark((function e(t,n,r,i){var a,o,u,s;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return HE(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),xu.clear(),e.next=10,this._originValidation(t);case 10:return o=YE(t,r,i),e.next=13,JE(t,o);case 13:return e.next=15,VE(t,o,n);case 15:return u=e.sent,e.next=18,qE(u);case 18:return s=e.sent,e.abrupt("return",WE(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return BE.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=UE(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(ie(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,eT(e);case 2:t.onEvent(cT());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=ie(te().mark((function n(r){var i,a;return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,eT(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=nT(i,r.url)),t.onEvent(a||cT());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");UE().handleOpenURL=function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),sT=uT;function cT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pn("no-auth-event")}}function lT(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function fT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return!("file:"!==lT()&&"ionic:"!==lT()&&"capacitor:"!==lT()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function dT(){return Ae()&&11===(null===document||void 0===document?void 0:document.documentMode)}function hT(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return/Edge\/\d+/.test(e)}function pT(){try{var e=self.localStorage,t=po();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee();return dT()||hT(e)}()||Pe()}catch(n){return vT()&&Pe()}return!1}function vT(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function mT(){return("http:"===lT()||"https:"===lT()||Ne()||fT())&&!(Re()||Ce())&&pT()&&!vT()}function gT(){return fT()&&"undefined"!==typeof document}function yT(){return bT.apply(this,arguments)}function bT(){return(bT=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(gT()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var kT={LOCAL:"local",NONE:"none",SESSION:"session"},wT=Mn,xT="persistence";function _T(e,t){wT(Object.values(kT).includes(t),e,"invalid-persistence-type"),Re()?wT(t!==kT.SESSION,e,"unsupported-persistence-type"):Ce()?wT(t===kT.NONE,e,"unsupported-persistence-type"):vT()?wT(t===kT.NONE||t===kT.LOCAL&&Pe(),e,"unsupported-persistence-type"):wT(t===kT.NONE||pT(),e,"unsupported-persistence-type")}function ST(e){return IT.apply(this,arguments)}function IT(){return IT=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=ET(),r=Or(xT,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function ET(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var TT=Mn,CT=function(){function e(){ue(this,e),this.browserResolver=Un(bs),this.cordovaResolver=Un(sT),this.underlyingResolver=null,this._redirectPersistence=lo,this._completeRedirectFn=Zu,this._overrideRedirectResult=Cu}return ce(e,[{key:"_initialize",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=ie(te().mark((function e(t,n,r,i){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=ie(te().mark((function e(t,n,r,i){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return gT()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return TT(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,yT();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function NT(e){return e.unwrap()}function RT(e,t){var n,r,i=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===(r=t)||void 0===r?void 0:r.code))t.resolver=new LT(e,function(e,t){var n,r=Ke(e),i=t;return Mn(t.customData.operationType,r,"argument-error"),Mn(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),eo._fromError(r,i)}(e,t));else if(i){var a=AT(t),o=t;a&&(o.credential=a,o.tenantId=i.tenantId||void 0,o.email=i.email||void 0,o.phoneNumber=i.phoneNumber||void 0)}}function AT(e){var t=(e instanceof Oe?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Oe)&&"temporaryProof"in t&&"phoneNumber"in t)return uu.credentialFromResult(e);var n,r=t.providerId;if(!r||r===gn)return null;switch(r){case mn:n=Vi;break;case pn:n=Ui;break;case vn:n=zi;break;case yn:n=Wi;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Bi._create(r,u):Ti._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Zi(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Oe?n.credentialFromError(e):n.credentialFromResult(e)}function PT(e,t){return t.catch((function(t){throw t instanceof Oe&&RT(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,AT(t)),additionalUserInfo:Xa(e),user:MT.getOrCreate(r)}}))}function OT(e,t){return DT.apply(this,arguments)}function DT(){return DT=ie(te().mark((function e(t,n){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return PT(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),DT.apply(this,arguments)}var LT=function(){function e(t,n){ue(this,e),this.resolver=n,this.auth=t.wrapped()}return ce(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return PT(NT(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),MT=function(){function e(t){ue(this,e),this._delegate=t,this.multiFactor=function(e){var t=Ke(e);return io.has(t)||io.set(t,ro._fromUser(t)),io.get(t)}(t)}return ce(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PT(this.auth,da(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",OT(this.auth,tu(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PT(this.auth,bu(this._delegate,t,CT)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ST($r(this.auth));case 2:return e.abrupt("return",Lu(this._delegate,t,CT));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PT(this.auth,pa(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return OT(this.auth,function(e,t,n){return ru.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return PT(this.auth,function(e,t,n){return yu.apply(this,arguments)}(this._delegate,e,CT))}},{key:"reauthenticateWithRedirect",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ST($r(this.auth));case 2:return e.abrupt("return",Ou(this._delegate,t,CT));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Ma.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ea(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return Va(this._delegate,e)}},{key:"updatePassword",value:function(e){return za(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return ou.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ua.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return ja.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();MT.USER_MAP=new WeakMap;var jT=Mn,FT=function(){function e(t,n){if(ue(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;jT(r,"invalid-api-key",{appName:t.name}),jT(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?CT:void 0;this._delegate=n.initialize({options:{persistence:UT(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(En),this.linkUnderlyingAuth()}return ce(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?MT.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Yr(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Sa.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Ia(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return _a.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PT(this._delegate,Ca(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return La.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Li.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=ie(te().mark((function e(){var t;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT(mT(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ju(this._delegate,CT);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",PT(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){$r(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ZT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ZT(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Aa.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return xa.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=ie(te().mark((function e(t){var n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_T(this._delegate,t),e.t0=t,e.next=e.t0===kT.SESSION?4:e.t0===kT.LOCAL?6:e.t0===kT.NONE?11:13;break;case 4:return n=lo,e.abrupt("break",14);case 6:return e.next=8,Un(Do)._isAvailable();case 8:return r=e.sent,n=r?Do:so,e.abrupt("break",14);case 11:return n=Pr,e.abrupt("break",14);case 13:return e.abrupt("return",An("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return PT(this._delegate,function(e){return $i.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return PT(this._delegate,la(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return PT(this._delegate,function(e,t){return ya.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return PT(this._delegate,Ra(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return PT(this._delegate,function(e,t,n){return Pa.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return OT(this._delegate,function(e,t,n){return eu.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT(mT(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",PT(this._delegate,mu(this._delegate,t,CT)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=ie(te().mark((function e(t){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jT(mT(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,ST(this._delegate);case 3:return e.abrupt("return",Au(this._delegate,t,CT));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Ta.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ZT(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&MT.getOrCreate(e))},error:t,complete:n}}function UT(e,t){var n=function(e,t){var n=ET();if(!n)return[];var r=Or(xT,e,t);switch(n.getItem(r)){case kT.NONE:return[Pr];case kT.LOCAL:return[Do,lo];case kT.SESSION:return[lo];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Do)||n.push(Do),"undefined"!==typeof window)for(var r=0,i=[so,lo];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Pr)||n.push(Pr),n}FT.Persistence=kT;var VT=function(){function e(){ue(this,e),this.providerId="phone",this._delegate=new uu(NT(ME.auth()))}return ce(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return uu.credential(e,t)}}]),e}();VT.PHONE_SIGN_IN_METHOD=uu.PHONE_SIGN_IN_METHOD,VT.PROVIDER_ID=uu.PROVIDER_ID;var zT,BT=Mn,qT=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ME.app();ue(this,e),BT(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Xo(t,n,i.auth()),this.type=this._delegate.type}return ce(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(zT=ME).INTERNAL.registerComponent(new He("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new FT(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:bn,PASSWORD_RESET:kn,RECOVER_EMAIL:wn,REVERT_SECOND_FACTOR_ADDITION:xn,VERIFY_AND_CHANGE_EMAIL:_n,VERIFY_EMAIL:Sn}},EmailAuthProvider:Mi,FacebookAuthProvider:Ui,GithubAuthProvider:zi,GoogleAuthProvider:Vi,OAuthProvider:Zi,SAMLAuthProvider:qi,PhoneAuthProvider:VT,PhoneMultiFactorGenerator:xs,RecaptchaVerifier:qT,TwitterAuthProvider:Wi,Auth:FT,AuthCredential:ti,Error:Oe}).setInstantiationMode("LAZY").setMultipleInstances(!1)),zT.registerVersion("@firebase/auth-compat","0.2.18");var WT=function(){function e(t,n,r){ue(this,e),this._delegate=t,this.task=n,this.ref=r}return ce(e,[{key:"bytesTransferred",get:function(){return this._delegate.bytesTransferred}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"state",get:function(){return this._delegate.state}},{key:"totalBytes",get:function(){return this._delegate.totalBytes}}]),e}(),KT=function(){function e(t,n){ue(this,e),this._delegate=t,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return ce(e,[{key:"snapshot",get:function(){return new WT(this._delegate.snapshot,this,this._ref)}},{key:"then",value:function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new WT(t,n,n._ref))}),t)}},{key:"on",value:function(e,t,n,r){var i=this,a=void 0;return t&&(a="function"===typeof t?function(e){return t(new WT(e,i,i._ref))}:{next:t.next?function(e){return t.next(new WT(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,a,n||void 0,r||void 0)}}]),e}(),HT=function(){function e(t,n){ue(this,e),this._delegate=t,this._service=n}return ce(e,[{key:"prefixes",get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new GT(t,e._service)}))}},{key:"items",get:function(){var e=this;return this._delegate.items.map((function(t){return new GT(t,e._service)}))}},{key:"nextPageToken",get:function(){return this._delegate.nextPageToken||null}}]),e}(),GT=function(){function e(t,n){ue(this,e),this._delegate=t,this.storage=n}return ce(e,[{key:"name",get:function(){return this._delegate.name}},{key:"bucket",get:function(){return this._delegate.bucket}},{key:"fullPath",get:function(){return this._delegate.fullPath}},{key:"toString",value:function(){return this._delegate.toString()}},{key:"child",value:function(t){var n=function(e,t){return hE(e,t)}(this._delegate,t);return new e(n,this.storage)}},{key:"root",get:function(){return new e(this._delegate.root,this.storage)}},{key:"parent",get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)}},{key:"put",value:function(e,t){return this._throwIfRoot("put"),new KT(_E(this._delegate,e,t),this)}},{key:"putString",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kI.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");var r=xI(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new KT(new aE(this._delegate,new EI(r.data,!0),i),this)}},{key:"listAll",value:function(){var e=this;return IE(this._delegate).then((function(t){return new HT(t,e.storage)}))}},{key:"list",value:function(e){var t=this;return function(e,t){return cE(e=Ke(e),t)}(this._delegate,e||void 0).then((function(e){return new HT(e,t.storage)}))}},{key:"getMetadata",value:function(){return SE(this._delegate)}},{key:"updateMetadata",value:function(e){return function(e,t){return lE(e=Ke(e),t)}(this._delegate,e)}},{key:"getDownloadURL",value:function(){return EE(this._delegate)}},{key:"delete",value:function(){return this._throwIfRoot("delete"),dE(Ke(this._delegate))}},{key:"_throwIfRoot",value:function(e){if(""===this._delegate._location.path)throw iI(e)}}]),e}(),QT=function(){function e(t,n){ue(this,e),this.app=t,this._delegate=n}return ce(e,[{key:"maxOperationRetryTime",get:function(){return this._delegate.maxOperationRetryTime}},{key:"maxUploadRetryTime",get:function(){return this._delegate.maxUploadRetryTime}},{key:"ref",value:function(e){if($T(e))throw nI("ref() expected a child path but got a URL, use refFromURL instead.");return new GT(TE(this._delegate,e),this)}},{key:"refFromURL",value:function(e){if(!$T(e))throw nI("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sI.makeFromUrl(e,this._delegate.host)}catch(t){throw nI("refFromUrl() expected a valid full URL but got an invalid one.")}return new GT(TE(this._delegate,e),this)}},{key:"setMaxUploadRetryTime",value:function(e){this._delegate.maxUploadRetryTime=e}},{key:"setMaxOperationRetryTime",value:function(e){this._delegate.maxOperationRetryTime=e}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};CE(this._delegate,e,t,n)}}]),e}();function $T(e){return/^[A-Za-z]+:\/\//.test(e)}function XT(e,t){var n=t.instanceIdentifier,r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new QT(r,i)}!function(e){var t={TaskState:YI,TaskEvent:XI,StringFormat:kI,Storage:QT,Reference:GT};e.INTERNAL.registerComponent(new He("storage-compat",XT,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.17")}(ME);function YT(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new th("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function JT(){if("undefined"===typeof Uint8Array)throw new th("unimplemented","Uint8Arrays are not available in this environment.")}function eC(){if("undefined"==typeof atob)throw new th("unimplemented","Blobs are unavailable in Firestore in this environment.")}var tC=function(){function e(t){ue(this,e),this._delegate=t}return ce(e,[{key:"toBase64",value:function(){return eC(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return JT(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return eC(),new e(E_.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return JT(),new e(E_.fromUint8Array(t))}}]),e}();function nC(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=oe(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var rC=function(){function e(){ue(this,e)}return ce(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){__(e=e_(e,v_));var n=m_(e),r=e._freezeSettings(),i=new Ix;return y_(n,i,new _x(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){__(e=e_(e,v_));var t=m_(e),n=e._freezeSettings(),r=new Ix;return y_(t,r,new Sx(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new th(eh.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new nh;return e._queue.enqueueAndForgetEvenWhileRestricted(ie(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Fh.V()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Fh.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(kb(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),iC=function(){function e(t,n,r){var i=this;ue(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof pp||(this._appCompat=t)}return ce(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Qd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i_(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return b_(this._delegate)}},{key:"disableNetwork",value:function(){return k_(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&$x("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new nh;return e.asyncQueue.enqueueAndForget(ie(te().mark((function n(){return te().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Bw,n.next=3,Bx(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(m_(e=e_(e,v_)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return BS(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new th("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new yC(this,s_(this._delegate,e))}catch(t){throw lC(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new cC(this,c_(this._delegate,e))}catch(t){throw lC(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new vC(this,function(e,t){if(e=e_(e,r_),Qx("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new th(eh.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new o_(e,null,function(e){return new lv(bh.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw lC(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return HS(this._delegate,(function(n){return e(new oC(t,n))}))}},{key:"batch",value:function(){var e=this;return m_(this._delegate),new uC(new PS(this._delegate,(function(t){return qS(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return w_(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return x_(this._delegate,e).then((function(e){return e?new vC(t,e):null}))}}]),e}(),aC=function(e){de(n,e);var t=me(n);function n(e){var r;return ue(this,n),(r=t.call(this)).firestore=e,r}return ce(n,[{key:"convertBytes",value:function(e){return new tC(new E_(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return cC.forKey(t,this.firestore,null)}}]),n}(NS);var oC=function(){function e(t,n){ue(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new aC(t)}return ce(e,[{key:"get",value:function(e){var t=this,n=bC(e);return this._delegate.get(n).then((function(e){return new hC(t._firestore,new aS(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=bC(e);return n?(YT("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=bC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bC(e);return this._delegate.delete(t),this}}]),e}(),uC=function(){function e(t){ue(this,e),this._delegate=t}return ce(e,[{key:"set",value:function(e,t,n){var r=bC(e);return n?(YT("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=bC(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=bC(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),sC=function(){function e(t,n,r){ue(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ce(e,[{key:"fromFirestore",value:function(e,t){var n=new oS(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new pC(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new aC(t),n),i.set(n,a)),a}}]),e}();sC.INSTANCES=new WeakMap;var cC=function(){function e(t,n){ue(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aC(t)}return ce(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new yC(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new yC(this.firestore,s_(this._delegate,e))}catch(t){throw lC(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Ke(e))instanceof a_&&l_(this._delegate,e)}},{key:"set",value:function(e,t){t=YT("DocumentReference.set",t);try{return t?ZS(this._delegate,e,t):ZS(this._delegate,e)}catch(n){throw lC(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?US(this._delegate,e):US.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw lC(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return qS(e_(e.firestore,v_),[new im(e._key,Bv.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=fC(n),a=dC(n,(function(t){return new hC(e.firestore,new aS(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return zS(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?MS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=e_(e,a_);var t=e_(e.firestore,v_);return Kx(m_(t),e._key,{source:"server"}).then((function(n){return WS(t,e,n)}))}(this._delegate):DS(this._delegate),t.then((function(e){return new hC(n.firestore,new aS(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(sC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new th("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new a_(n._delegate,r,new xh(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new a_(n._delegate,r,t))}}]),e}();function lC(e,t,n){return e.message=e.message.replace(t,n),e}function fC(e){var t,n=oe(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!nC(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function dC(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=nC(e[0])?e[0]:nC(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hC=function(){function e(t,n){ue(this,e),this._firestore=t,this._delegate=n}return ce(e,[{key:"ref",get:function(){return new cC(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return cS(this._delegate,e._delegate)}}]),e}(),pC=function(e){de(n,e);var t=me(n);function n(){return ue(this,n),t.apply(this,arguments)}return ce(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Xd()}(void 0!==t),t}}]),n}(hC),vC=function(){function e(t,n){ue(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new aC(t)}return ce(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,dS(this._delegate,pS(t,n,r)))}catch(i){throw lC(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,dS(this._delegate,mS(t,n)))}catch(r){throw lC(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,dS(this._delegate,function(e){return t_("limit",e),new gS("limit",e,"F")}(t)))}catch(n){throw lC(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,dS(this._delegate,function(e){return t_("limitToLast",e),new gS("limitToLast",e,"L")}(t)))}catch(n){throw lC(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,dS(this._delegate,bS.apply(void 0,arguments)))}catch(t){throw lC(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,dS(this._delegate,kS.apply(void 0,arguments)))}catch(t){throw lC(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,dS(this._delegate,xS.apply(void 0,arguments)))}catch(t){throw lC(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,dS(this._delegate,_S.apply(void 0,arguments)))}catch(t){throw lC(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return f_(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?FS(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=e_(e,o_);var t=e_(e.firestore,v_),n=m_(t),r=new LS(t);return Hx(n,e._query,{source:"server"}).then((function(n){return new uS(t,r,e,n)}))}(this._delegate):jS(this._delegate),t.then((function(e){return new gC(n.firestore,new uS(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=fC(n),a=dC(n,(function(t){return new gC(e.firestore,new uS(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return zS(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(sC.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),mC=function(){function e(t,n){ue(this,e),this._firestore=t,this._delegate=n}return ce(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new pC(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),gC=function(){function e(t,n){ue(this,e),this._firestore=t,this._delegate=n}return ce(e,[{key:"query",get:function(){return new vC(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new pC(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new mC(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new pC(n._firestore,r))}))}},{key:"isEqual",value:function(e){return cS(this._delegate,e._delegate)}}]),e}(),yC=function(e){de(n,e);var t=me(n);function n(e,r){var i;return ue(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ce(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new cC(this.firestore,e):null}},{key:"doc",value:function(e){try{return new cC(this.firestore,void 0===e?c_(this._delegate):c_(this._delegate,e))}catch(t){throw lC(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return VS(this._delegate,e).then((function(e){return new cC(t.firestore,e)}))}},{key:"isEqual",value:function(e){return l_(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(sC.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(vC);function bC(e){return e_(e,a_)}var kC=function(){function e(){ue(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ge(S_,n)}return ce(e,[{key:"isEqual",value:function(e){return(e=Ke(e))instanceof S_&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(wh.keyField().canonicalString())}}]),e}(),wC=function(){function e(t){ue(this,e),this._delegate=t}return ce(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Z_("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new j_("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=GS.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=QS.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new z_("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),xC={Firestore:iC,GeoPoint:C_,Timestamp:mh,Blob:tC,Transaction:oC,WriteBatch:uC,DocumentReference:cC,DocumentSnapshot:hC,Query:vC,QueryDocumentSnapshot:pC,QuerySnapshot:gC,CollectionReference:yC,FieldPath:kC,FieldValue:wC,setLogLevel:function(e){!function(e){Wd.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new He("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xC)))}(e,(function(e,t){return new iC(e,t,new rC)})),e.registerVersion("@firebase/firestore-compat","0.1.22")}(ME);var _C=n(9181),SC=Vt(n.n(_C)()),IC=Ts(SC),EC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt();return Dt(e,"firestore").getImmediate()}(SC),TC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt(),t=arguments.length>1?arguments[1]:void 0,n=Dt(e=Ke(e),xE),r=n.getImmediate({identifier:t});return r}(SC),CC={users:s_(EC,"users"),getTimeStamp:mh.now()};console.log(CC.getTimeStamp);var NC,RC=n(184),AC=t.createContext();function PC(e){var n=e.children,r=t.useState(!1),i=(0,c.Z)(r,2),a=i[0],o=i[1],s=(0,t.useState)(null),l=(0,c.Z)(s,2),f=l[0],d=l[1],h=(0,t.useState)(null),p=(0,c.Z)(h,2),v=p[0],m=p[1],g=(0,t.useState)(""),y=(0,c.Z)(g,2),b=y[0],k=y[1],w=(0,t.useState)(null),x=(0,c.Z)(w,2),_=x[0],S=x[1],I=t.useState("light"),E=(0,c.Z)(I,2),T=E[0],C=E[1],N=(0,t.useState)([]),R=(0,c.Z)(N,2),A=R[0],P=R[1],O=(0,t.useState)(null),D=(0,c.Z)(O,2),L=D[0],M=D[1],j=function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ya(IC);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=dS(s_(EC,"seenposts")),t={};jS(e).then((function(e){e.forEach((function(e){t[e.data().postId]=e.data().visitedUsers})),M(t)}))};return(0,t.useEffect)((function(){F()}),[]),(0,t.useEffect)((function(){if(null!==f){var e=zS(dS(s_(EC,"users"),pS("userId","==",f.uid)),(function(e){e.forEach((function(e){var t=u(u({},e.data()),{},{docId:e.id});m(t)}))}));return function(){e()}}}),[f]),(0,t.useEffect)((function(){if(v){var e=[],t=zS(dS(s_(EC,"users")),(function(t){e=[],t.forEach((function(t){var n=u(u({},t.data()),{},{docId:t.id});n.docId!==v.docId&&e.push(n)})),P(e)}));return function(){t()}}P([])}),[v]),(0,t.useEffect)((function(){!function(e,t,n,r){Ke(e).onAuthStateChanged(t,n,r)}(IC,(function(e){e?(d(e),F()):(d(null),m(null),F()),o(!0)}))}),[]),(0,RC.jsx)(AC.Provider,{value:{cUser:f,setUser:d,signout:j,user:v,docId:b,setUserData:m,setDocId:k,theme:T,setTheme:C,visitedUser:_,setVisitedUser:S,userList:A,seenPosts:L},children:a&&n})}var OC=new Uint8Array(16);function DC(){if(!NC&&!(NC="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return NC(OC)}var LC=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var MC=function(e){return"string"===typeof e&&LC.test(e)},jC=[],FC=0;FC<256;++FC)jC.push((FC+256).toString(16).substr(1));var ZC=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(jC[e[t+0]]+jC[e[t+1]]+jC[e[t+2]]+jC[e[t+3]]+"-"+jC[e[t+4]]+jC[e[t+5]]+"-"+jC[e[t+6]]+jC[e[t+7]]+"-"+jC[e[t+8]]+jC[e[t+9]]+"-"+jC[e[t+10]]+jC[e[t+11]]+jC[e[t+12]]+jC[e[t+13]]+jC[e[t+14]]+jC[e[t+15]]).toLowerCase();if(!MC(n))throw TypeError("Stringified UUID is invalid");return n};var UC=function(e,t,n){var r=(e=e||{}).random||(e.rng||DC)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return ZC(r)};var VC=function(e){var n=e.post,r=(0,t.useState)(""),i=(0,c.Z)(r,2),a=i[0],o=i[1],u=(0,t.useContext)(AC),s=(0,t.useState)([]),l=(0,c.Z)(s,2),f=l[0],d=l[1],h=(0,t.useState)(!1),p=(0,c.Z)(h,2),v=p[0],m=p[1];(0,t.useEffect)((function(){var e=dS(s_(EC,"comments"),pS("postId","==",n.postId),mS("createdAt","desc")),t=[],r=zS(e,(function(e){t=[],e.forEach((function(e){var n=e.data();t.push(n)})),d(t)}));return function(){r()}}),[]);var g=a.length>0?"opacity":"less-opacity";return(0,RC.jsxs)("div",{className:"comments",children:[(0,RC.jsxs)("div",{className:"top",children:[(0,RC.jsx)("img",{src:n.uProfile,alt:"",className:"post-pic"}),(0,RC.jsxs)("div",{className:"stripe-container",children:[(0,RC.jsx)("div",{className:"name",children:(0,RC.jsx)("b",{children:n.uName})}),(0,RC.jsx)("div",{className:"temp-text",children:"Orginal Audio"})]})]}),(0,RC.jsx)("div",{className:"comment-area",children:!0===v?(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{className:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}):f.map((function(e,t){return(0,RC.jsxs)("div",{className:"comment",children:[(0,RC.jsx)("img",{alt:"",className:"img_reel comment-img",src:e.uProfileImage}),"\xa0","\xa0","\xa0",(0,RC.jsxs)("div",{className:"comment-text ",children:[" ",(0,RC.jsx)("b",{children:e.uName}),"\xa0"," ",e.text]})]},t)}))}),(0,RC.jsx)("div",{className:"post-area",children:(0,RC.jsxs)("div",{className:"post-area-inner",children:[(0,RC.jsx)("textarea",{placeholder:"Add a comment...",className:"post-text",value:a,onChange:function(e){return function(e){o(e.target.value)}(e)},rows:"2",cols:"65"}),(0,RC.jsx)("span",{onClick:function(){if(""!==a){var e={text:a,uProfileImage:u.user.profileUrl,uName:u.user.fullname,postId:n.postId,createdAt:mh.now()};m(!0),VS(s_(EC,"comments"),e).then((function(e){var t=(0,ne.Z)(n.comments);t.unshift(e.id),US(c_(EC,"posts",n.postId),{comments:t}).then((function(){m(!1),o("")})).catch((function(e){console.error(e),m(!1),o("")}))})).catch((function(e){m(!1),o("")}))}},className:"post-button",children:(0,RC.jsx)("p",{className:"post-button-text ".concat(g),children:"Post"})})]})})]})};var zC=function(e){var n=e.open,r=e.handleOpen,i=e.post,a=e.index,o=e.cIndex,u=(0,t.useContext)(AC).theme;return(0,RC.jsx)(RC.Fragment,{children:!0===n&&o===a&&(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)("span",{className:"close",onClick:function(){return r(!1)},children:(0,RC.jsx)("i",{class:"fa-regular fa-circle-xmark"})}),(0,RC.jsx)("div",{className:"back"}),(0,RC.jsxs)("div",{className:("dark"===u?"dark ":" ")+"container-modal container-chat-theme",children:[(0,RC.jsx)("div",{className:"video-wrapper",children:(0,RC.jsx)(RC.Fragment,{children:(0,RC.jsx)("video",{src:i.pUrl,className:"videos-styling",autoPlay:!0,muted:"muted",controls:!0})})}),(0,RC.jsx)("div",{className:"chat-container",children:(0,RC.jsx)(VC,{post:i})})]})]})})},BC=n(4164);var qC=function(e){var n=(0,t.useContext)(AC),r=function(){var t=ie(te().mark((function t(){var r,i,a;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c_(EC,"seenposts",e.post.seenpost),t.next=3,DS(r);case 3:return i=t.sent,a=(0,ne.Z)(new Set([].concat((0,ne.Z)(i.data().visitedUsers),[n.user.docId]))),t.next=7,US(c_(EC,"seenposts",e.post.seenpost),{visitedUsers:a});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,RC.jsx)(RC.Fragment,{children:(0,RC.jsx)("video",{src:e.src,className:"videos-styling",onPlay:r,onEnded:function(e){var t=BC.findDOMNode(e.target).parentNode.parentNode.nextSibling;t&&(t.scrollIntoView({behaviour:"smooth",block:"end"}),e.target.muted=!0)},muted:"muted",id:"video----".concat(e.postId),onClick:function(e){e.preventDefault(),e.target.muted=!e.target.muted}})})};var WC=function(e){var n=e.user,r=e.post,i=(0,t.useState)(!0),a=(0,c.Z)(i,2),o=a[0],u=a[1];(0,t.useEffect)((function(){var e=!!r.likes.includes(n.docId);u(e)}),[r]);var s=function(){var e=ie(te().mark((function e(){var t,i;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==o){e.next=6;break}return t=r.likes.filter((function(e){return e!==n.docId})),e.next=4,US(c_(EC,"posts",r.postId),{likes:t});case 4:e.next=9;break;case 6:return i=[].concat((0,ne.Z)(r.likes),[n.docId]),e.next=9,US(c_(EC,"posts",r.postId),{likes:i});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,RC.jsx)("div",{children:null!==o?(0,RC.jsx)(RC.Fragment,{children:!0===o?(0,RC.jsxs)("div",{children:[" ",(0,RC.jsx)("i",{onClick:s,className:"far fa-solid fa-heart-o liked"})," ",(0,RC.jsx)("div",{className:"likes",children:r.likes.length})," "]}):(0,RC.jsxs)("div",{children:[(0,RC.jsx)("i",{onClick:s,className:"far  fa-heart-o dislike"}),(0,RC.jsx)("div",{className:"likes",children:r.likes.length})," "]})}):(0,RC.jsx)(RC.Fragment,{})})},KC=n.p+"static/media/no-posts.4432173f5da7ad556a1a.png",HC=function(e){var n,r=e.user,i=(0,t.useState)(null),a=(0,c.Z)(i,2),o=a[0],s=a[1],l=(0,t.useState)(null),f=(0,c.Z)(l,2),d=f[0],h=f[1],p=(0,t.useState)(!1),v=(0,c.Z)(p,2),m=v[0],g=v[1],y=(0,t.useState)(null),b=(0,c.Z)(y,2),k=b[0],w=b[1],x=(0,t.useState)(0),_=(0,c.Z)(x,2),S=_[0],I=_[1],E=(0,t.useContext)(AC),T=(0,t.useState)(null),C=(0,c.Z)(T,2),N=C[0],R=C[1],A=Z(),P=function(e,t){I(t),g(e)},O=function(e){E.setVisitedUser(e),A("/visit/"+e.docId)};(0,t.useEffect)((function(){null!==E.seenPosts&&R(E.seenPosts)}),[E.seenPosts]),(0,t.useEffect)((function(){if(null!==o){if(null!==d&&d.length<o.length&&d[0].postId!==o[0].postId)document.getElementById("#".concat(o[0].postId)).click();h(o)}}),[o]),(0,t.useEffect)((function(){var e=[];E.userList.forEach((function(t){t.followers.includes(E.user.docId)||e.push(t)})),w(e.slice(0,5))}),[E.userList]),(0,t.useEffect)((function(){if(E.user){var e=[],t=zS(dS(s_(EC,"posts"),mS("createdAt")),(function(t){e=[],t.forEach((function(t){var n=u(u({},t.data()),{},{postId:t.id});n.userId===E.user.docId?e.unshift(n):e.push(n)})),s(e)}));return function(){t()}}}),[null===(n=E.user)||void 0===n?void 0:n.docId]);var D=new IntersectionObserver((function(e){e.forEach((function(e){var t=e.target;t.play().then((function(){t.paused||e.isIntersecting||t.pause()}))}))}),{threshold:.6});(0,t.useEffect)((function(){var e=document.querySelectorAll(".videos");return null===e||void 0===e||e.forEach((function(e){D.observe(e.children[0])})),function(){D.disconnect()}}),[o,r]);var L=null===o||void 0===o?void 0:o.filter((function(e){return(E.user.following.includes(e.userId)||E.user.docId===e.userId)&&(!N[e.postId]||!N[e.postId].includes(E.user.docId))}));return(0,RC.jsx)(RC.Fragment,{children:null===o||null===r||null===N?(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{class:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}):(0,RC.jsxs)("div",{className:"post-container",children:[(0,RC.jsx)("div",{className:"post-right-container",children:k?k.slice(0,5).map((function(e,t){return(0,RC.jsx)("div",{className:"posts",onClick:function(){return O(e)},children:(0,RC.jsxs)("div",{className:"posts-wrapper",children:[(0,RC.jsx)("div",{className:"",children:(0,RC.jsx)("img",{src:null===e||void 0===e?void 0:e.profileUrl,alt:"",className:"user-image"})}),(0,RC.jsx)("div",{className:"",children:e.fullname})]})},t)})):(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{class:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})})}),(0,RC.jsxs)("div",{className:"video-user-container",children:[(0,RC.jsx)("div",{className:"video-left-container"}),(null===L||void 0===L?void 0:L.length)>0?(0,RC.jsx)("div",{onClick:function(){var e=document.querySelector("#video-container-box");e.requestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen},id:"video-container-box",className:"video-container",children:L.map((function(e,t){return(0,RC.jsxs)("span",{children:[(0,RC.jsx)("a",{href:"#".concat(e.postId),id:"#".concat(e.postId),style:{display:"none"}}),(0,RC.jsxs)("div",{className:"videos",id:e.postId,children:[(0,RC.jsx)(qC,{postId:e.postId,src:e.pUrl,post:e}),(0,RC.jsxs)("div",{class:"fa",children:[(0,RC.jsx)("img",{alt:"",className:"img_reel",src:e.uProfile}),(0,RC.jsx)("h4",{className:"name",children:e.uName})]}),(0,RC.jsx)("div",{className:"like",children:(0,RC.jsx)(WC,{user:r,post:e})}),(0,RC.jsx)("div",{onClick:function(){return P(!0,t)},className:"chat",children:(0,RC.jsx)("i",{class:"far fa-comment"})}),(0,RC.jsx)(zC,{open:m,handleOpen:P,post:e,index:t,cIndex:S})]})]},t)}))}):(!L||0===(null===L||void 0===L?void 0:L.length))&&(0,RC.jsx)(RC.Fragment,{children:(0,RC.jsxs)("div",{style:{padding:"20px 0"},className:("dark"===E.theme?"dark ":"")+"feed-no-post",children:[(0,RC.jsx)("div",{className:"inner",children:(0,RC.jsx)("img",{className:"display-image",src:KC,width:200,alt:"",srcset:""})}),(0,RC.jsx)("div",{className:"inner p",children:"No posts yet."})]})}),(0,RC.jsxs)("div",{className:"video-right-container",children:[(0,RC.jsx)("div",{className:"suggested-users-heading",children:(0,RC.jsx)("b",{children:"Suggested Users"})}),k.slice(0,5).map((function(e,t){var n=e.fullname.split(" "),r="";return n.forEach((function(e){r=r+e.toLowerCase()+"_"})),r+=e.email.length,(0,RC.jsx)("div",{className:"suggested-users",onClick:function(){return O(e)},children:(0,RC.jsxs)("div",{className:"suggested-users-wrapper",children:[(0,RC.jsx)("div",{className:"suggested-users-img",children:(0,RC.jsx)("img",{src:null===e||void 0===e?void 0:e.profileUrl,alt:"",className:"user-image"})}),(0,RC.jsxs)("div",{className:"suggested-users-details",children:[(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:e.fullname})}),(0,RC.jsx)("p",{children:r})]}),(0,RC.jsx)("div",{className:"suggested-users-view",children:(0,RC.jsx)("button",{children:"View"})})]})},t)}))]})]})]})})},GC=n(3366),QC=n(8182),$C=n(1184),XC=n(2466),YC=n(6001),JC=["sx"];function eN(e){var t,n=e.sx,r=function(e){var t={systemProps:{},otherProps:{}};return Object.keys(e).forEach((function(n){YC.Gc[n]?t.systemProps[n]=e[n]:t.otherProps[n]=e[n]})),t}((0,GC.Z)(e,JC)),i=r.systemProps,a=r.otherProps;return t=Array.isArray(n)?[i].concat((0,ne.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,XC.P)(e)?(0,l.Z)({},i,e):i}:(0,l.Z)({},i,n),(0,l.Z)({},a,{sx:t})}var tN=n(4419),nN=n(5255),rN=n(1046),iN=n(3459),aN=n(6482);function oN(){return(0,iN.Z)(aN.Z)}var uN=t.createContext(),sN=n(1217),cN=n(5878);function lN(e){return(0,sN.Z)("MuiGrid",e)}var fN=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],dN=(0,cN.Z)("MuiGrid",["root","container","item","zeroMinWidth"].concat((0,ne.Z)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),(0,ne.Z)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),(0,ne.Z)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),(0,ne.Z)(fN.map((function(e){return"grid-xs-".concat(e)}))),(0,ne.Z)(fN.map((function(e){return"grid-sm-".concat(e)}))),(0,ne.Z)(fN.map((function(e){return"grid-md-".concat(e)}))),(0,ne.Z)(fN.map((function(e){return"grid-lg-".concat(e)}))),(0,ne.Z)(fN.map((function(e){return"grid-xl-".concat(e)}))))),hN=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function pN(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}var vN=(0,nN.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,r=n.container,i=n.direction,a=n.item,o=n.spacing,u=n.wrap,s=n.zeroMinWidth,c=n.breakpoints,l=[];r&&(l=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var r=[];return t.forEach((function(t){var i=e[t];Number(i)>0&&r.push(n["spacing-".concat(t,"-").concat(String(i))])})),r}(o,c,t));var f=[];return c.forEach((function(e){var r=n[e];r&&f.push(t["grid-".concat(e,"-").concat(String(r))])})),[t.root,r&&t.container,a&&t.item,s&&t.zeroMinWidth].concat((0,ne.Z)(l),["row"!==i&&t["direction-xs-".concat(String(i))],"wrap"!==u&&t["wrap-xs-".concat(String(u))]],f)}})((function(e){var t=e.ownerState;return(0,l.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme,n=e.ownerState,r=(0,$C.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,$C.k9)({theme:t},r,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(dN.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.rowSpacing,o={};if(r&&0!==i){var u=(0,$C.P$)({values:i,breakpoints:t.breakpoints.values});o=(0,$C.k9)({theme:t},u,(function(e){var n=t.spacing(e);return"0px"!==n?(0,a.Z)({marginTop:"-".concat(pN(n))},"& > .".concat(dN.item),{paddingTop:pN(n)}):{}}))}return o}),(function(e){var t=e.theme,n=e.ownerState,r=n.container,i=n.columnSpacing,o={};if(r&&0!==i){var u=(0,$C.P$)({values:i,breakpoints:t.breakpoints.values});o=(0,$C.k9)({theme:t},u,(function(e){var n=t.spacing(e);return"0px"!==n?(0,a.Z)({width:"calc(100% + ".concat(pN(n),")"),marginLeft:"-".concat(pN(n))},"& > .".concat(dN.item),{paddingLeft:pN(n)}):{}}))}return o}),(function(e){var t,n=e.theme,r=e.ownerState;return n.breakpoints.keys.reduce((function(e,i){var a={};if(r[i]&&(t=r[i]),!t)return e;if(!0===t)a={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)a={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var o=(0,$C.P$)({values:r.columns,breakpoints:n.breakpoints.values}),u="object"===typeof o?o[i]:o;if(void 0===u||null===u)return e;var s="".concat(Math.round(t/u*1e8)/1e6,"%"),c={};if(r.container&&r.item&&0!==r.columnSpacing){var f=n.spacing(r.columnSpacing);if("0px"!==f){var d="calc(".concat(s," + ").concat(pN(f),")");c={flexBasis:d,maxWidth:d}}}a=(0,l.Z)({flexBasis:s,flexGrow:0,maxWidth:s},c)}return 0===n.breakpoints.values[i]?Object.assign(e,a):e[n.breakpoints.up(i)]=a,e}),{})}));var mN=function(e){var t=e.classes,n=e.container,r=e.direction,i=e.item,a=e.spacing,o=e.wrap,u=e.zeroMinWidth,s=e.breakpoints,c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach((function(t){var r=e[t];if(Number(r)>0){var i="spacing-".concat(t,"-").concat(String(r));n.push(i)}})),n}(a,s));var l=[];s.forEach((function(t){var n=e[t];n&&l.push("grid-".concat(t,"-").concat(String(n)))}));var f={root:["root",n&&"container",i&&"item",u&&"zeroMinWidth"].concat((0,ne.Z)(c),["row"!==r&&"direction-xs-".concat(String(r)),"wrap"!==o&&"wrap-xs-".concat(String(o))],l)};return(0,tN.Z)(f,lN,t)},gN=t.forwardRef((function(e,n){var r=(0,rN.Z)({props:e,name:"MuiGrid"}),i=oN().breakpoints,a=eN(r),o=a.className,u=a.columns,s=a.columnSpacing,c=a.component,f=void 0===c?"div":c,d=a.container,h=void 0!==d&&d,p=a.direction,v=void 0===p?"row":p,m=a.item,g=void 0!==m&&m,y=a.rowSpacing,b=a.spacing,k=void 0===b?0:b,w=a.wrap,x=void 0===w?"wrap":w,_=a.zeroMinWidth,S=void 0!==_&&_,I=(0,GC.Z)(a,hN),E=y||k,T=s||k,C=t.useContext(uN),N=h?u||12:C,R={},A=(0,l.Z)({},I);i.keys.forEach((function(e){null!=I[e]&&(R[e]=I[e],delete A[e])}));var P=(0,l.Z)({},a,{columns:N,container:h,direction:v,item:g,rowSpacing:E,columnSpacing:T,wrap:x,zeroMinWidth:S,spacing:k},R,{breakpoints:i.keys}),O=mN(P);return(0,RC.jsx)(uN.Provider,{value:N,children:(0,RC.jsx)(vN,(0,l.Z)({ownerState:P,className:(0,QC.Z)(O.root,o),as:f,ref:n},A))})})),yN=gN,bN=n(9201),kN=(0,bN.Z)((0,RC.jsx)("path",{d:"m12 5.69 5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3 2 12h3v8h6v-6h2v6h6v-8h3L12 3z"}),"HomeOutlined"),wN=(0,bN.Z)((0,RC.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-8-2h2v-4h4v-2h-4V7h-2v4H7v2h4z"}),"AddBoxOutlined"),xN=(0,bN.Z)((0,RC.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm-5.5-2.5 7.51-3.49L17.5 6.5 9.99 9.99 6.5 17.5zm5.5-6.6c.61 0 1.1.49 1.1 1.1s-.49 1.1-1.1 1.1-1.1-.49-1.1-1.1.49-1.1 1.1-1.1z"}),"ExploreOutlined"),_N=(0,bN.Z)((0,RC.jsx)("path",{d:"M9.37 5.51c-.18.64-.27 1.31-.27 1.99 0 4.08 3.32 7.4 7.4 7.4.68 0 1.35-.09 1.99-.27C17.45 17.19 14.93 19 12 19c-3.86 0-7-3.14-7-7 0-2.93 1.81-5.45 4.37-6.49zM12 3c-4.97 0-9 4.03-9 9s4.03 9 9 9 9-4.03 9-9c0-.46-.04-.92-.1-1.36-.98 1.37-2.58 2.26-4.4 2.26-2.98 0-5.4-2.42-5.4-5.4 0-1.81.89-3.42 2.26-4.4-.44-.06-.9-.1-1.36-.1z"}),"DarkModeOutlined"),SN=(0,bN.Z)((0,RC.jsx)("path",{d:"M12 9c1.65 0 3 1.35 3 3s-1.35 3-3 3-3-1.35-3-3 1.35-3 3-3m0-2c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zM2 13h2c.55 0 1-.45 1-1s-.45-1-1-1H2c-.55 0-1 .45-1 1s.45 1 1 1zm18 0h2c.55 0 1-.45 1-1s-.45-1-1-1h-2c-.55 0-1 .45-1 1s.45 1 1 1zM11 2v2c0 .55.45 1 1 1s1-.45 1-1V2c0-.55-.45-1-1-1s-1 .45-1 1zm0 18v2c0 .55.45 1 1 1s1-.45 1-1v-2c0-.55-.45-1-1-1s-1 .45-1 1zM5.99 4.58c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0s.39-1.03 0-1.41L5.99 4.58zm12.37 12.37c-.39-.39-1.03-.39-1.41 0-.39.39-.39 1.03 0 1.41l1.06 1.06c.39.39 1.03.39 1.41 0 .39-.39.39-1.03 0-1.41l-1.06-1.06zm1.06-10.96c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06zM7.05 18.36c.39-.39.39-1.03 0-1.41-.39-.39-1.03-.39-1.41 0l-1.06 1.06c-.39.39-.39 1.03 0 1.41s1.03.39 1.41 0l1.06-1.06z"}),"LightModeOutlined"),IN=n(5403),EN=n(9823),TN=n(6248),CN=n(6189),NN=n(7563),RN=n(7979),AN=n(3981),PN=n(5721),ON=["onChange","maxRows","minRows","style","value"];function DN(e,t){return parseInt(e[t],10)||0}var LN={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};function MN(e){return void 0===e||null===e||0===Object.keys(e).length}var jN=t.forwardRef((function(e,n){var r=e.onChange,i=e.maxRows,a=e.minRows,o=void 0===a?1:a,u=e.style,s=e.value,f=(0,GC.Z)(e,ON),d=t.useRef(null!=s).current,h=t.useRef(null),p=(0,NN.Z)(n,h),v=t.useRef(null),m=t.useRef(0),g=t.useState({}),y=(0,c.Z)(g,2),b=y[0],k=y[1],w=t.useCallback((function(){var t=h.current,n=(0,RN.Z)(t).getComputedStyle(t);if("0px"===n.width)return{};var r=v.current;r.style.width=n.width,r.value=t.value||e.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var a=n["box-sizing"],u=DN(n,"padding-bottom")+DN(n,"padding-top"),s=DN(n,"border-bottom-width")+DN(n,"border-top-width"),c=r.scrollHeight;r.value="x";var l=r.scrollHeight,f=c;return o&&(f=Math.max(Number(o)*l,f)),i&&(f=Math.min(Number(i)*l,f)),{outerHeightStyle:(f=Math.max(f,l))+("border-box"===a?u+s:0),overflow:Math.abs(f-c)<=1}}),[i,o,e.placeholder]),x=function(e,t){var n=t.outerHeightStyle,r=t.overflow;return m.current<20&&(n>0&&Math.abs((e.outerHeightStyle||0)-n)>1||e.overflow!==r)?(m.current+=1,{overflow:r,outerHeightStyle:n}):e},_=t.useCallback((function(){var e=w();MN(e)||k((function(t){return x(t,e)}))}),[w]);t.useEffect((function(){var e,t=(0,AN.Z)((function(){m.current=0,h.current&&function(){var e=w();MN(e)||(0,BC.flushSync)((function(){k((function(t){return x(t,e)}))}))}()})),n=(0,RN.Z)(h.current);return n.addEventListener("resize",t),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(t)).observe(h.current),function(){t.clear(),n.removeEventListener("resize",t),e&&e.disconnect()}})),(0,PN.Z)((function(){_()})),t.useEffect((function(){m.current=0}),[s]);return(0,RC.jsxs)(t.Fragment,{children:[(0,RC.jsx)("textarea",(0,l.Z)({value:s,onChange:function(e){m.current=0,d||_(),r&&r(e)},ref:p,rows:o,style:(0,l.Z)({height:b.outerHeightStyle,overflow:b.overflow?"hidden":null},u)},f)),(0,RC.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:(0,l.Z)({},LN,u,{padding:0})})]})}));var FN=function(e){return"string"===typeof e};function ZN(e){var t=e.props,n=e.states,r=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],r&&"undefined"===typeof t[n]&&(e[n]=r[n]),e}),{})}var UN=t.createContext();function VN(){return t.useContext(UN)}var zN=n(4036),BN=n(2071),qN=n(162),WN=(n(76),n(1688)),KN=(n(2110),n(5438)),HN=n(1346),GN=r.useInsertionEffect?r.useInsertionEffect:t.useLayoutEffect,QN=(0,WN.w)((function(e,n){var r=e.styles,i=(0,HN.O)([r],void 0,(0,t.useContext)(WN.T)),a=(0,t.useRef)();return GN((function(){var e=n.key+"-global",t=new n.sheet.constructor({key:e,nonce:n.sheet.nonce,container:n.sheet.container,speedy:n.sheet.isSpeedy}),r=!1,o=document.querySelector('style[data-emotion="'+e+" "+i.name+'"]');return n.sheet.tags.length&&(t.before=n.sheet.tags[0]),null!==o&&(r=!0,o.setAttribute("data-emotion",e),t.hydrate([o])),a.current=[t,r],function(){t.flush()}}),[n]),GN((function(){var e=a.current,t=e[0];if(e[1])e[1]=!1;else{if(void 0!==i.next&&(0,KN.My)(n,i.next,!0),t.tags.length){var r=t.tags[t.tags.length-1].nextElementSibling;t.before=r,t.flush()}n.insert("",i,t,!1)}}),[n,i.name]),null}));function $N(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,HN.O)(t)}var XN=function(){var e=$N.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}};function YN(e){var t=e.styles,n=e.defaultTheme,r=void 0===n?{}:n,i="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?r:e);var n}:t;return(0,RC.jsx)(QN,{styles:i})}var JN=function(e){return(0,RC.jsx)(YN,(0,l.Z)({},e,{defaultTheme:aN.Z}))};function eR(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function tR(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(eR(e.value)&&""!==e.value||t&&eR(e.defaultValue)&&""!==e.defaultValue)}function nR(e){return(0,sN.Z)("MuiInputBase",e)}var rR=(0,cN.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),iR=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","startAdornment","type","value"],aR=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,zN.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},oR=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},uR=(0,nN.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:aR})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({},t.typography.body1,(0,a.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(rR.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&(0,l.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),sR=(0,nN.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:oR})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode,o=(0,l.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),u={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:i?.42:.5};return(0,l.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,a.Z)(t,"label[data-shrink=false] + .".concat(rR.formControl," &"),{"&::-webkit-input-placeholder":u,"&::-moz-placeholder":u,"&:-ms-input-placeholder":u,"&::-ms-input-placeholder":u,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,a.Z)(t,"&.".concat(rR.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,a.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===r.size&&{paddingTop:1},r.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===r.type&&{MozAppearance:"textfield"})})),cR=(0,RC.jsx)(JN,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),lR=t.forwardRef((function(e,n){var r=(0,rN.Z)({props:e,name:"MuiInputBase"}),i=r["aria-describedby"],a=r.autoComplete,o=r.autoFocus,u=r.className,s=r.components,f=void 0===s?{}:s,d=r.componentsProps,h=void 0===d?{}:d,p=r.defaultValue,v=r.disabled,m=r.disableInjectingGlobalStyles,g=r.endAdornment,y=r.fullWidth,b=void 0!==y&&y,k=r.id,w=r.inputComponent,x=void 0===w?"input":w,_=r.inputProps,S=void 0===_?{}:_,I=r.inputRef,E=r.maxRows,T=r.minRows,C=r.multiline,N=void 0!==C&&C,R=r.name,A=r.onBlur,P=r.onChange,O=r.onClick,D=r.onFocus,L=r.onKeyDown,M=r.onKeyUp,j=r.placeholder,F=r.readOnly,Z=r.renderSuffix,U=r.rows,V=r.startAdornment,z=r.type,B=void 0===z?"text":z,q=r.value,W=(0,GC.Z)(r,iR),K=null!=S.value?S.value:q,H=t.useRef(null!=K).current,G=t.useRef(),Q=t.useCallback((function(e){0}),[]),$=(0,BN.Z)(S.ref,Q),X=(0,BN.Z)(I,$),Y=(0,BN.Z)(G,X),J=t.useState(!1),ee=(0,c.Z)(J,2),te=ee[0],ne=ee[1],re=VN();var ie=ZN({props:r,muiFormControl:re,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ie.focused=re?re.focused:te,t.useEffect((function(){!re&&v&&te&&(ne(!1),A&&A())}),[re,v,te,A]);var ae=re&&re.onFilled,oe=re&&re.onEmpty,ue=t.useCallback((function(e){tR(e)?ae&&ae():oe&&oe()}),[ae,oe]);(0,qN.Z)((function(){H&&ue({value:K})}),[K,ue,H]);t.useEffect((function(){ue(G.current)}),[]);var se=x,ce=S;N&&"input"===se&&(ce=U?(0,l.Z)({type:void 0,minRows:U,maxRows:U},ce):(0,l.Z)({type:void 0,maxRows:E,minRows:T},ce),se=jN);t.useEffect((function(){re&&re.setAdornedStart(Boolean(V))}),[re,V]);var le=(0,l.Z)({},r,{color:ie.color||"primary",disabled:ie.disabled,endAdornment:g,error:ie.error,focused:ie.focused,formControl:re,fullWidth:b,hiddenLabel:ie.hiddenLabel,multiline:N,size:ie.size,startAdornment:V,type:B}),fe=function(e){var t=e.classes,n=e.color,r=e.disabled,i=e.error,a=e.endAdornment,o=e.focused,u=e.formControl,s=e.fullWidth,c=e.hiddenLabel,l=e.multiline,f=e.size,d=e.startAdornment,h=e.type,p={root:["root","color".concat((0,zN.Z)(n)),r&&"disabled",i&&"error",s&&"fullWidth",o&&"focused",u&&"formControl","small"===f&&"sizeSmall",l&&"multiline",d&&"adornedStart",a&&"adornedEnd",c&&"hiddenLabel"],input:["input",r&&"disabled","search"===h&&"inputTypeSearch",l&&"inputMultiline","small"===f&&"inputSizeSmall",c&&"inputHiddenLabel",d&&"inputAdornedStart",a&&"inputAdornedEnd"]};return(0,tN.Z)(p,nR,t)}(le),de=f.Root||uR,he=h.root||{},pe=f.Input||sR;return ce=(0,l.Z)({},ce,h.input),(0,RC.jsxs)(t.Fragment,{children:[!m&&cR,(0,RC.jsxs)(de,(0,l.Z)({},he,!FN(de)&&{ownerState:(0,l.Z)({},le,he.ownerState)},{ref:n,onClick:function(e){G.current&&e.currentTarget===e.target&&G.current.focus(),O&&O(e)}},W,{className:(0,QC.Z)(fe.root,he.className,u),children:[V,(0,RC.jsx)(UN.Provider,{value:null,children:(0,RC.jsx)(pe,(0,l.Z)({ownerState:le,"aria-invalid":ie.error,"aria-describedby":i,autoComplete:a,autoFocus:o,defaultValue:p,disabled:ie.disabled,id:k,onAnimationStart:function(e){ue("mui-auto-fill-cancel"===e.animationName?G.current:{value:"x"})},name:R,placeholder:j,readOnly:F,required:ie.required,rows:U,value:K,onKeyDown:L,onKeyUp:M,type:B},ce,!FN(pe)&&{as:se,ownerState:(0,l.Z)({},le,ce.ownerState)},{ref:Y,className:(0,QC.Z)(fe.input,ce.className),onBlur:function(e){A&&A(e),S.onBlur&&S.onBlur(e),re&&re.onBlur?re.onBlur(e):ne(!1)},onChange:function(e){if(!H){var t=e.target||G.current;if(null==t)throw new Error((0,CN.Z)(1));ue({value:t.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];S.onChange&&S.onChange.apply(S,[e].concat(r)),P&&P.apply(void 0,[e].concat(r))},onFocus:function(e){ie.disabled?e.stopPropagation():(D&&D(e),S.onFocus&&S.onFocus(e),re&&re.onFocus?re.onFocus(e):ne(!0))}}))}),g,Z?Z((0,l.Z)({},ie,{startAdornment:V})):null]}))]})})),fR=lR;function dR(e){return(0,sN.Z)("MuiInput",e)}var hR=(0,l.Z)({},rR,(0,cN.Z)("MuiInput",["root","underline","input"])),pR=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","type"],vR=(0,nN.ZP)(uR,{shouldForwardProp:function(e){return(0,nN.FO)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,ne.Z)(aR(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(i="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,l.Z)({position:"relative"},r.formControl&&{"label + &":{marginTop:16}},!r.disableUnderline&&(t={"&:after":{borderBottom:"2px solid ".concat((n.vars||n).palette[r.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,a.Z)(t,"&.".concat(hR.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,a.Z)(t,"&.".concat(hR.error,":after"),{borderBottomColor:(n.vars||n).palette.error.main,transform:"scaleX(1)"}),(0,a.Z)(t,"&:before",{borderBottom:"1px solid ".concat(i),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,a.Z)(t,"&:hover:not(.".concat(hR.disabled,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(i)}}),(0,a.Z)(t,"&.".concat(hR.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),mR=(0,nN.ZP)(sR,{name:"MuiInput",slot:"Input",overridesResolver:oR})({}),gR=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiInput"}),r=n.disableUnderline,i=n.components,a=void 0===i?{}:i,o=n.componentsProps,u=n.fullWidth,s=void 0!==u&&u,c=n.inputComponent,f=void 0===c?"input":c,d=n.multiline,h=void 0!==d&&d,p=n.type,v=void 0===p?"text":p,m=(0,GC.Z)(n,pR),g=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,tN.Z)(n,dR,t);return(0,l.Z)({},t,r)}(n),y={root:{ownerState:{disableUnderline:r}}},b=o?(0,XC.Z)(o,y):y;return(0,RC.jsx)(fR,(0,l.Z)({components:(0,l.Z)({Root:vR,Input:mR},a),componentsProps:b,fullWidth:s,inputComponent:f,multiline:h,ref:t,type:v},m,{classes:g}))}));gR.muiName="Input";var yR=gR;function bR(e){return(0,sN.Z)("MuiFilledInput",e)}var kR=(0,l.Z)({},rR,(0,cN.Z)("MuiFilledInput",["root","underline","input"])),wR=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","type"],xR=(0,nN.ZP)(uR,{shouldForwardProp:function(e){return(0,nN.FO)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,ne.Z)(aR(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,r,i=e.theme,o=e.ownerState,u="light"===i.palette.mode,s=u?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",c=u?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",f=u?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",d=u?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,l.Z)((t={position:"relative",backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c,borderTopLeftRadius:(i.vars||i).shape.borderRadius,borderTopRightRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create("background-color",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),"&:hover":{backgroundColor:i.vars?i.vars.palette.FilledInput.hoverBg:f,"@media (hover: none)":{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}}},(0,a.Z)(t,"&.".concat(kR.focused),{backgroundColor:i.vars?i.vars.palette.FilledInput.bg:c}),(0,a.Z)(t,"&.".concat(kR.disabled),{backgroundColor:i.vars?i.vars.palette.FilledInput.disabledBg:d}),t),!o.disableUnderline&&(n={"&:after":{borderBottom:"2px solid ".concat(null==(r=(i.vars||i).palette[o.color||"primary"])?void 0:r.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:i.transitions.create("transform",{duration:i.transitions.duration.shorter,easing:i.transitions.easing.easeOut}),pointerEvents:"none"}},(0,a.Z)(n,"&.".concat(kR.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,a.Z)(n,"&.".concat(kR.error,":after"),{borderBottomColor:(i.vars||i).palette.error.main,transform:"scaleX(1)"}),(0,a.Z)(n,"&:before",{borderBottom:"1px solid ".concat(i.vars?"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / ").concat(i.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:i.transitions.create("border-bottom-color",{duration:i.transitions.duration.shorter}),pointerEvents:"none"}),(0,a.Z)(n,"&:hover:not(.".concat(kR.disabled,"):before"),{borderBottom:"1px solid ".concat((i.vars||i).palette.text.primary)}),(0,a.Z)(n,"&.".concat(kR.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&(0,l.Z)({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17}))})),_R=(0,nN.ZP)(sR,{name:"MuiFilledInput",slot:"Input",overridesResolver:oR})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&(0,a.Z)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9})})),SR=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiFilledInput"}),r=n.components,i=void 0===r?{}:r,a=n.componentsProps,o=n.fullWidth,u=void 0!==o&&o,s=n.inputComponent,c=void 0===s?"input":s,f=n.multiline,d=void 0!==f&&f,h=n.type,p=void 0===h?"text":h,v=(0,GC.Z)(n,wR),m=(0,l.Z)({},n,{fullWidth:u,inputComponent:c,multiline:d,type:p}),g=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},r=(0,tN.Z)(n,bR,t);return(0,l.Z)({},t,r)}(n),y={root:{ownerState:m},input:{ownerState:m}},b=a?(0,XC.Z)(a,y):y;return(0,RC.jsx)(fR,(0,l.Z)({components:(0,l.Z)({Root:xR,Input:_R},i),componentsProps:b,fullWidth:u,inputComponent:c,multiline:d,ref:t,type:p},v,{classes:g}))}));SR.muiName="Input";var IR,ER=SR,TR=["children","classes","className","label","notched"],CR=(0,nN.ZP)("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NR=(0,nN.ZP)("legend")((function(e){var t=e.ownerState,n=e.theme;return(0,l.Z)({float:"unset",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,l.Z)({display:"block",width:"auto",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function RR(e){return(0,sN.Z)("MuiOutlinedInput",e)}var AR=(0,l.Z)({},rR,(0,cN.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),PR=["components","fullWidth","inputComponent","label","multiline","notched","type"],OR=(0,nN.ZP)(uR,{shouldForwardProp:function(e){return(0,nN.FO)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:aR})((function(e){var t,n=e.theme,r=e.ownerState,i="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,l.Z)((t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},(0,a.Z)(t,"&:hover .".concat(AR.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),(0,a.Z)(t,"@media (hover: none)",(0,a.Z)({},"&:hover .".concat(AR.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):i})),(0,a.Z)(t,"&.".concat(AR.focused," .").concat(AR.notchedOutline),{borderColor:(n.vars||n).palette[r.color].main,borderWidth:2}),(0,a.Z)(t,"&.".concat(AR.error," .").concat(AR.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),(0,a.Z)(t,"&.".concat(AR.disabled," .").concat(AR.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),r.startAdornment&&{paddingLeft:14},r.endAdornment&&{paddingRight:14},r.multiline&&(0,l.Z)({padding:"16.5px 14px"},"small"===r.size&&{padding:"8.5px 14px"}))})),DR=(0,nN.ZP)((function(e){var t=e.className,n=e.label,r=e.notched,i=(0,GC.Z)(e,TR),a=null!=n&&""!==n,o=(0,l.Z)({},e,{notched:r,withLabel:a});return(0,RC.jsx)(CR,(0,l.Z)({"aria-hidden":!0,className:t,ownerState:o},i,{children:(0,RC.jsx)(NR,{ownerState:o,children:a?(0,RC.jsx)("span",{children:n}):IR||(IR=(0,RC.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),LR=(0,nN.ZP)(sR,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:oR})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&(0,a.Z)({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),MR=t.forwardRef((function(e,n){var r,i=(0,rN.Z)({props:e,name:"MuiOutlinedInput"}),a=i.components,o=void 0===a?{}:a,u=i.fullWidth,s=void 0!==u&&u,c=i.inputComponent,f=void 0===c?"input":c,d=i.label,h=i.multiline,p=void 0!==h&&h,v=i.notched,m=i.type,g=void 0===m?"text":m,y=(0,GC.Z)(i,PR),b=function(e){var t=e.classes,n=(0,tN.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},RR,t);return(0,l.Z)({},t,n)}(i),k=VN(),w=ZN({props:i,muiFormControl:k,states:["required"]}),x=(0,l.Z)({},i,{color:w.color||"primary",disabled:w.disabled,error:w.error,focused:w.focused,formControl:k,fullWidth:s,hiddenLabel:w.hiddenLabel,multiline:p,size:w.size,type:g});return(0,RC.jsx)(fR,(0,l.Z)({components:(0,l.Z)({Root:OR,Input:LR},o),renderSuffix:function(e){return(0,RC.jsx)(DR,{ownerState:x,className:b.notchedOutline,label:null!=d&&""!==d&&w.required?r||(r=(0,RC.jsxs)(t.Fragment,{children:[d,"\xa0","*"]})):d,notched:"undefined"!==typeof v?v:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:s,inputComponent:f,multiline:p,ref:n,type:g},y,{classes:(0,l.Z)({},b,{notchedOutline:null})}))}));MR.muiName="Input";var jR=MR;function FR(e){return(0,sN.Z)("MuiFormLabel",e)}var ZR=(0,cN.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),UR=["children","className","color","component","disabled","error","filled","focused","required"],VR=(0,nN.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,l.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,l.Z)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,a.Z)(t,"&.".concat(ZR.focused),{color:(n.vars||n).palette[r.color].main}),(0,a.Z)(t,"&.".concat(ZR.disabled),{color:(n.vars||n).palette.text.disabled}),(0,a.Z)(t,"&.".concat(ZR.error),{color:(n.vars||n).palette.error.main}),t))})),zR=(0,nN.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,a.Z)({},"&.".concat(ZR.error),{color:(t.vars||t).palette.error.main})})),BR=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiFormLabel"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"label":a,u=(0,GC.Z)(n,UR),s=ZN({props:n,muiFormControl:VN(),states:["color","required","focused","disabled","error","filled"]}),c=(0,l.Z)({},n,{color:s.color||"primary",component:o,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),f=function(e){var t=e.classes,n=e.color,r=e.focused,i=e.disabled,a=e.error,o=e.filled,u=e.required,s={root:["root","color".concat((0,zN.Z)(n)),i&&"disabled",a&&"error",o&&"filled",r&&"focused",u&&"required"],asterisk:["asterisk",a&&"error"]};return(0,tN.Z)(s,FR,t)}(c);return(0,RC.jsxs)(VR,(0,l.Z)({as:o,ownerState:c,className:(0,QC.Z)(f.root,i),ref:t},u,{children:[r,s.required&&(0,RC.jsxs)(zR,{ownerState:c,"aria-hidden":!0,className:f.asterisk,children:["\u2009","*"]})]}))}));function qR(e){return(0,sN.Z)("MuiInputLabel",e)}(0,cN.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var WR=["disableAnimation","margin","shrink","variant"],KR=(0,nN.ZP)(BR,{shouldForwardProp:function(e){return(0,nN.FO)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,a.Z)({},"& .".concat(ZR.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,l.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,l.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,l.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))})),HR=t.forwardRef((function(e,t){var n=(0,rN.Z)({name:"MuiInputLabel",props:e}),r=n.disableAnimation,i=void 0!==r&&r,a=n.shrink,o=(0,GC.Z)(n,WR),u=VN(),s=a;"undefined"===typeof s&&u&&(s=u.filled||u.focused||u.adornedStart);var c=ZN({props:n,muiFormControl:u,states:["size","variant","required"]}),f=(0,l.Z)({},n,{disableAnimation:i,formControl:u,shrink:s,size:c.size,variant:c.variant,required:c.required}),d=function(e){var t=e.classes,n=e.formControl,r=e.size,i=e.shrink,a={root:["root",n&&"formControl",!e.disableAnimation&&"animated",i&&"shrink","small"===r&&"sizeSmall",e.variant],asterisk:[e.required&&"asterisk"]},o=(0,tN.Z)(a,qR,t);return(0,l.Z)({},t,o)}(f);return(0,RC.jsx)(KR,(0,l.Z)({"data-shrink":s,ownerState:f,ref:t},o,{classes:d}))})),GR=n(9103);function QR(e){return(0,sN.Z)("MuiFormControl",e)}(0,cN.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var $R=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],XR=(0,nN.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,l.Z)({},t.root,t["margin".concat((0,zN.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,l.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),YR=t.forwardRef((function(e,n){var r=(0,rN.Z)({props:e,name:"MuiFormControl"}),i=r.children,a=r.className,o=r.color,u=void 0===o?"primary":o,s=r.component,f=void 0===s?"div":s,d=r.disabled,h=void 0!==d&&d,p=r.error,v=void 0!==p&&p,m=r.focused,g=r.fullWidth,y=void 0!==g&&g,b=r.hiddenLabel,k=void 0!==b&&b,w=r.margin,x=void 0===w?"none":w,_=r.required,S=void 0!==_&&_,I=r.size,E=void 0===I?"medium":I,T=r.variant,C=void 0===T?"outlined":T,N=(0,GC.Z)(r,$R),R=(0,l.Z)({},r,{color:u,component:f,disabled:h,error:v,fullWidth:y,hiddenLabel:k,margin:x,required:S,size:E,variant:C}),A=function(e){var t=e.classes,n=e.margin,r=e.fullWidth,i={root:["root","none"!==n&&"margin".concat((0,zN.Z)(n)),r&&"fullWidth"]};return(0,tN.Z)(i,QR,t)}(R),P=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){if((0,GR.Z)(t,["Input","Select"])){var n=(0,GR.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),O=(0,c.Z)(P,2),D=O[0],L=O[1],M=t.useState((function(){var e=!1;return i&&t.Children.forEach(i,(function(t){(0,GR.Z)(t,["Input","Select"])&&tR(t.props,!0)&&(e=!0)})),e})),j=(0,c.Z)(M,2),F=j[0],Z=j[1],U=t.useState(!1),V=(0,c.Z)(U,2),z=V[0],B=V[1];h&&z&&B(!1);var q=void 0===m||h?z:m,W=t.useCallback((function(){Z(!0)}),[]),K={adornedStart:D,setAdornedStart:L,color:u,disabled:h,error:v,filled:F,focused:q,fullWidth:y,hiddenLabel:k,size:E,onBlur:function(){B(!1)},onEmpty:t.useCallback((function(){Z(!1)}),[]),onFilled:W,onFocus:function(){B(!0)},registerEffect:undefined,required:S,variant:C};return(0,RC.jsx)(UN.Provider,{value:K,children:(0,RC.jsx)(XR,(0,l.Z)({as:f,ownerState:R,className:(0,QC.Z)(A.root,a),ref:n},N,{children:i}))})})),JR=YR;function eA(e){return(0,sN.Z)("MuiFormHelperText",e)}var tA,nA=(0,cN.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),rA=["children","className","component","disabled","error","filled","focused","margin","required","variant"],iA=(0,nN.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,zN.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,l.Z)({color:(n.vars||n).palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,a.Z)(t,"&.".concat(nA.disabled),{color:(n.vars||n).palette.text.disabled}),(0,a.Z)(t,"&.".concat(nA.error),{color:(n.vars||n).palette.error.main}),t),"small"===r.size&&{marginTop:4},r.contained&&{marginLeft:14,marginRight:14})})),aA=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiFormHelperText"}),r=n.children,i=n.className,a=n.component,o=void 0===a?"p":a,u=(0,GC.Z)(n,rA),s=ZN({props:n,muiFormControl:VN(),states:["variant","size","disabled","error","filled","focused","required"]}),c=(0,l.Z)({},n,{component:o,contained:"filled"===s.variant||"outlined"===s.variant,variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),f=function(e){var t=e.classes,n=e.contained,r=e.size,i=e.disabled,a=e.error,o=e.filled,u=e.focused,s=e.required,c={root:["root",i&&"disabled",a&&"error",r&&"size".concat((0,zN.Z)(r)),n&&"contained",u&&"focused",o&&"filled",s&&"required"]};return(0,tN.Z)(c,eA,t)}(c);return(0,RC.jsx)(iA,(0,l.Z)({as:o,ownerState:c,className:(0,QC.Z)(f.root,i),ref:t},u,{children:" "===r?tA||(tA=(0,RC.jsx)("span",{className:"notranslate",children:"\u200b"})):r}))})),oA=(n(7441),n(8301));var uA=t.createContext({});function sA(e){return(0,sN.Z)("MuiList",e)}(0,cN.Z)("MuiList",["root","padding","dense","subheader"]);var cA=["children","className","component","dense","disablePadding","subheader"],lA=(0,nN.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,l.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),fA=t.forwardRef((function(e,n){var r=(0,rN.Z)({props:e,name:"MuiList"}),i=r.children,a=r.className,o=r.component,u=void 0===o?"ul":o,s=r.dense,c=void 0!==s&&s,f=r.disablePadding,d=void 0!==f&&f,h=r.subheader,p=(0,GC.Z)(r,cA),v=t.useMemo((function(){return{dense:c}}),[c]),m=(0,l.Z)({},r,{component:u,dense:c,disablePadding:d}),g=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,tN.Z)(n,sA,t)}(m);return(0,RC.jsx)(uA.Provider,{value:v,children:(0,RC.jsxs)(lA,(0,l.Z)({as:u,className:(0,QC.Z)(g.root,a),ref:n,ownerState:m},p,{children:[h,i]}))})}));function dA(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var hA=dA,pA=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function vA(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function mA(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function gA(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function yA(e,t,n,r,i,a){for(var o=!1,u=i(e,t,!!t&&n);u;){if(u===e.firstChild){if(o)return!1;o=!0}var s=!r&&(u.disabled||"true"===u.getAttribute("aria-disabled"));if(u.hasAttribute("tabindex")&&gA(u,a)&&!s)return u.focus(),!0;u=i(e,u,n)}return!1}var bA=t.forwardRef((function(e,n){var r=e.actions,i=e.autoFocus,a=void 0!==i&&i,o=e.autoFocusItem,u=void 0!==o&&o,s=e.children,c=e.className,f=e.disabledItemsFocusable,d=void 0!==f&&f,h=e.disableListWrap,p=void 0!==h&&h,v=e.onKeyDown,m=e.variant,g=void 0===m?"selectedMenu":m,y=(0,GC.Z)(e,pA),b=t.useRef(null),k=t.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,qN.Z)((function(){a&&b.current.focus()}),[a]),t.useImperativeHandle(r,(function(){return{adjustStyleForScrollbar:function(e,t){var n=!b.current.style.width;if(e.clientHeight<b.current.clientHeight&&n){var r="".concat(hA((0,oA.Z)(e)),"px");b.current.style["rtl"===t.direction?"paddingLeft":"paddingRight"]=r,b.current.style.width="calc(100% + ".concat(r,")")}return b.current}}}),[]);var w=(0,BN.Z)(b,n),x=-1;t.Children.forEach(s,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===g&&e.props.selected||-1===x)&&(x=n))}));var _=t.Children.map(s,(function(e,n){if(n===x){var r={};return u&&(r.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===g&&(r.tabIndex=0),t.cloneElement(e,r)}return e}));return(0,RC.jsx)(fA,(0,l.Z)({role:"menu",ref:w,className:c,onKeyDown:function(e){var t=b.current,n=e.key,r=(0,oA.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),yA(t,r,p,d,vA);else if("ArrowUp"===n)e.preventDefault(),yA(t,r,p,d,mA);else if("Home"===n)e.preventDefault(),yA(t,null,p,d,vA);else if("End"===n)e.preventDefault(),yA(t,null,p,d,mA);else if(1===n.length){var i=k.current,a=n.toLowerCase(),o=performance.now();i.keys.length>0&&(o-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&a!==i.keys[0]&&(i.repeating=!1)),i.lastTime=o,i.keys.push(a);var u=r&&!i.repeating&&gA(r,i);i.previousKeyMatched&&(u||yA(t,r,!1,d,vA,i))?e.preventDefault():i.previousKeyMatched=!1}v&&v(e)},tabIndex:a?0:-1},y,{children:_}))})),kA=bA,wA=n(2065);function xA(e){return(0,sN.Z)("MuiPaper",e)}(0,cN.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var _A=["className","component","elevation","square","variant"],SA=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)},IA=(0,nN.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,r=e.ownerState;return(0,l.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!r.square&&{borderRadius:n.shape.borderRadius},"outlined"===r.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===r.variant&&(0,l.Z)({boxShadow:(n.vars||n).shadows[r.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,wA.Fq)("#fff",SA(r.elevation)),", ").concat((0,wA.Fq)("#fff",SA(r.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[r.elevation]}))})),EA=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiPaper"}),r=n.className,i=n.component,a=void 0===i?"div":i,o=n.elevation,u=void 0===o?1:o,s=n.square,c=void 0!==s&&s,f=n.variant,d=void 0===f?"elevation":f,h=(0,GC.Z)(n,_A),p=(0,l.Z)({},n,{component:a,elevation:u,square:c,variant:d}),v=function(e){var t=e.square,n=e.elevation,r=e.variant,i=e.classes,a={root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]};return(0,tN.Z)(a,xA,i)}(p);return(0,RC.jsx)(IA,(0,l.Z)({as:a,ownerState:p,className:(0,QC.Z)(v.root,r),ref:t},h))})),TA=EA,CA=n(3199),NA=n(7602);function RA(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,fe(e,t)}var AA=!1,PA=t.createContext(null),OA="unmounted",DA="exited",LA="entering",MA="entered",jA="exiting",FA=function(e){function n(t,n){var r;r=e.call(this,t,n)||this;var i,a=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=DA,r.appearStatus=LA):i=MA:i=t.unmountOnExit||t.mountOnEnter?OA:DA,r.state={status:i},r.nextCallback=null,r}RA(n,e),n.getDerivedStateFromProps=function(e,t){return e.in&&t.status===OA?{status:DA}:null};var r=n.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==LA&&n!==MA&&(t=LA):n!==LA&&n!==MA||(t=jA)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===LA?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===DA&&this.setState({status:OA})},r.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[BC.findDOMNode(this),r],a=i[0],o=i[1],u=this.getTimeouts(),s=r?u.appear:u.enter;!e&&!n||AA?this.safeSetState({status:MA},(function(){t.props.onEntered(a)})):(this.props.onEnter(a,o),this.safeSetState({status:LA},(function(){t.props.onEntering(a,o),t.onTransitionEnd(s,(function(){t.safeSetState({status:MA},(function(){t.props.onEntered(a,o)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:BC.findDOMNode(this);t&&!AA?(this.props.onExit(r),this.safeSetState({status:jA},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:DA},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:DA},(function(){e.props.onExited(r)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:BC.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],a=i[0],o=i[1];this.props.addEndListener(a,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===OA)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,(0,GC.Z)(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(PA.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},n}(t.Component);function ZA(){}FA.contextType=PA,FA.propTypes={},FA.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ZA,onEntering:ZA,onEntered:ZA,onExit:ZA,onExiting:ZA,onExited:ZA},FA.UNMOUNTED=OA,FA.EXITED=DA,FA.ENTERING=LA,FA.ENTERED=MA,FA.EXITING=jA;var UA=FA,VA=function(e){return e.scrollTop};function zA(e,t){var n,r,i=e.timeout,a=e.easing,o=e.style,u=void 0===o?{}:o;return{duration:null!=(n=u.transitionDuration)?n:"number"===typeof i?i:i[t.mode]||0,easing:null!=(r=u.transitionTimingFunction)?r:"object"===typeof a?a[t.mode]:a,delay:u.transitionDelay}}var BA=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function qA(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var WA={entering:{opacity:1,transform:qA(1)},entered:{opacity:1,transform:"none"}},KA="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),HA=t.forwardRef((function(e,n){var r=e.addEndListener,i=e.appear,a=void 0===i||i,o=e.children,u=e.easing,s=e.in,c=e.onEnter,f=e.onEntered,d=e.onEntering,h=e.onExit,p=e.onExited,v=e.onExiting,m=e.style,g=e.timeout,y=void 0===g?"auto":g,b=e.TransitionComponent,k=void 0===b?UA:b,w=(0,GC.Z)(e,BA),x=t.useRef(),_=t.useRef(),S=oN(),I=t.useRef(null),E=(0,BN.Z)(o.ref,n),T=(0,BN.Z)(I,E),C=function(e){return function(t){if(e){var n=I.current;void 0===t?e(n):e(n,t)}}},N=C(d),R=C((function(e,t){VA(e);var n,r=zA({style:m,timeout:y,easing:u},{mode:"enter"}),i=r.duration,a=r.delay,o=r.easing;"auto"===y?(n=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=n):n=i,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:a}),S.transitions.create("transform",{duration:KA?n:.666*n,delay:a,easing:o})].join(","),c&&c(e,t)})),A=C(f),P=C(v),O=C((function(e){var t,n=zA({style:m,timeout:y,easing:u},{mode:"exit"}),r=n.duration,i=n.delay,a=n.easing;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),_.current=t):t=r,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:i}),S.transitions.create("transform",{duration:KA?t:.666*t,delay:KA?i:i||.333*t,easing:a})].join(","),e.style.opacity=0,e.style.transform=qA(.75),h&&h(e)})),D=C(p);return t.useEffect((function(){return function(){clearTimeout(x.current)}}),[]),(0,RC.jsx)(k,(0,l.Z)({appear:a,in:s,nodeRef:I,onEnter:R,onEntered:A,onEntering:N,onExit:O,onExited:D,onExiting:P,addEndListener:function(e){"auto"===y&&(x.current=setTimeout(e,_.current||0)),r&&r(I.current,e)},timeout:"auto"===y?null:y},w,{children:function(e,n){return t.cloneElement(o,(0,l.Z)({style:(0,l.Z)({opacity:0,transform:qA(.75),visibility:"exited"!==e||s?void 0:"hidden"},WA[e],m,o.props.style),ref:T},n))}}))}));HA.muiSupportAuto=!0;var GA=HA,QA=n(9723),$A=n(8956),XA=n(8949);function YA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return FN(e)?t:(0,l.Z)({},t,{ownerState:(0,l.Z)({},t.ownerState,n)})}var JA=n(2971);var eP=t.forwardRef((function(e,n){var r=e.children,i=e.container,a=e.disablePortal,o=void 0!==a&&a,u=t.useState(null),s=(0,c.Z)(u,2),l=s[0],f=s[1],d=(0,NN.Z)(t.isValidElement(r)?r.ref:null,n);return(0,PN.Z)((function(){o||f(function(e){return"function"===typeof e?e():e}(i)||document.body)}),[i,o]),(0,PN.Z)((function(){if(l&&!o)return(0,JA.Z)(n,l),function(){(0,JA.Z)(n,null)}}),[n,l,o]),o?t.isValidElement(r)?t.cloneElement(r,{ref:d}):r:l?BC.createPortal(r,l):l}));function tP(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function nP(e){return parseInt((0,RN.Z)(e).getComputedStyle(e).paddingRight,10)||0}function rP(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}function iP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[t,n].concat((0,ne.Z)(r));[].forEach.call(e.children,(function(e){var t=-1===a.indexOf(e),n=!rP(e);t&&n&&tP(e,i)}))}function aP(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function oP(e,t){var n=[],r=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,QA.Z)(e);return t.body===e?(0,RN.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){var i=dA((0,QA.Z)(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(nP(r)+i,"px");var a=(0,QA.Z)(r).querySelectorAll(".mui-fixed");[].forEach.call(a,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(nP(e)+i,"px")}))}var o;if(r.parentNode instanceof DocumentFragment)o=(0,QA.Z)(r).body;else{var u=r.parentElement,s=(0,RN.Z)(r);o="HTML"===(null==u?void 0:u.nodeName)&&"scroll"===s.getComputedStyle(u).overflowY?u:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,r=e.property;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}var uP=function(){function e(){ue(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return ce(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&tP(e.modalRef,!1);var r=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);iP(t,e.mount,e.modalRef,r,!0);var i=aP(this.containers,(function(e){return e.container===t}));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}},{key:"mount",value:function(e,t){var n=aP(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[n];r.restore||(r.restore=oP(r,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var r=aP(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&tP(e.modalRef,t),iP(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{var a=i.modals[i.modals.length-1];a.modalRef&&tP(a.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}(),sP=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function cP(e){var t=[],n=[];return Array.from(e.querySelectorAll(sP)).forEach((function(e,r){var i=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function lP(){return!0}var fP=function(e){var n=e.children,r=e.disableAutoFocus,i=void 0!==r&&r,a=e.disableEnforceFocus,o=void 0!==a&&a,u=e.disableRestoreFocus,s=void 0!==u&&u,c=e.getTabbable,l=void 0===c?cP:c,f=e.isEnabled,d=void 0===f?lP:f,h=e.open,p=t.useRef(),v=t.useRef(null),m=t.useRef(null),g=t.useRef(null),y=t.useRef(null),b=t.useRef(!1),k=t.useRef(null),w=(0,NN.Z)(n.ref,k),x=t.useRef(null);t.useEffect((function(){h&&k.current&&(b.current=!i)}),[i,h]),t.useEffect((function(){if(h&&k.current){var e=(0,QA.Z)(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex",-1),b.current&&k.current.focus()),function(){s||(g.current&&g.current.focus&&(p.current=!0,g.current.focus()),g.current=null)}}}),[h]),t.useEffect((function(){if(h&&k.current){var e=(0,QA.Z)(k.current),t=function(t){var n=k.current;if(null!==n)if(e.hasFocus()&&!o&&d()&&!p.current){if(!n.contains(e.activeElement)){if(t&&y.current!==t.target||e.activeElement!==y.current)y.current=null;else if(null!==y.current)return;if(!b.current)return;var r=[];if(e.activeElement!==v.current&&e.activeElement!==m.current||(r=l(k.current)),r.length>0){var i,a,u=Boolean((null==(i=x.current)?void 0:i.shiftKey)&&"Tab"===(null==(a=x.current)?void 0:a.key)),s=r[0],c=r[r.length-1];u?c.focus():s.focus()}else n.focus()}}else p.current=!1},n=function(t){x.current=t,!o&&d()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(p.current=!0,m.current.focus())};e.addEventListener("focusin",t),e.addEventListener("keydown",n,!0);var r=setInterval((function(){"BODY"===e.activeElement.tagName&&t()}),50);return function(){clearInterval(r),e.removeEventListener("focusin",t),e.removeEventListener("keydown",n,!0)}}}),[i,o,s,d,h,l]);var _=function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0};return(0,RC.jsxs)(t.Fragment,{children:[(0,RC.jsx)("div",{tabIndex:0,onFocus:_,ref:v,"data-test":"sentinelStart"}),t.cloneElement(n,{ref:w,onFocus:function(e){null===g.current&&(g.current=e.relatedTarget),b.current=!0,y.current=e.target;var t=n.props.onFocus;t&&t(e)}}),(0,RC.jsx)("div",{tabIndex:0,onFocus:_,ref:m,"data-test":"sentinelEnd"})]})};function dP(e){return(0,sN.Z)("MuiModal",e)}(0,cN.Z)("MuiModal",["root","hidden"]);var hP=["children","classes","className","closeAfterTransition","component","components","componentsProps","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited"];var pP=new uP,vP=t.forwardRef((function(e,n){var r,i,a=e.children,o=e.classes,u=e.className,s=e.closeAfterTransition,f=void 0!==s&&s,d=e.component,h=void 0===d?"div":d,p=e.components,v=void 0===p?{}:p,m=e.componentsProps,g=void 0===m?{}:m,y=e.container,b=e.disableAutoFocus,k=void 0!==b&&b,w=e.disableEnforceFocus,x=void 0!==w&&w,_=e.disableEscapeKeyDown,S=void 0!==_&&_,I=e.disablePortal,E=void 0!==I&&I,T=e.disableRestoreFocus,C=void 0!==T&&T,N=e.disableScrollLock,R=void 0!==N&&N,A=e.hideBackdrop,P=void 0!==A&&A,O=e.keepMounted,D=void 0!==O&&O,L=e.manager,M=void 0===L?pP:L,j=e.onBackdropClick,F=e.onClose,Z=e.onKeyDown,U=e.open,V=e.onTransitionEnter,z=e.onTransitionExited,B=(0,GC.Z)(e,hP),q=t.useState(!0),W=(0,c.Z)(q,2),K=W[0],H=W[1],G=t.useRef({}),Q=t.useRef(null),$=t.useRef(null),X=(0,NN.Z)($,n),Y=function(e){return!!e.children&&e.children.props.hasOwnProperty("in")}(e),J=null==(r=e["aria-hidden"])||r,ee=function(){return G.current.modalRef=$.current,G.current.mountNode=Q.current,G.current},te=function(){M.mount(ee(),{disableScrollLock:R}),$.current.scrollTop=0},ne=(0,$A.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(y)||(0,QA.Z)(Q.current).body;M.add(ee(),e),$.current&&te()})),re=t.useCallback((function(){return M.isTopModal(ee())}),[M]),ie=(0,$A.Z)((function(e){Q.current=e,e&&(U&&re()?te():tP($.current,J))})),ae=t.useCallback((function(){M.remove(ee(),J)}),[M,J]);t.useEffect((function(){return function(){ae()}}),[ae]),t.useEffect((function(){U?ne():Y&&f||ae()}),[U,ae,Y,f,ne]);var oe=(0,l.Z)({},e,{classes:o,closeAfterTransition:f,disableAutoFocus:k,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:E,disableRestoreFocus:C,disableScrollLock:R,exited:K,hideBackdrop:P,keepMounted:D}),ue=function(e){var t=e.open,n=e.exited,r=e.classes,i={root:["root",!t&&n&&"hidden"]};return(0,tN.Z)(i,dP,r)}(oe);if(!D&&!U&&(!Y||K))return null;var se={};void 0===a.props.tabIndex&&(se.tabIndex="-1"),Y&&(se.onEnter=(0,XA.Z)((function(){H(!1),V&&V()}),a.props.onEnter),se.onExited=(0,XA.Z)((function(){H(!0),z&&z(),f&&ae()}),a.props.onExited));var ce=v.Root||h,le=YA(ce,(0,l.Z)({role:"presentation"},B,g.root,{ref:X,onKeyDown:function(e){Z&&Z(e),"Escape"===e.key&&re()&&(S||(e.stopPropagation(),F&&F(e,"escapeKeyDown")))},className:(0,QC.Z)(ue.root,null==(i=g.root)?void 0:i.className,u)}),oe),fe=v.Backdrop,de=YA(fe,(0,l.Z)({"aria-hidden":!0,open:U,onClick:function(e){e.target===e.currentTarget&&(j&&j(e),F&&F(e,"backdropClick"))}},g.backdrop),oe);return(0,RC.jsx)(eP,{ref:ie,container:y,disablePortal:E,children:(0,RC.jsxs)(ce,(0,l.Z)({},le,{children:[!P&&fe?(0,RC.jsx)(fe,(0,l.Z)({},de)):null,(0,RC.jsx)(fP,{disableEnforceFocus:x,disableAutoFocus:k,disableRestoreFocus:C,isEnabled:re,open:U,children:t.cloneElement(a,se)})]}))})})),mP=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],gP={entering:{opacity:1},entered:{opacity:1}},yP=t.forwardRef((function(e,n){var r=oN(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=e.addEndListener,o=e.appear,u=void 0===o||o,s=e.children,c=e.easing,f=e.in,d=e.onEnter,h=e.onEntered,p=e.onEntering,v=e.onExit,m=e.onExited,g=e.onExiting,y=e.style,b=e.timeout,k=void 0===b?i:b,w=e.TransitionComponent,x=void 0===w?UA:w,_=(0,GC.Z)(e,mP),S=t.useRef(null),I=(0,BN.Z)(s.ref,n),E=(0,BN.Z)(S,I),T=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},C=T(p),N=T((function(e,t){VA(e);var n=zA({style:y,timeout:k,easing:c},{mode:"enter"});e.style.webkitTransition=r.transitions.create("opacity",n),e.style.transition=r.transitions.create("opacity",n),d&&d(e,t)})),R=T(h),A=T(g),P=T((function(e){var t=zA({style:y,timeout:k,easing:c},{mode:"exit"});e.style.webkitTransition=r.transitions.create("opacity",t),e.style.transition=r.transitions.create("opacity",t),v&&v(e)})),O=T(m);return(0,RC.jsx)(x,(0,l.Z)({appear:u,in:f,nodeRef:S,onEnter:N,onEntered:R,onEntering:C,onExit:P,onExited:O,onExiting:A,addEndListener:function(e){a&&a(S.current,e)},timeout:k},_,{children:function(e,n){return t.cloneElement(s,(0,l.Z)({style:(0,l.Z)({opacity:0,visibility:"exited"!==e||f?void 0:"hidden"},gP[e],y,s.props.style),ref:E},n))}}))})),bP=yP;function kP(e){return(0,sN.Z)("MuiBackdrop",e)}(0,cN.Z)("MuiBackdrop",["root","invisible"]);var wP=["children","component","components","componentsProps","className","invisible","open","transitionDuration","TransitionComponent"],xP=(0,nN.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,l.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),_P=t.forwardRef((function(e,t){var n,r,i=(0,rN.Z)({props:e,name:"MuiBackdrop"}),a=i.children,o=i.component,u=void 0===o?"div":o,s=i.components,c=void 0===s?{}:s,f=i.componentsProps,d=void 0===f?{}:f,h=i.className,p=i.invisible,v=void 0!==p&&p,m=i.open,g=i.transitionDuration,y=i.TransitionComponent,b=void 0===y?bP:y,k=(0,GC.Z)(i,wP),w=(0,l.Z)({},i,{component:u,invisible:v}),x=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,tN.Z)(n,kP,t)}(w);return(0,RC.jsx)(b,(0,l.Z)({in:m,timeout:g},k,{children:(0,RC.jsx)(xP,{"aria-hidden":!0,as:null!=(n=c.Root)?n:u,className:(0,QC.Z)(x.root,h),ownerState:(0,l.Z)({},w,null==(r=d.root)?void 0:r.ownerState),classes:x,ref:t,children:a})}))})),SP=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","theme"],IP=(0,nN.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),EP=(0,nN.ZP)(_P,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),TP=t.forwardRef((function(e,n){var r,i,a=(0,rN.Z)({name:"MuiModal",props:e}),o=a.BackdropComponent,u=void 0===o?EP:o,s=a.BackdropProps,f=a.closeAfterTransition,d=void 0!==f&&f,h=a.children,p=a.component,v=a.components,m=void 0===v?{}:v,g=a.componentsProps,y=void 0===g?{}:g,b=a.disableAutoFocus,k=void 0!==b&&b,w=a.disableEnforceFocus,x=void 0!==w&&w,_=a.disableEscapeKeyDown,S=void 0!==_&&_,I=a.disablePortal,E=void 0!==I&&I,T=a.disableRestoreFocus,C=void 0!==T&&T,N=a.disableScrollLock,R=void 0!==N&&N,A=a.hideBackdrop,P=void 0!==A&&A,O=a.keepMounted,D=void 0!==O&&O,L=a.theme,M=(0,GC.Z)(a,SP),j=t.useState(!0),F=(0,c.Z)(j,2),Z=F[0],U=F[1],V={closeAfterTransition:d,disableAutoFocus:k,disableEnforceFocus:x,disableEscapeKeyDown:S,disablePortal:E,disableRestoreFocus:C,disableScrollLock:R,hideBackdrop:P,keepMounted:D},z=function(e){return e.classes}((0,l.Z)({},a,V,{exited:Z})),B=null!=(r=null!=(i=m.Root)?i:p)?r:IP;return(0,RC.jsx)(vP,(0,l.Z)({components:(0,l.Z)({Root:B,Backdrop:u},m),componentsProps:{root:(0,l.Z)({},y.root,!FN(B)&&{as:p,theme:L}),backdrop:(0,l.Z)({},s,y.backdrop)},onTransitionEnter:function(){return U(!1)},onTransitionExited:function(){return U(!0)},ref:n},M,{classes:z},V,{children:h}))}));function CP(e){return(0,sN.Z)("MuiPopover",e)}(0,cN.Z)("MuiPopover",["root","paper"]);var NP=["onEntering"],RP=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function AP(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function PP(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function OP(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function DP(e){return"function"===typeof e?e():e}var LP=(0,nN.ZP)(TP,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),MP=(0,nN.ZP)(TA,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),jP=t.forwardRef((function(e,n){var r=(0,rN.Z)({props:e,name:"MuiPopover"}),i=r.action,a=r.anchorEl,o=r.anchorOrigin,u=void 0===o?{vertical:"top",horizontal:"left"}:o,s=r.anchorPosition,c=r.anchorReference,f=void 0===c?"anchorEl":c,d=r.children,h=r.className,p=r.container,v=r.elevation,m=void 0===v?8:v,g=r.marginThreshold,y=void 0===g?16:g,b=r.open,k=r.PaperProps,w=void 0===k?{}:k,x=r.transformOrigin,_=void 0===x?{vertical:"top",horizontal:"left"}:x,S=r.TransitionComponent,I=void 0===S?GA:S,E=r.transitionDuration,T=void 0===E?"auto":E,C=r.TransitionProps,N=(C=void 0===C?{}:C).onEntering,R=(0,GC.Z)(r.TransitionProps,NP),A=(0,GC.Z)(r,RP),P=t.useRef(),O=(0,BN.Z)(P,w.ref),D=(0,l.Z)({},r,{anchorOrigin:u,anchorReference:f,elevation:m,marginThreshold:y,PaperProps:w,transformOrigin:_,TransitionComponent:I,transitionDuration:T,TransitionProps:R}),L=function(e){var t=e.classes;return(0,tN.Z)({root:["root"],paper:["paper"]},CP,t)}(D),M=t.useCallback((function(){if("anchorPosition"===f)return s;var e=DP(a),t=(e&&1===e.nodeType?e:(0,oA.Z)(P.current).body).getBoundingClientRect();return{top:t.top+AP(t,u.vertical),left:t.left+PP(t,u.horizontal)}}),[a,u.horizontal,u.vertical,s,f]),j=t.useCallback((function(e){return{vertical:AP(e,_.vertical),horizontal:PP(e,_.horizontal)}}),[_.horizontal,_.vertical]),F=t.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=j(t);if("none"===f)return{top:null,left:null,transformOrigin:OP(n)};var r=M(),i=r.top-n.vertical,o=r.left-n.horizontal,u=i+t.height,s=o+t.width,c=(0,NA.Z)(DP(a)),l=c.innerHeight-y,d=c.innerWidth-y;if(i<y){var h=i-y;i-=h,n.vertical+=h}else if(u>l){var p=u-l;i-=p,n.vertical+=p}if(o<y){var v=o-y;o-=v,n.horizontal+=v}else if(s>d){var m=s-d;o-=m,n.horizontal+=m}return{top:"".concat(Math.round(i),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:OP(n)}}),[a,f,M,j,y]),Z=t.useCallback((function(){var e=P.current;if(e){var t=F(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin}}),[F]);t.useEffect((function(){b&&Z()})),t.useImperativeHandle(i,(function(){return b?{updatePosition:function(){Z()}}:null}),[b,Z]),t.useEffect((function(){if(b){var e=(0,CA.Z)((function(){Z()})),t=(0,NA.Z)(a);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[a,b,Z]);var U=T;"auto"!==T||I.muiSupportAuto||(U=void 0);var V=p||(a?(0,oA.Z)(DP(a)).body:void 0);return(0,RC.jsx)(LP,(0,l.Z)({BackdropProps:{invisible:!0},className:(0,QC.Z)(L.root,h),container:V,open:b,ref:n,ownerState:D},A,{children:(0,RC.jsx)(I,(0,l.Z)({appear:!0,in:b,onEntering:function(e,t){N&&N(e,t),Z()},timeout:U},R,{children:(0,RC.jsx)(MP,(0,l.Z)({elevation:m},w,{ref:O,className:(0,QC.Z)(L.paper,w.className),children:d}))}))}))}));function FP(e){return(0,sN.Z)("MuiMenu",e)}(0,cN.Z)("MuiMenu",["root","paper","list"]);var ZP=["onEntering"],UP=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],VP={vertical:"top",horizontal:"right"},zP={vertical:"top",horizontal:"left"},BP=(0,nN.ZP)(jP,{shouldForwardProp:function(e){return(0,nN.FO)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),qP=(0,nN.ZP)(TA,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),WP=(0,nN.ZP)(kA,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),KP=t.forwardRef((function(e,n){var r=(0,rN.Z)({props:e,name:"MuiMenu"}),i=r.autoFocus,a=void 0===i||i,o=r.children,u=r.disableAutoFocusItem,s=void 0!==u&&u,c=r.MenuListProps,f=void 0===c?{}:c,d=r.onClose,h=r.open,p=r.PaperProps,v=void 0===p?{}:p,m=r.PopoverClasses,g=r.transitionDuration,y=void 0===g?"auto":g,b=r.TransitionProps,k=(b=void 0===b?{}:b).onEntering,w=r.variant,x=void 0===w?"selectedMenu":w,_=(0,GC.Z)(r.TransitionProps,ZP),S=(0,GC.Z)(r,UP),I=oN(),E="rtl"===I.direction,T=(0,l.Z)({},r,{autoFocus:a,disableAutoFocusItem:s,MenuListProps:f,onEntering:k,PaperProps:v,transitionDuration:y,TransitionProps:_,variant:x}),C=function(e){var t=e.classes;return(0,tN.Z)({root:["root"],paper:["paper"],list:["list"]},FP,t)}(T),N=a&&!s&&h,R=t.useRef(null),A=-1;return t.Children.map(o,(function(e,n){t.isValidElement(e)&&(e.props.disabled||("selectedMenu"===x&&e.props.selected||-1===A)&&(A=n))})),(0,RC.jsx)(BP,(0,l.Z)({classes:m,onClose:d,anchorOrigin:{vertical:"bottom",horizontal:E?"right":"left"},transformOrigin:E?VP:zP,PaperProps:(0,l.Z)({component:qP},v,{classes:(0,l.Z)({},v.classes,{root:C.paper})}),className:C.root,open:h,ref:n,transitionDuration:y,TransitionProps:(0,l.Z)({onEntering:function(e,t){R.current&&R.current.adjustStyleForScrollbar(e,I),k&&k(e,t)}},_),ownerState:T},S,{children:(0,RC.jsx)(WP,(0,l.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),d&&d(e,"tabKeyDown"))},actions:R,autoFocus:a&&(-1===A||s),autoFocusItem:N,variant:x},f,{className:(0,QC.Z)(C.list,f.className),children:o}))}))})),HP=KP;function GP(e){return(0,sN.Z)("MuiNativeSelect",e)}var QP=(0,cN.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),$P=["className","disabled","IconComponent","inputRef","variant"],XP=function(e){var t,n=e.ownerState,r=e.theme;return(0,l.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{backgroundColor:"light"===r.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"}},(0,a.Z)(t,"&.".concat(QP.disabled),{cursor:"default"}),(0,a.Z)(t,"&[multiple]",{height:"auto"}),(0,a.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:r.palette.background.paper}),(0,a.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:r.shape.borderRadius,"&:focus":{borderRadius:r.shape.borderRadius},"&&&":{paddingRight:32}})},YP=(0,nN.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:nN.FO,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],(0,a.Z)({},"&.".concat(QP.multiple),t.multiple)]}})(XP),JP=function(e){var t=e.ownerState,n=e.theme;return(0,l.Z)((0,a.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:n.palette.action.active},"&.".concat(QP.disabled),{color:n.palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},eO=(0,nN.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,zN.Z)(n.variant))],n.open&&t.iconOpen]}})(JP),tO=t.forwardRef((function(e,n){var r=e.className,i=e.disabled,a=e.IconComponent,o=e.inputRef,u=e.variant,s=void 0===u?"standard":u,c=(0,GC.Z)(e,$P),f=(0,l.Z)({},e,{disabled:i,variant:s}),d=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,zN.Z)(n)),a&&"iconOpen",r&&"disabled"]};return(0,tN.Z)(o,GP,t)}(f);return(0,RC.jsxs)(t.Fragment,{children:[(0,RC.jsx)(YP,(0,l.Z)({ownerState:f,className:(0,QC.Z)(d.select,r),disabled:i,ref:o||n},c)),e.multiple?null:(0,RC.jsx)(eO,{as:a,ownerState:f,className:d.icon})]})})),nO=tO,rO=n(8744);function iO(e){return(0,sN.Z)("MuiSelect",e)}var aO,oO=(0,cN.Z)("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),uO=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],sO=(0,nN.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,a.Z)({},"&.".concat(oO.select),t.select),(0,a.Z)({},"&.".concat(oO.select),t[n.variant]),(0,a.Z)({},"&.".concat(oO.multiple),t.multiple)]}})(XP,(0,a.Z)({},"&.".concat(oO.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),cO=(0,nN.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,zN.Z)(n.variant))],n.open&&t.iconOpen]}})(JP),lO=(0,nN.ZP)("input",{shouldForwardProp:function(e){return(0,nN.Dz)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function fO(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function dO(e){return null==e||"string"===typeof e&&!e.trim()}var hO,pO,vO=t.forwardRef((function(e,n){var r=e["aria-describedby"],i=e["aria-label"],a=e.autoFocus,o=e.autoWidth,u=e.children,s=e.className,f=e.defaultOpen,d=e.defaultValue,h=e.disabled,p=e.displayEmpty,v=e.IconComponent,m=e.inputRef,g=e.labelId,y=e.MenuProps,b=void 0===y?{}:y,k=e.multiple,w=e.name,x=e.onBlur,_=e.onChange,S=e.onClose,I=e.onFocus,E=e.onOpen,T=e.open,C=e.readOnly,N=e.renderValue,R=e.SelectDisplayProps,A=void 0===R?{}:R,P=e.tabIndex,O=e.value,D=e.variant,L=void 0===D?"standard":D,M=(0,GC.Z)(e,uO),j=(0,rO.Z)({controlled:O,default:d,name:"Select"}),F=(0,c.Z)(j,2),Z=F[0],U=F[1],V=(0,rO.Z)({controlled:T,default:f,name:"Select"}),z=(0,c.Z)(V,2),B=z[0],q=z[1],W=t.useRef(null),K=t.useRef(null),H=t.useState(null),G=(0,c.Z)(H,2),Q=G[0],$=G[1],X=t.useRef(null!=T).current,Y=t.useState(),J=(0,c.Z)(Y,2),ee=J[0],te=J[1],ne=(0,BN.Z)(n,m),re=t.useCallback((function(e){K.current=e,e&&$(e)}),[]);t.useImperativeHandle(ne,(function(){return{focus:function(){K.current.focus()},node:W.current,value:Z}}),[Z]),t.useEffect((function(){f&&B&&Q&&!X&&(te(o?null:Q.clientWidth),K.current.focus())}),[Q,o]),t.useEffect((function(){a&&K.current.focus()}),[a]),t.useEffect((function(){if(g){var e=(0,oA.Z)(K.current).getElementById(g);if(e){var t=function(){getSelection().isCollapsed&&K.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[g]);var ie,ae,oe=function(e,t){e?E&&E(t):S&&S(t),X||(te(o?null:Q.clientWidth),q(e))},ue=t.Children.toArray(u),se=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(k){n=Array.isArray(Z)?Z.slice():[];var r=Z.indexOf(e.props.value);-1===r?n.push(e.props.value):n.splice(r,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),Z!==n&&(U(n),_)){var i=t.nativeEvent||t,a=new i.constructor(i.type,i);Object.defineProperty(a,"target",{writable:!0,value:{value:n,name:w}}),_(a,e)}k||oe(!1,t)}}},ce=null!==Q&&B;delete M["aria-invalid"];var le=[],fe=!1;(tR({value:Z})||p)&&(N?ie=N(Z):fe=!0);var de=ue.map((function(e,n,r){if(!t.isValidElement(e))return null;var i;if(k){if(!Array.isArray(Z))throw new Error((0,CN.Z)(2));i=Z.some((function(t){return fO(t,e.props.value)})),i&&fe&&le.push(e.props.children)}else(i=fO(Z,e.props.value))&&fe&&(ae=e.props.children);if(i&&!0,void 0===e.props.value)return t.cloneElement(e,{"aria-readonly":!0,role:"option"});return t.cloneElement(e,{"aria-selected":i?"true":"false",onClick:se(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:void 0===r[0].props.value||!0===r[0].props.disabled?function(){if(Z)return i;var t=r.find((function(e){return void 0!==e.props.value&&!0!==e.props.disabled}));return e===t||i}():i,value:void 0,"data-value":e.props.value})}));fe&&(ie=k?0===le.length?null:le.reduce((function(e,t,n){return e.push(t),n<le.length-1&&e.push(", "),e}),[]):ae);var he,pe=ee;!o&&X&&Q&&(pe=Q.clientWidth),he="undefined"!==typeof P?P:h?null:0;var ve=A.id||(w?"mui-component-select-".concat(w):void 0),me=(0,l.Z)({},e,{variant:L,value:Z,open:ce}),ge=function(e){var t=e.classes,n=e.variant,r=e.disabled,i=e.multiple,a=e.open,o={select:["select",n,r&&"disabled",i&&"multiple"],icon:["icon","icon".concat((0,zN.Z)(n)),a&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return(0,tN.Z)(o,iO,t)}(me);return(0,RC.jsxs)(t.Fragment,{children:[(0,RC.jsx)(sO,(0,l.Z)({ref:re,tabIndex:he,role:"button","aria-disabled":h?"true":void 0,"aria-expanded":ce?"true":"false","aria-haspopup":"listbox","aria-label":i,"aria-labelledby":[g,ve].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!C){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),oe(!0,e))}},onMouseDown:h||C?null:function(e){0===e.button&&(e.preventDefault(),K.current.focus(),oe(!0,e))},onBlur:function(e){!ce&&x&&(Object.defineProperty(e,"target",{writable:!0,value:{value:Z,name:w}}),x(e))},onFocus:I},A,{ownerState:me,className:(0,QC.Z)(ge.select,s,A.className),id:ve,children:dO(ie)?aO||(aO=(0,RC.jsx)("span",{className:"notranslate",children:"\u200b"})):ie})),(0,RC.jsx)(lO,(0,l.Z)({value:Array.isArray(Z)?Z.join(","):Z,name:w,ref:W,"aria-hidden":!0,onChange:function(e){var t=ue.map((function(e){return e.props.value})).indexOf(e.target.value);if(-1!==t){var n=ue[t];U(n.props.value),_&&_(e,n)}},tabIndex:-1,disabled:h,className:ge.nativeInput,autoFocus:a,ownerState:me},M)),(0,RC.jsx)(cO,{as:v,className:ge.icon,ownerState:me}),(0,RC.jsx)(HP,(0,l.Z)({id:"menu-".concat(w||""),anchorEl:Q,open:ce,onClose:function(e){oe(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},b,{MenuListProps:(0,l.Z)({"aria-labelledby":g,role:"listbox",disableListWrap:!0},b.MenuListProps),PaperProps:(0,l.Z)({},b.PaperProps,{style:(0,l.Z)({minWidth:pe},null!=b.PaperProps?b.PaperProps.style:null)}),children:de}))]})})),mO=vO,gO=(0,bN.Z)((0,RC.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),yO=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],bO={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return(0,nN.FO)(e)&&"variant"!==e},slot:"Root"},kO=(0,nN.ZP)(yR,bO)(""),wO=(0,nN.ZP)(jR,bO)(""),xO=(0,nN.ZP)(ER,bO)(""),_O=t.forwardRef((function(e,n){var r=(0,rN.Z)({name:"MuiSelect",props:e}),i=r.autoWidth,a=void 0!==i&&i,o=r.children,u=r.classes,s=void 0===u?{}:u,c=r.className,f=r.defaultOpen,d=void 0!==f&&f,h=r.displayEmpty,p=void 0!==h&&h,v=r.IconComponent,m=void 0===v?gO:v,g=r.id,y=r.input,b=r.inputProps,k=r.label,w=r.labelId,x=r.MenuProps,_=r.multiple,S=void 0!==_&&_,I=r.native,E=void 0!==I&&I,T=r.onClose,C=r.onOpen,N=r.open,R=r.renderValue,A=r.SelectDisplayProps,P=r.variant,O=void 0===P?"outlined":P,D=(0,GC.Z)(r,yO),L=E?nO:mO,M=ZN({props:r,muiFormControl:VN(),states:["variant"]}).variant||O,j=y||{standard:hO||(hO=(0,RC.jsx)(kO,{})),outlined:(0,RC.jsx)(wO,{label:k}),filled:pO||(pO=(0,RC.jsx)(xO,{}))}[M],F=function(e){return e.classes}((0,l.Z)({},r,{variant:M,classes:s})),Z=(0,BN.Z)(n,j.ref);return t.cloneElement(j,(0,l.Z)({inputComponent:L,inputProps:(0,l.Z)({children:o,IconComponent:m,variant:M,type:void 0,multiple:S},E?{id:g}:{autoWidth:a,defaultOpen:d,displayEmpty:p,labelId:w,MenuProps:x,onClose:T,onOpen:C,open:N,renderValue:R,SelectDisplayProps:(0,l.Z)({id:g},A)},b,{classes:b?(0,XC.Z)(F,b.classes):F},y?y.props.inputProps:{})},S&&E&&"outlined"===M?{notched:!0}:{},{ref:Z,className:(0,QC.Z)(j.props.className,c),variant:M},D))}));_O.muiName="Select";var SO=_O;function IO(e){return(0,sN.Z)("MuiTextField",e)}(0,cN.Z)("MuiTextField",["root"]);var EO=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],TO={standard:yR,filled:ER,outlined:jR},CO=(0,nN.ZP)(JR,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),NO=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiTextField"}),r=n.autoComplete,i=n.autoFocus,a=void 0!==i&&i,o=n.children,u=n.className,s=n.color,c=void 0===s?"primary":s,f=n.defaultValue,d=n.disabled,h=void 0!==d&&d,p=n.error,v=void 0!==p&&p,m=n.FormHelperTextProps,g=n.fullWidth,y=void 0!==g&&g,b=n.helperText,k=n.id,w=n.InputLabelProps,x=n.inputProps,_=n.InputProps,S=n.inputRef,I=n.label,E=n.maxRows,T=n.minRows,C=n.multiline,N=void 0!==C&&C,R=n.name,A=n.onBlur,P=n.onChange,O=n.onFocus,D=n.placeholder,L=n.required,M=void 0!==L&&L,j=n.rows,F=n.select,Z=void 0!==F&&F,U=n.SelectProps,V=n.type,z=n.value,B=n.variant,q=void 0===B?"outlined":B,W=(0,GC.Z)(n,EO),K=(0,l.Z)({},n,{autoFocus:a,color:c,disabled:h,error:v,fullWidth:y,multiline:N,required:M,select:Z,variant:q}),H=function(e){var t=e.classes;return(0,tN.Z)({root:["root"]},IO,t)}(K);var G={};"outlined"===q&&(w&&"undefined"!==typeof w.shrink&&(G.notched=w.shrink),G.label=I),Z&&(U&&U.native||(G.id=void 0),G["aria-describedby"]=void 0);var Q=(0,TN.Z)(k),$=b&&Q?"".concat(Q,"-helper-text"):void 0,X=I&&Q?"".concat(Q,"-label"):void 0,Y=TO[q],J=(0,RC.jsx)(Y,(0,l.Z)({"aria-describedby":$,autoComplete:r,autoFocus:a,defaultValue:f,fullWidth:y,multiline:N,name:R,rows:j,maxRows:E,minRows:T,type:V,value:z,id:Q,inputRef:S,onBlur:A,onChange:P,onFocus:O,placeholder:D,inputProps:x},G,_));return(0,RC.jsxs)(CO,(0,l.Z)({className:(0,QC.Z)(H.root,u),disabled:h,error:v,fullWidth:y,ref:t,required:M,color:c,variant:q,ownerState:K},W,{children:[null!=I&&""!==I&&(0,RC.jsx)(HR,(0,l.Z)({htmlFor:Q,id:X},w,{children:I})),Z?(0,RC.jsx)(SO,(0,l.Z)({"aria-describedby":$,id:Q,labelId:X,value:z,input:J},U,{children:o})):J,b&&(0,RC.jsx)(aA,(0,l.Z)({id:$},m,{children:b}))]}))})),RO=NO;var AO=function(e){var n=e.placeholder,r=e.data,i=(0,t.useState)([]),a=(0,c.Z)(i,2),o=a[0],u=a[1],s=(0,t.useState)(""),l=(0,c.Z)(s,2),f=l[0],d=l[1],h=(0,t.useContext)(AC),p=Z();return(0,RC.jsx)(yN,{container:!0,className:"search",sx:{backgroundColor:"background.paper"},children:(0,RC.jsxs)(yN,{position:"relative",item:!0,className:"searchInputs",children:[(0,RC.jsx)(RO,{className:"search-bar-text",label:n,variant:"filled",style:{},value:f,onChange:function(e){var t=e.target.value;d(t);var n=r.filter((function(e){return e.fullname.toLowerCase().includes(t.toLowerCase())}));u(""===t?[]:n)},size:"small",width:"25vw"}),(0,RC.jsx)("div",{className:"searchIcon",children:0===o.length?(0,RC.jsx)(IN.Z,{}):(0,RC.jsx)(EN.Z,{id:"clearBtn",onClick:function(){u([]),d("")}})}),0!==o.length&&(0,RC.jsx)(yN,{style:{position:"absolute",bottom:0,transform:"translateY(100%)",backgroundColor:"white"},item:!0,className:("dark"===h.theme?"dark ":"")+"dataResult",children:o.map((function(e,t){var n=e.fullname.split(" "),r="";return n.forEach((function(e){r=r+e.toLowerCase()+"_"})),r+=e.email.length,(0,RC.jsxs)(yN,{className:"dataResultItem",item:!0,onClick:function(){return t=e,h.setVisitedUser(t),void p("/visit/"+t.docId);var t},children:[(0,RC.jsx)("div",{className:"dataResultItemLeft",children:(0,RC.jsx)("img",{src:e.profileUrl,className:"user-image",alt:"",srcset:""})}),(0,RC.jsxs)("div",{className:"dataResultItemRight",children:[(0,RC.jsxs)("p",{className:"head",children:[e.fullname," "]}),(0,RC.jsx)("p",{children:r})]})]})}))})]})})},PO=function(e){var n=(0,t.useContext)(AC),r=(0,t.useState)(""),i=(0,c.Z)(r,2),a=i[0],o=i[1],u=n.theme,s=(0,t.useState)(""),l=(0,c.Z)(s,2),f=l[0],d=l[1],h=(0,t.useState)([]),p=(0,c.Z)(h,2),v=p[0],m=p[1],g=n.setTheme,y=(0,t.useRef)();(0,t.useEffect)((function(){m(n.userList)}),[n.userList]),(0,t.useEffect)((function(){null===n.user?d(""):d(n.user.profileUrl)}),[n.user]),(0,t.useEffect)((function(){null===n.user?o(""):o(n.user.docId)}),[n.user]);return(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)("a",{href:"https://about.instagram.com/blog/announcements/introducing-instagram-reels-announcement",ref:y,style:{display:"none"}}),(0,RC.jsxs)(yN,{container:!0,className:"header",sx:{backgroundColor:"background.paper"},children:[(0,RC.jsx)(yN,{style:{width:"100%"},item:!0,sm:12,lg:4,className:"spacer header-logo",justifyContent:"center",children:(0,RC.jsx)("div",{style:{width:"100%",textAlign:"center",display:"flex",justifyContent:"center"},children:(0,RC.jsx)("img",{className:"light"===u?"light-logo":"dark-logo",src:"https://www.instagram.com/static/images/web/logged_out_wordmark.png/7a252de00b20.png",height:"110px",width:"110px",alt:""})})}),(0,RC.jsx)(yN,{alignItems:"center",lg:4,sm:12,className:"spacer header-search",justifyContent:"center",children:(0,RC.jsx)(AO,{placeholder:"Search Users",data:v})}),(0,RC.jsxs)(yN,{item:!0,sm:12,lg:4,className:"spacer header-links",children:[(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsx)(Y,{style:{textDecoration:"none"},to:"/feed",children:(0,RC.jsx)(kN,{sx:{color:"text.primary",fontSize:"28px"}})})}),(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsx)(wN,{onClick:function(){"/feed"===window.location.pathname?e.handleClick():e.handleClickProfile()}})}),(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsx)(xN,{onClick:function(){return y.current.click()}})}),(0,RC.jsx)(yN,{item:!0,onClick:function(){g("light"===u?"dark":"light")},children:"light"===u?(0,RC.jsx)(_N,{}):(0,RC.jsx)(SN,{})}),(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsx)(J,{style:{textDecoration:"none"},to:"/profile/".concat(a),children:(0,RC.jsx)("img",{alt:"",src:f,className:"user-image"})})}),(0,RC.jsx)(yN,{item:!0})]})]})]})};var OO=function(){var e=(0,t.useContext)(AC),n=(0,t.useState)(""),r=(0,c.Z)(n,2),i=r[0],a=r[1],o=e.user,u=function(){document.getElementById("pb").style.display="none"},s=function(t){if(null===t)return a("Please upload a file"),void setTimeout((function(){a("")}),2e3);if(t.size/1048576>100)return a("Please select a file less than 100MB"),void setTimeout((function(){a("")}),2e3);document.getElementById("pb").style.display="block";var n=UC(),r=_E(TE(TC,"/users/".concat(n,"/").concat(t.name)),t);r.on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){a(e),setTimeout((function(){a("")}),2e3),u()}),(function(){EE(r.snapshot.ref).then((function(t){VS(s_(EC,"seenposts"),{postId:"",visitedUsers:[]}).then((function(r){var i={likes:[],comments:[],pId:n,pUrl:t,uName:o.fullname,uProfile:o.profileUrl,userId:o.docId,createdAt:mh.now(),seenpost:r.id};VS(s_(EC,"posts"),i).then(function(){var e=ie(te().mark((function e(t){var n;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[].concat((0,ne.Z)(o.postIds),[t.id]),e.next=3,US(c_(EC,"users",o.docId),{postIds:n});case 3:return e.next=5,US(c_(EC,"seenposts",r.id),{postId:t.id});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){u()})).catch((function(t){e.setPostedByUser(!1),a(t.message),setTimeout((function(){a("")}),2e3),u()}))}))}))}))};return(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)(PO,{handleClickProfile:function(){document.getElementById("upload-input").value="",document.getElementById("upload-input").click()}}),(0,RC.jsxs)("div",{className:"main_continer",children:[(0,RC.jsx)("input",{type:"file",accept:"video/*",id:"upload-input",onChange:function(e){return s(e.target.files[0])},style:{display:"none"}}),(0,RC.jsx)("progress",{className:"progress is-danger progress-bar",id:"pb",max:"100",style:{display:"none"},children:"10%"}),""!==i&&(0,RC.jsx)("div",{children:i}),(0,RC.jsx)(HC,{user:o})]})]})},DO={containerLogin:"Login_containerLogin__5E-pc",loginImage:"Login_loginImage__4GS8G",form:"Login_form__kFx8G",inputWrapper:"Login_inputWrapper__byuwG",signUp:"Login_signUp__rZcRF",badgeContainer:"Login_badgeContainer__s345e",badge:"Login_badge__DzcBV",footerContainer:"Login_footerContainer__GKyRw"};var LO=function(){var e=(0,t.useState)(""),n=(0,c.Z)(e,2),r=n[0],i=n[1],a=(0,t.useState)(""),o=(0,c.Z)(a,2),u=o[0],s=o[1],l=(0,t.useState)(!1),f=(0,c.Z)(l,2),d=f[0],h=f[1],p=(0,t.useState)(""),v=(0,c.Z)(p,2),m=v[0],g=v[1],y=(0,t.useContext)(AC),b=function(){var e=ie(te().mark((function e(){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,Ra(IC,r,u);case 4:e.sent,e.next=12;break;case 7:e.prev=7,e.t0=e.catch(0),g(e.t0.message),y.setUser(null),setTimeout((function(){g("")}),2e3);case 12:h(!1);case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,RC.jsx)(RC.Fragment,{children:!0===d?(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{class:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}):(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsxs)("div",{className:"parent-wrapper",children:[(0,RC.jsx)("div",{className:"back-login"}),(0,RC.jsxs)("div",{className:DO.containerLogin,children:[(0,RC.jsx)("img",{className:"login-image "+DO.loginImage,src:"https://www.instagram.com/static/images/web/logged_out_wordmark.png/7a252de00b20.png",alt:""}),(0,RC.jsx)("div",{className:DO.error,children:""!==m&&(0,RC.jsx)("div",{className:"error",children:m})}),(0,RC.jsxs)("div",{className:DO.form,children:[(0,RC.jsx)("div",{className:DO.inputWrapper,children:(0,RC.jsx)("input",{type:"email",placeholder:"Enter Email",value:r,onChange:function(e){i(e.target.value)},width:"100px",height:"30px"})}),(0,RC.jsx)("div",{className:DO.inputWrapper,children:(0,RC.jsx)("input",{type:"password",placeholder:"Password",value:u,onChange:function(e){s(e.target.value)}})})," ",(0,RC.jsx)("div",{className:DO.inputWrapper,children:(0,RC.jsx)("button",{onClick:b,children:"LOG IN"})})]}),(0,RC.jsx)("p",{className:"forgot",children:"Forgot Password?"})]}),(0,RC.jsx)("div",{className:DO.containerLogin+" "+DO.signUp,children:(0,RC.jsxs)("p",{children:["Don't have an account? ",(0,RC.jsx)(Y,{to:"/signup",children:"Sign Up"})]})}),(0,RC.jsxs)("div",{class:"".concat(DO.containerLogin," ").concat(DO.signUp," ").concat(DO.badgeContainer),children:[(0,RC.jsx)("p",{children:"Get the app"}),(0,RC.jsxs)("div",{class:DO.badge,children:[(0,RC.jsx)("img",{src:"https://www.instagram.com/static/images/appstore-install-badges/badge_android_english-en.png/e9cd846dc748.png",alt:"android App"}),(0,RC.jsx)("img",{src:"https://www.instagram.com/static/images/appstore-install-badges/badge_ios_english-en.png/180ae7a0bcf7.png",alt:"ios app"})]})]})]}),(0,RC.jsx)("div",{class:DO.footerContainer,children:(0,RC.jsx)("ul",{children:["About Us","Support","Jobs","Privacy","Terms","Profiles","Languages"].map((function(e){return(0,RC.jsx)(RC.Fragment,{children:(0,RC.jsx)("li",{children:(0,RC.jsx)("a",{href:"#",children:e})})})}))})}),(0,RC.jsx)("div",{class:DO.footerContainer,children:(0,RC.jsx)("p",{children:"\xa9 2019 Complaints"})})]})})};var MO=function(){return(0,RC.jsx)("div",{children:"PageNotFound"})};function jO(e){return(0,sN.Z)("MuiTypography",e)}(0,cN.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var FO=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],ZO=(0,nN.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,zN.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({margin:0},n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),UO={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},VO={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},zO=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiTypography"}),r=function(e){return VO[e]||e}(n.color),i=eN((0,l.Z)({},n,{color:r})),a=i.align,o=void 0===a?"inherit":a,u=i.className,s=i.component,c=i.gutterBottom,f=void 0!==c&&c,d=i.noWrap,h=void 0!==d&&d,p=i.paragraph,v=void 0!==p&&p,m=i.variant,g=void 0===m?"body1":m,y=i.variantMapping,b=void 0===y?UO:y,k=(0,GC.Z)(i,FO),w=(0,l.Z)({},i,{align:o,color:r,className:u,component:s,gutterBottom:f,noWrap:h,paragraph:v,variant:g,variantMapping:b}),x=s||(v?"p":b[g]||UO[g])||"span",_=function(e){var t=e.align,n=e.gutterBottom,r=e.noWrap,i=e.paragraph,a=e.variant,o=e.classes,u={root:["root",a,"inherit"!==e.align&&"align".concat((0,zN.Z)(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return(0,tN.Z)(u,jO,o)}(w);return(0,RC.jsx)(ZO,(0,l.Z)({as:x,ref:t,ownerState:w,className:(0,QC.Z)(_.root,u)},k))})),BO=zO,qO=n(5735),WO=n(9683),KO=n(3031);function HO(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function GO(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function QO(e,t,n){return null!=n[t]?n[t]:e.props[t]}function $O(e,n,r){var i=GO(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:QO(u,"exit",e),enter:QO(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:QO(u,"exit",e),enter:QO(u,"enter",e)})}})),a}var XO=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},YO=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(le(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}RA(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,GO(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:QO(e,"appear",r),enter:QO(e,"enter",r),exit:QO(e,"exit",r)})}))):$O(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=GO(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,l.Z)({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=(0,GC.Z)(e,["component","childFactory"]),a=this.state.contextValue,o=XO(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(PA.Provider,{value:a},o):t.createElement(PA.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);YO.propTypes={},YO.defaultProps={component:"div",childFactory:function(e){return e}};var JO=YO;var eD=function(e){var n=e.className,r=e.classes,i=e.pulsate,a=void 0!==i&&i,o=e.rippleX,u=e.rippleY,s=e.rippleSize,l=e.in,f=e.onExited,d=e.timeout,h=t.useState(!1),p=(0,c.Z)(h,2),v=p[0],m=p[1],g=(0,QC.Z)(n,r.ripple,r.rippleVisible,a&&r.ripplePulsate),y={width:s,height:s,top:-s/2+u,left:-s/2+o},b=(0,QC.Z)(r.child,v&&r.childLeaving,a&&r.childPulsate);return l||v||m(!0),t.useEffect((function(){if(!l&&null!=f){var e=setTimeout(f,d);return function(){clearTimeout(e)}}}),[f,l,d]),(0,RC.jsx)("span",{className:g,style:y,children:(0,RC.jsx)("span",{className:b})})};var tD,nD,rD,iD,aD,oD,uD,sD,cD=(0,cN.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),lD=["center","classes","className"],fD=XN(aD||(aD=tD||(tD=HO(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),dD=XN(oD||(oD=nD||(nD=HO(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),hD=XN(uD||(uD=rD||(rD=HO(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),pD=(0,nN.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),vD=(0,nN.ZP)(eD,{name:"MuiTouchRipple",slot:"Ripple"})(sD||(sD=iD||(iD=HO(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),cD.rippleVisible,fD,550,(function(e){return e.theme.transitions.easing.easeInOut}),cD.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),cD.child,cD.childLeaving,dD,550,(function(e){return e.theme.transitions.easing.easeInOut}),cD.childPulsate,hD,(function(e){return e.theme.transitions.easing.easeInOut})),mD=t.forwardRef((function(e,n){var r=(0,rN.Z)({props:e,name:"MuiTouchRipple"}),i=r.center,a=void 0!==i&&i,o=r.classes,u=void 0===o?{}:o,s=r.className,f=(0,GC.Z)(r,lD),d=t.useState([]),h=(0,c.Z)(d,2),p=h[0],v=h[1],m=t.useRef(0),g=t.useRef(null);t.useEffect((function(){g.current&&(g.current(),g.current=null)}),[p]);var y=t.useRef(!1),b=t.useRef(null),k=t.useRef(null),w=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(b.current)}}),[]);var x=t.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;v((function(e){return[].concat((0,ne.Z)(e),[(0,RC.jsx)(vD,{classes:{ripple:(0,QC.Z)(u.ripple,cD.ripple),rippleVisible:(0,QC.Z)(u.rippleVisible,cD.rippleVisible),ripplePulsate:(0,QC.Z)(u.ripplePulsate,cD.ripplePulsate),child:(0,QC.Z)(u.child,cD.child),childLeaving:(0,QC.Z)(u.childLeaving,cD.childLeaving),childPulsate:(0,QC.Z)(u.childPulsate,cD.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},m.current)])})),m.current+=1,g.current=a}),[u]),_=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,u=void 0===o?a||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===(null==e?void 0:e.type)&&y.current)y.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(y.current=!0);var l,f,d,h=c?null:w.current,p=h?h.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,m=v.clientX,g=v.clientY;l=Math.round(m-p.left),f=Math.round(g-p.top)}if(u)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var _=2*Math.max(Math.abs((h?h.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((h?h.clientHeight:0)-f),f)+2;d=Math.sqrt(Math.pow(_,2)+Math.pow(S,2))}null!=e&&e.touches?null===k.current&&(k.current=function(){x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})},b.current=setTimeout((function(){k.current&&(k.current(),k.current=null)}),80)):x({pulsate:i,rippleX:l,rippleY:f,rippleSize:d,cb:n})}}),[a,x]),S=t.useCallback((function(){_({},{pulsate:!0})}),[_]),I=t.useCallback((function(e,t){if(clearTimeout(b.current),"touchend"===(null==e?void 0:e.type)&&k.current)return k.current(),k.current=null,void(b.current=setTimeout((function(){I(e,t)})));k.current=null,v((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:S,start:_,stop:I}}),[S,_,I]),(0,RC.jsx)(pD,(0,l.Z)({className:(0,QC.Z)(u.root,cD.root,s),ref:w},f,{children:(0,RC.jsx)(JO,{component:null,exit:!0,children:p})}))})),gD=mD;function yD(e){return(0,sN.Z)("MuiButtonBase",e)}var bD,kD=(0,cN.Z)("MuiButtonBase",["root","disabled","focusVisible"]),wD=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],xD=(0,nN.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})((bD={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,a.Z)(bD,"&.".concat(kD.disabled),{pointerEvents:"none",cursor:"default"}),(0,a.Z)(bD,"@media print",{colorAdjust:"exact"}),bD)),_D=t.forwardRef((function(e,n){var r=(0,rN.Z)({props:e,name:"MuiButtonBase"}),i=r.action,a=r.centerRipple,o=void 0!==a&&a,u=r.children,s=r.className,f=r.component,d=void 0===f?"button":f,h=r.disabled,p=void 0!==h&&h,v=r.disableRipple,m=void 0!==v&&v,g=r.disableTouchRipple,y=void 0!==g&&g,b=r.focusRipple,k=void 0!==b&&b,w=r.LinkComponent,x=void 0===w?"a":w,_=r.onBlur,S=r.onClick,I=r.onContextMenu,E=r.onDragLeave,T=r.onFocus,C=r.onFocusVisible,N=r.onKeyDown,R=r.onKeyUp,A=r.onMouseDown,P=r.onMouseLeave,O=r.onMouseUp,D=r.onTouchEnd,L=r.onTouchMove,M=r.onTouchStart,j=r.tabIndex,F=void 0===j?0:j,Z=r.TouchRippleProps,U=r.touchRippleRef,V=r.type,z=(0,GC.Z)(r,wD),B=t.useRef(null),q=t.useRef(null),W=(0,BN.Z)(q,U),K=(0,KO.Z)(),H=K.isFocusVisibleRef,G=K.onFocus,Q=K.onBlur,$=K.ref,X=t.useState(!1),Y=(0,c.Z)(X,2),J=Y[0],ee=Y[1];p&&J&&ee(!1),t.useImperativeHandle(i,(function(){return{focusVisible:function(){ee(!0),B.current.focus()}}}),[]);var te=t.useState(!1),ne=(0,c.Z)(te,2),re=ne[0],ie=ne[1];t.useEffect((function(){ie(!0)}),[]);var ae=re&&!m&&!p;function oe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,WO.Z)((function(r){return t&&t(r),!n&&q.current&&q.current[e](r),!0}))}t.useEffect((function(){J&&k&&!m&&re&&q.current.pulsate()}),[m,k,J,re]);var ue=oe("start",A),se=oe("stop",I),ce=oe("stop",E),le=oe("stop",O),fe=oe("stop",(function(e){J&&e.preventDefault(),P&&P(e)})),de=oe("start",M),he=oe("stop",D),pe=oe("stop",L),ve=oe("stop",(function(e){Q(e),!1===H.current&&ee(!1),_&&_(e)}),!1),me=(0,WO.Z)((function(e){B.current||(B.current=e.currentTarget),G(e),!0===H.current&&(ee(!0),C&&C(e)),T&&T(e)})),ge=function(){var e=B.current;return d&&"button"!==d&&!("A"===e.tagName&&e.href)},ye=t.useRef(!1),be=(0,WO.Z)((function(e){k&&!ye.current&&J&&q.current&&" "===e.key&&(ye.current=!0,q.current.stop(e,(function(){q.current.start(e)}))),e.target===e.currentTarget&&ge()&&" "===e.key&&e.preventDefault(),N&&N(e),e.target===e.currentTarget&&ge()&&"Enter"===e.key&&!p&&(e.preventDefault(),S&&S(e))})),ke=(0,WO.Z)((function(e){k&&" "===e.key&&q.current&&J&&!e.defaultPrevented&&(ye.current=!1,q.current.stop(e,(function(){q.current.pulsate(e)}))),R&&R(e),S&&e.target===e.currentTarget&&ge()&&" "===e.key&&!e.defaultPrevented&&S(e)})),we=d;"button"===we&&(z.href||z.to)&&(we=x);var xe={};"button"===we?(xe.type=void 0===V?"button":V,xe.disabled=p):(z.href||z.to||(xe.role="button"),p&&(xe["aria-disabled"]=p));var _e=(0,BN.Z)($,B),Se=(0,BN.Z)(n,_e);var Ie=(0,l.Z)({},r,{centerRipple:o,component:d,disabled:p,disableRipple:m,disableTouchRipple:y,focusRipple:k,tabIndex:F,focusVisible:J}),Ee=function(e){var t=e.disabled,n=e.focusVisible,r=e.focusVisibleClassName,i=e.classes,a={root:["root",t&&"disabled",n&&"focusVisible"]},o=(0,tN.Z)(a,yD,i);return n&&r&&(o.root+=" ".concat(r)),o}(Ie);return(0,RC.jsxs)(xD,(0,l.Z)({as:we,className:(0,QC.Z)(Ee.root,s),ownerState:Ie,onBlur:ve,onClick:S,onContextMenu:se,onFocus:me,onKeyDown:be,onKeyUp:ke,onMouseDown:ue,onMouseLeave:fe,onMouseUp:le,onDragLeave:ce,onTouchEnd:he,onTouchMove:pe,onTouchStart:de,ref:Se,tabIndex:p?-1:F,type:V},xe,z,{children:[u,ae?(0,RC.jsx)(gD,(0,l.Z)({ref:W,center:o},Z)):null]}))})),SD=_D;function ID(e){return(0,sN.Z)("MuiButton",e)}var ED=(0,cN.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var TD=t.createContext({}),CD=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],ND=function(e){return(0,l.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},RD=(0,nN.ZP)(SD,{shouldForwardProp:function(e){return(0,nN.FO)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,zN.Z)(n.color))],t["size".concat((0,zN.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,zN.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,r,i=e.theme,o=e.ownerState;return(0,l.Z)({},i.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(i.vars||i).shape.borderRadius,transition:i.transitions.create(["background-color","box-shadow","border-color","color"],{duration:i.transitions.duration.short}),"&:hover":(0,l.Z)({textDecoration:"none",backgroundColor:i.vars?"rgba(".concat(i.vars.palette.text.primaryChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,wA.Fq)(i.palette.text.primary,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,wA.Fq)(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((i.vars||i).palette[o.color].main),backgroundColor:i.vars?"rgba(".concat(i.vars.palette[o.color].mainChannel," / ").concat(i.vars.palette.action.hoverOpacity,")"):(0,wA.Fq)(i.palette[o.color].main,i.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:(i.vars||i).palette.grey.A100,boxShadow:(i.vars||i).shadows[4],"@media (hover: none)":{boxShadow:(i.vars||i).shadows[2],backgroundColor:(i.vars||i).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(i.vars||i).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(i.vars||i).palette[o.color].main}}),"&:active":(0,l.Z)({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[8]})},(0,a.Z)(t,"&.".concat(ED.focusVisible),(0,l.Z)({},"contained"===o.variant&&{boxShadow:(i.vars||i).shadows[6]})),(0,a.Z)(t,"&.".concat(ED.disabled),(0,l.Z)({color:(i.vars||i).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((i.vars||i).palette.action.disabledBackground)},"outlined"===o.variant&&"secondary"===o.color&&{border:"1px solid ".concat((i.vars||i).palette.action.disabled)},"contained"===o.variant&&{color:(i.vars||i).palette.action.disabled,boxShadow:(i.vars||i).shadows[0],backgroundColor:(i.vars||i).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].main,border:i.vars?"1px solid rgba(".concat(i.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat((0,wA.Fq)(i.palette[o.color].main,.5))},"contained"===o.variant&&{color:i.vars?i.vars.palette.text.primary:null==(n=(r=i.palette).getContrastText)?void 0:n.call(r,i.palette.grey[300]),backgroundColor:(i.vars||i).palette.grey[300],boxShadow:(i.vars||i).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(i.vars||i).palette[o.color].contrastText,backgroundColor:(i.vars||i).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:i.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:i.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:i.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,a.Z)(t,"&.".concat(ED.focusVisible),{boxShadow:"none"}),(0,a.Z)(t,"&:active",{boxShadow:"none"}),(0,a.Z)(t,"&.".concat(ED.disabled),{boxShadow:"none"}),t)})),AD=(0,nN.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,zN.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,l.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},ND(t))})),PD=(0,nN.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,zN.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,l.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},ND(t))})),OD=t.forwardRef((function(e,n){var r=t.useContext(TD),i=(0,qO.Z)(r,e),a=(0,rN.Z)({props:i,name:"MuiButton"}),o=a.children,u=a.color,s=void 0===u?"primary":u,c=a.component,f=void 0===c?"button":c,d=a.className,h=a.disabled,p=void 0!==h&&h,v=a.disableElevation,m=void 0!==v&&v,g=a.disableFocusRipple,y=void 0!==g&&g,b=a.endIcon,k=a.focusVisibleClassName,w=a.fullWidth,x=void 0!==w&&w,_=a.size,S=void 0===_?"medium":_,I=a.startIcon,E=a.type,T=a.variant,C=void 0===T?"text":T,N=(0,GC.Z)(a,CD),R=(0,l.Z)({},a,{color:s,component:f,disabled:p,disableElevation:m,disableFocusRipple:y,fullWidth:x,size:S,type:E,variant:C}),A=function(e){var t=e.color,n=e.disableElevation,r=e.fullWidth,i=e.size,a=e.variant,o=e.classes,u={root:["root",a,"".concat(a).concat((0,zN.Z)(t)),"size".concat((0,zN.Z)(i)),"".concat(a,"Size").concat((0,zN.Z)(i)),"inherit"===t&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon","iconSize".concat((0,zN.Z)(i))],endIcon:["endIcon","iconSize".concat((0,zN.Z)(i))]},s=(0,tN.Z)(u,ID,o);return(0,l.Z)({},o,s)}(R),P=I&&(0,RC.jsx)(AD,{className:A.startIcon,ownerState:R,children:I}),O=b&&(0,RC.jsx)(PD,{className:A.endIcon,ownerState:R,children:b});return(0,RC.jsxs)(RD,(0,l.Z)({ownerState:R,className:(0,QC.Z)(d,r.className),component:f,disabled:p,focusRipple:!y,focusVisibleClassName:(0,QC.Z)(A.focusVisible,k),ref:n,type:E},N,{classes:A,children:[P,o,O]}))})),DD=OD;function LD(e){return(0,sN.Z)("MuiDivider",e)}(0,cN.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);var MD=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],jD=(0,nN.ZP)("div",{name:"MuiDivider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},n.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},n.light&&{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):(0,wA.Fq)(t.palette.divider,.08)},"inset"===n.variant&&{marginLeft:72},"middle"===n.variant&&"horizontal"===n.orientation&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},"middle"===n.variant&&"vertical"===n.orientation&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},"vertical"===n.orientation&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},n.flexItem&&{alignSelf:"stretch",height:"auto"})}),(function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({},n.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),top:"50%",content:'""',transform:"translateY(50%)"}})}),(function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({},n.children&&"vertical"===n.orientation&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:"thin solid ".concat((t.vars||t).palette.divider),transform:"translateX(0%)"}})}),(function(e){var t=e.ownerState;return(0,l.Z)({},"right"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},"left"===t.textAlign&&"vertical"!==t.orientation&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})})),FD=(0,nN.ZP)("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:function(e,t){var n=e.ownerState;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})((function(e){var t=e.theme,n=e.ownerState;return(0,l.Z)({display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)")},"vertical"===n.orientation&&{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")})})),ZD=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiDivider"}),r=n.absolute,i=void 0!==r&&r,a=n.children,o=n.className,u=n.component,s=void 0===u?a?"div":"hr":u,c=n.flexItem,f=void 0!==c&&c,d=n.light,h=void 0!==d&&d,p=n.orientation,v=void 0===p?"horizontal":p,m=n.role,g=void 0===m?"hr"!==s?"separator":void 0:m,y=n.textAlign,b=void 0===y?"center":y,k=n.variant,w=void 0===k?"fullWidth":k,x=(0,GC.Z)(n,MD),_=(0,l.Z)({},n,{absolute:i,component:s,flexItem:f,light:h,orientation:v,role:g,textAlign:b,variant:w}),S=function(e){var t=e.absolute,n=e.children,r=e.classes,i=e.flexItem,a=e.light,o=e.orientation,u=e.textAlign,s={root:["root",t&&"absolute",e.variant,a&&"light","vertical"===o&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===o&&"withChildrenVertical","right"===u&&"vertical"!==o&&"textAlignRight","left"===u&&"vertical"!==o&&"textAlignLeft"],wrapper:["wrapper","vertical"===o&&"wrapperVertical"]};return(0,tN.Z)(s,LD,r)}(_);return(0,RC.jsx)(jD,(0,l.Z)({as:s,className:(0,QC.Z)(S.root,o),role:g,ref:t,ownerState:_},x,{children:a?(0,RC.jsx)(FD,{className:S.wrapper,ownerState:_,children:a}):null}))})),UD=ZD,VD=(0,bN.Z)((0,RC.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings"),zD=(0,bN.Z)((0,RC.jsx)("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout");function BD(e){return(0,sN.Z)("MuiLinearProgress",e)}(0,cN.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var qD,WD,KD,HD,GD,QD,$D,XD,YD,JD,eL,tL,nL=["className","color","value","valueBuffer","variant"],rL=XN($D||($D=qD||(qD=HO(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),iL=XN(XD||(XD=WD||(WD=HO(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),aL=XN(YD||(YD=KD||(KD=HO(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),oL=function(e,t){return"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,wA.$n)(e.palette[t].main,.62):(0,wA._j)(e.palette[t].main,.5)},uL=(0,nN.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,zN.Z)(n.color))],t[n.variant]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,l.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:oL(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),sL=(0,nN.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,t){var n=e.ownerState;return[t.dashed,t["dashedColor".concat((0,zN.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme,r=oL(n,t.color);return(0,l.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(r," 0%, ").concat(r," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),$N(JD||(JD=HD||(HD=HO(["\n    animation: "," 3s infinite linear;\n  "]))),aL)),cL=(0,nN.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,zN.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,l.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&$N(eL||(eL=GD||(GD=HO(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),rL)})),lL=(0,nN.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,zN.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,l.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:oL(n,t.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&$N(tL||(tL=QD||(QD=HO(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),iL)})),fL=t.forwardRef((function(e,t){var n=(0,rN.Z)({props:e,name:"MuiLinearProgress"}),r=n.className,i=n.color,a=void 0===i?"primary":i,o=n.value,u=n.valueBuffer,s=n.variant,c=void 0===s?"indeterminate":s,f=(0,GC.Z)(n,nL),d=(0,l.Z)({},n,{color:a,variant:c}),h=function(e){var t=e.classes,n=e.variant,r=e.color,i={root:["root","color".concat((0,zN.Z)(r)),n],dashed:["dashed","dashedColor".concat((0,zN.Z)(r))],bar1:["bar","barColor".concat((0,zN.Z)(r)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,zN.Z)(r)),"buffer"===n&&"color".concat((0,zN.Z)(r)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,tN.Z)(i,BD,t)}(d),p=oN(),v={},m={bar1:{},bar2:{}};if("determinate"===c||"buffer"===c)if(void 0!==o){v["aria-valuenow"]=Math.round(o),v["aria-valuemin"]=0,v["aria-valuemax"]=100;var g=o-100;"rtl"===p.direction&&(g=-g),m.bar1.transform="translateX(".concat(g,"%)")}else 0;if("buffer"===c)if(void 0!==u){var y=(u||0)-100;"rtl"===p.direction&&(y=-y),m.bar2.transform="translateX(".concat(y,"%)")}else 0;return(0,RC.jsxs)(uL,(0,l.Z)({className:(0,QC.Z)(h.root,r),ownerState:d,role:"progressbar"},v,{ref:t},f,{children:["buffer"===c?(0,RC.jsx)(sL,{className:h.dashed,ownerState:d}):null,(0,RC.jsx)(cL,{className:h.bar1,ownerState:d,style:m.bar1}),"determinate"===c?null:(0,RC.jsx)(lL,{className:h.bar2,ownerState:d,style:m.bar2})]}))})),dL=fL;var hL=function(e){var n=e.user,r=(0,t.useContext)(AC),i=Z();return(0,RC.jsx)("div",{onClick:function(){r.setVisitedUser(n),i("/visit/"+n.docId)},className:"user-item-container",children:(0,RC.jsxs)("div",{className:"item-pic-credentials",children:[(0,RC.jsx)("div",{className:"user-item-image",children:(0,RC.jsx)("img",{src:n.profileUrl,alt:"",className:"item-image"})}),(0,RC.jsxs)("div",{className:"user-item-credentials",children:[(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:function(e){var t=e.fullname.split(" "),n="";return t.forEach((function(e){n=n+e.toLowerCase()+"_"})),n+=e.email.length}(n)})}),(0,RC.jsx)("p",{children:n.fullname})]})]})})};var pL=function(e){var n=e.isFollowerList,r=e.modalList,i=e.isOpen,a=e.resetFollow,o=(0,t.useContext)(AC).theme;return BC.createPortal((0,RC.jsx)(RC.Fragment,{children:!0===i&&(0,RC.jsx)(RC.Fragment,{children:null===r?(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{className:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}):(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)("span",{className:"close",onClick:function(){return a()},children:(0,RC.jsx)("i",{class:"fa-regular fa-circle-xmark"})}),(0,RC.jsx)("div",{className:"back"}),(0,RC.jsxs)("div",{className:("dark"===o?"dark ":"")+"container-follow container",children:[(0,RC.jsx)("div",{className:"modal-follow-title",children:n?(0,RC.jsx)("b",{children:"Followers"}):(0,RC.jsx)("b",{children:"Following"})}),(0,RC.jsx)("div",{className:"modal-follow-body",children:r.map((function(e,t){return(0,RC.jsx)(hL,{user:e})}))})]})]})})}),document.getElementById("modal-follow-root"))};var vL=function(e){var n=e.open,r=e.resetEdit,i=e.children,a=e.state,o=(0,t.useContext)(AC).theme;return BC.createPortal((0,RC.jsx)(RC.Fragment,{children:!0===n&&(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)("span",{className:"close",onClick:r,children:(0,RC.jsx)("i",{class:"fa-regular fa-circle-xmark"})}),(0,RC.jsx)("div",{className:"back",children:(0,RC.jsx)("div",{className:"theme-container-modal "+("dark"===o?"dark ":" ")+(!0===a.isEditMenu||!0===a.isUpdateName||!0===a.isUpdateEmail?"container-modal-change small-modal":"container-modal-change large-modal")+(!0===a.isEditMenu?" edit-update":""),children:i})})]})}),document.getElementById("modal-change-root"))},mL={isOpenFollow:!1,isFollowerList:!1,followList:null},gL={isOpenEdit:!1,isState:{isEditMenu:!1,isUpdateName:!1,isUpdateProfilePic:!1,isUpdatePassword:!1,isUpdateEmail:!1}};function yL(e,t){switch(t.type){case"open":return{isOpenEdit:!0,isState:u(u({},gL.isState),{},{isEditMenu:!0})};case"name":return{isOpenEdit:!0,isState:u(u({},gL.isState),{},{isUpdateName:!0})};case"password":return{isOpenEdit:!0,isState:u(u({},gL.isState),{},{isUpdatePassword:!0})};case"email":return{isOpenEdit:!0,isState:u(u({},gL.isState),{},{isUpdateEmail:!0})};case"resetEditModal":return gL;default:return e}}function bL(e,t){switch(t.type){case"follow":return{isOpenFollow:!0,isFollowerList:!0,followList:t.payload};case"following":return{isOpenFollow:!0,isFollowerList:!1,followList:t.payload};case"reset":return mL;default:return e}}var kL=function(){var e=(0,t.useContext)(AC),n=(0,t.useState)([]),r=(0,c.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)(""),s=(0,c.Z)(o,2),l=s[0],f=s[1],d=(0,t.useState)(""),h=(0,c.Z)(d,2),p=h[0],v=h[1],m=(0,t.useState)(!1),g=(0,c.Z)(m,2),y=g[0],b=g[1],k=(0,t.useState)(0),w=(0,c.Z)(k,2),x=w[0],_=w[1],S=(0,t.useState)(null),I=(0,c.Z)(S,2),E=I[0],T=I[1],C=(0,t.useState)(""),N=(0,c.Z)(C,2),R=N[0],A=N[1],P=(0,t.useState)(0),O=(0,c.Z)(P,2),D=O[0],L=O[1],M=(0,t.useState)(0),j=(0,c.Z)(M,2),F=j[0],Z=j[1],U=(0,t.useState)(!1),V=(0,c.Z)(U,2),z=V[0],B=V[1],q=(0,t.useState)(null),W=(0,c.Z)(q,2),K=W[0],H=W[1],G=(0,t.useRef)(),Q=(0,t.useRef)(),$=(0,t.useRef)(),X=(0,t.useRef)(),Y=(0,t.useRef)(),J=(0,t.useRef)(),ee=(0,t.useRef)(),re=e.user;(0,t.useEffect)((function(){K&&oe()}),[K]);var ae=function(e){G.current.innerHTML=e,G.current.className="showSnackbar",setTimeout((function(){G.current.className=G.current.className.replace("showSnackbar","")}),3e3)},oe=function(){var t=ie(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!==K){t.next=4;break}return ye(),ae("Please upload a profile image"),t.abrupt("return");case 4:try{B(!0),n=TE(TC,"/users/".concat(e.user.docId,"/ProfileImage")),(r=_E(n,K)).on("state_changed",(function(){}),(function(e){B(!1),ye(),ae(e)}),(function(){EE(r.snapshot.ref).then((function(t){var n;n=t,US(c_(EC,"users",e.user.docId),{profileUrl:n}).then((function(){B(!1),ye()})).catch((function(e){B(!1),ye(),ae(e.message)}))}))}))}catch(i){B(!1),ye(),ae(i.message)}case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ue=(0,t.useReducer)(bL,mL),se=(0,c.Z)(ue,2),ce=se[0],le=se[1],fe=(0,t.useReducer)(yL,gL),de=(0,c.Z)(fe,2),he=de[0],pe=de[1],ve=function(){var e=ie(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=re.followers,n=[],r=dS(s_(EC,"users"),pS(I_(),"in",t)),e.next=5,jS(r);case 5:e.sent.forEach((function(e){var t=u(u({},e.data()),{},{docId:e.id});n.push(t)})),le({type:"follow",payload:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=ie(te().mark((function e(){var t,n,r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=re.following,n=[],r=dS(s_(EC,"users"),pS(I_(),"in",t)),e.next=5,jS(r);case 5:e.sent.forEach((function(e){var t=u(u({},e.data()),{},{docId:e.id});n.push(t)})),le({type:"following",payload:n});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ge=(0,t.useCallback)((function(){le({type:"reset"})}),[]),ye=(0,t.useCallback)((function(){pe({type:"resetEditModal"})}),[]),be=function(e,t){_(t),b(e)},ke=function(){document.getElementById("pb").style.display="none"};(0,t.useEffect)((function(){if(null!==e.user){var t=[];f(e.user.fullname);var n=zS(c_(EC,"users",e.user.docId),(function(e){L(e.data().followers.length),Z(e.data().following.length)})),r=e.user.fullname.split(" "),i="";r.forEach((function(e){i=i+e.toLowerCase()+"_"})),i+=e.user.email.length,T(i),v(e.user.profileUrl);var o=zS(dS(s_(EC,"posts"),pS("userId","==",e.user.docId),mS("createdAt","desc")),(function(e){t=[],e.forEach((function(e){var n=u(u({},e.data()),{},{postId:e.id});t.push(n)})),a(t)}));return function(){o(),n()}}}),[e.user]);var we=function(e){if(null===e)return A("Please upload a file"),void setTimeout((function(){A("")}),2e3);if(e.size/1048576>100)return A("Please select a file less than 100MB"),void setTimeout((function(){A("")}),2e3);document.getElementById("pb").style.display="block";var t=UC(),n=_E(TE(TC,"/users/".concat(t,"/").concat(e.name)),e);n.on("state_changed",(function(){}),(function(e){A(e),setTimeout((function(){A("")}),2e3),ke()}),(function(){EE(n.snapshot.ref).then((function(e){VS(s_(EC,"seenposts"),{postId:"",visitedUsers:[]}).then((function(n){var r={likes:[],comments:[],pId:t,pUrl:e,uName:re.fullname,uProfile:re.profileUrl,userId:re.docId,createdAt:mh.now(),seenpost:n.id};VS(s_(EC,"posts"),r).then(function(){var e=ie(te().mark((function e(t){var r;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[].concat((0,ne.Z)(re.postIds),[t.id]),e.next=3,US(c_(EC,"users",re.docId),{postIds:r});case 3:return e.next=5,US(c_(EC,"seenposts",n.id),{postId:t.id});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(){ke()})).catch((function(e){A(e.message),setTimeout((function(){A("")}),2e3),ke()}))}))}))}))};return(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)(PO,{handleClickProfile:function(){document.getElementById("upload-input").value="",document.getElementById("upload-input").click()}}),(0,RC.jsxs)(yN,{className:"profile-container",sx:{backgroundColor:"background.paper"},children:[(0,RC.jsxs)(yN,{container:!0,lg:12,className:"profile-details",children:[(0,RC.jsx)(yN,{item:!0,lg:3,className:"profile-image",children:(0,RC.jsx)("img",{src:p,alt:""})}),(0,RC.jsxs)(yN,{container:!0,lg:9,className:"profile-content-container",children:[(0,RC.jsxs)(yN,{container:!0,lg:12,className:"profile-content",children:[(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsx)(BO,{variant:"h5",sx:{fontWeight:"normal"},children:E})}),(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsx)(DD,{variant:"outlined",sx:{color:"text.primary",textTransform:"capitalize",padding:"1px 10px",borderColor:"text.secondary",fontSize:"12px"},onClick:function(){return pe({type:"open"})},children:"Edit Pofile"})}),(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsx)(VD,{})}),(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsx)(zD,{onClick:function(){e.setTheme("light"),e.signout()}})})]}),(0,RC.jsxs)(yN,{container:!0,lg:12,className:"profile-stats",children:[(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsxs)(BO,{variant:"h6",sx:{fontWeight:"normal",fontSize:"14px"},children:[(0,RC.jsx)(BO,{variant:"strong",sx:{fontWeight:"bold",fontSize:"14px"},children:i.length})," ","\xa0posts"]})}),(0,RC.jsx)(yN,{onClick:ve,item:!0,className:"followers",children:(0,RC.jsxs)(BO,{variant:"h6",sx:{fontWeight:"normal",fontSize:"14px"},children:[(0,RC.jsx)(BO,{variant:"strong",sx:{fontWeight:"bold",fontSize:"14px"},children:D})," ","\xa0followers"]})}),(0,RC.jsx)(yN,{onClick:me,item:!0,className:"following",children:(0,RC.jsxs)(BO,{variant:"h6",sx:{fontWeight:"normal",fontSize:"14px"},children:[(0,RC.jsx)(BO,{variant:"strong",sx:{fontWeight:"bold",fontSize:"14px"},children:F})," ","\xa0following"]})})]}),(0,RC.jsx)(yN,{container:!0,lg:12,className:"profile-stats",children:(0,RC.jsx)(BO,{variant:"h6",sx:{fontWeight:"bold",fontSize:"15px"},children:l})})]})]}),(0,RC.jsx)(yN,{item:!0,lg:12,className:"profile-posts",sx:{margin:"30px 0"},children:(0,RC.jsx)(UD,{})}),(0,RC.jsx)(dL,{id:"pb",className:"progressbar",color:"inherit",sx:{display:"none"}}),(0,RC.jsx)("input",{type:"file",accept:"video/*",id:"upload-input",onChange:function(e){return we(e.target.files[0])},style:{display:"none"}}),""!==R&&(0,RC.jsx)("div",{children:R}),(0,RC.jsxs)(yN,{container:!0,lg:12,className:"profile-posts",children:[i.map((function(e,t){return(0,RC.jsxs)(yN,{item:!0,lg:2.6,children:[(0,RC.jsx)("video",{onClick:function(){return be(!0,t)},src:e.pUrl,className:"profile-videos"}),(0,RC.jsx)(zC,{open:y,handleOpen:be,post:e,index:t,cIndex:x})]})})),0===(null===i||void 0===i?void 0:i.length)&&(0,RC.jsx)(RC.Fragment,{children:(0,RC.jsxs)("div",{className:("dark"===e.theme?"dark ":"")+"no-posts",children:[(0,RC.jsx)("div",{className:"inner",children:(0,RC.jsx)("img",{className:"display-image",src:KC,width:250,alt:"",srcset:""})}),(0,RC.jsx)("div",{className:"inner p",children:"No posts yet."})]})})]}),(0,RC.jsx)(pL,{isFollowerList:ce.isFollowerList,modalList:ce.followList,isOpen:ce.isOpenFollow,resetFollow:ge}),(0,RC.jsx)(vL,{open:he.isOpenEdit,resetEdit:ye,state:he.isState,children:(0,RC.jsxs)(RC.Fragment,{children:[he.isState.isEditMenu&&(0,RC.jsx)(RC.Fragment,{children:z?(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)("div",{className:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{class:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}),(0,RC.jsx)("b",{children:"Uploading..."})]}):(0,RC.jsxs)("div",{className:"edit-menu",children:[(0,RC.jsx)("p",{className:"edit-menu-item",onClick:function(){return pe({type:"name"})},children:"Change Name"}),(0,RC.jsx)("p",{className:"edit-menu-item",onClick:function(){return pe({type:"email"})},children:"Change Email"}),(0,RC.jsx)("p",{className:"edit-menu-item",onClick:function(){return pe({type:"password"})},children:"Change Password"}),(0,RC.jsx)("p",{className:"edit-menu-item",onClick:function(){document.getElementById("profile_image_edit").value="",document.getElementById("profile_image_edit").click()},children:"Change Profile Picture"}),(0,RC.jsx)("p",{className:"edit-menu-item cancel-item",onClick:ye,children:"Cancel"}),(0,RC.jsx)("input",{type:"file",accept:"image/png, image/jpeg",id:"profile_image_edit",style:{display:"none"},onChange:function(e){H(e.target.files[0])}})]})}),he.isState.isUpdateName&&(0,RC.jsx)(RC.Fragment,{children:z?(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{class:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}),(0,RC.jsx)("b",{children:"Updating..."})]}):(0,RC.jsxs)("div",{className:"update-name",children:[(0,RC.jsx)("div",{className:"modal-title update-name-title",children:(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"Name Updation"})})}),(0,RC.jsxs)("div",{className:"modal-content update-name-content",children:[(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"Please enter your new name."})}),(0,RC.jsx)("input",{type:"text",id:"changeName",ref:Q})]}),(0,RC.jsxs)("div",{className:"modal-footer update-name-footer",children:[(0,RC.jsx)("button",{className:"modal-footer-button",onClick:function(){if(""===Q.current.value||null===Q.current.value||void 0===Q.current.value)return G.current.innerHTML="Please enter a valid name!",G.current.className="showSnackbar",setTimeout((function(){G.current.className=G.current.className.replace("showSnackbar","")}),3e3),void ye();B(!0),US(c_(EC,"users",e.user.docId),{fullname:Q.current.value}).then((function(){B(!1),ye()})).catch((function(e){B(!1),ye(),G.current.innerHTML=e,G.current.className="showSnackbar",setTimeout((function(){G.current.className=G.current.className.replace("showSnackbar","")}),3e3)}))},children:"OK"}),(0,RC.jsx)("button",{className:"modal-footer-button",onClick:ye,children:"Cancel"})]})]})}),he.isState.isUpdateEmail&&(0,RC.jsx)(RC.Fragment,{children:z?(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{class:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}),(0,RC.jsx)("b",{children:"Updating..."})]}):(0,RC.jsxs)("div",{className:"update-name",children:[(0,RC.jsx)("div",{className:"modal-title update-email-title",children:(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"Email Updation"})})}),(0,RC.jsxs)("div",{className:"modal-content update-email-content",children:[(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"Please enter your new email."})}),(0,RC.jsx)("input",{type:"text",id:"changeName",ref:J}),(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"Please enter your password."})}),(0,RC.jsx)("input",{type:"password",id:"changeName",ref:ee})]}),(0,RC.jsxs)("div",{className:"modal-footer update-email-footer",children:[(0,RC.jsx)("button",{className:"modal-footer-button",onClick:function(){if(""===J.current.value||null===J.current.value||void 0===J.current.value||""===ee.current.value||null===ee.current.value||void 0===ee.current.value)ae("Enter proper values!");else{var t=Ts(),n=Mi.credential(t.currentUser.email,ee.current.value);B(!0);var r=J.current.value;pa(t.currentUser,n).then((function(){Va(t.currentUser,r)})).then((function(){US(c_(EC,"users",e.user.docId),{email:r})})).then((function(){B(!1),ye(),ae("Email Changed Successfully!")})).catch((function(e){B(!1),ye(),ae(e)}))}},children:"OK"}),(0,RC.jsx)("button",{className:"modal-footer-button",onClick:ye,children:"Cancel"})]})]})}),he.isState.isUpdatePassword&&(0,RC.jsx)(RC.Fragment,{children:z?(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{class:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}),(0,RC.jsx)("b",{children:"Updating..."})]}):(0,RC.jsxs)("div",{className:"update-password",children:[(0,RC.jsx)("div",{className:"modal-title update-password-title",children:(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"Password Updation"})})}),(0,RC.jsxs)("div",{className:"modal-content update-password-content",children:[(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"Old Password"})}),(0,RC.jsx)("input",{type:"password",id:"oldPassword",ref:$}),(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"New Password"})}),(0,RC.jsx)("input",{type:"password",id:"changePassword",ref:X}),(0,RC.jsx)("p",{children:(0,RC.jsx)("b",{children:"Confirm Password"})}),(0,RC.jsx)("input",{type:"password",id:"confirmPassword",ref:Y})]}),(0,RC.jsxs)("div",{className:"modal-footer update-password-footer",children:[(0,RC.jsx)("button",{className:"modal-footer-button",onClick:function(){if(X.current.value!==Y.current.value||""===X.current.value||null===X.current.value||void 0===X.current.value||""===$.current.value||null===$.current.value||void 0===$.current.value)ae("Enter proper values!");else{var e=Ts(),t=Mi.credential(e.currentUser.email,$.current.value);B(!0);var n=X.current.value;pa(e.currentUser,t).then((function(){za(e.currentUser,n)})).then((function(){B(!1),ye(),ae("Password Changed Successfully!")})).catch((function(e){B(!1),ye(),ae(e)}))}},children:"OK"}),(0,RC.jsx)("button",{className:"modal-footer-button",onClick:ye,children:"Cancel"})]})]})})]})}),(0,RC.jsx)("div",{id:"snackbar",ref:G})]})]})};var wL=function(){var e=t.useState(""),n=(0,c.Z)(e,2),r=n[0],i=n[1],a=t.useState(""),o=(0,c.Z)(a,2),u=o[0],s=o[1],l=t.useState(""),f=(0,c.Z)(l,2),d=f[0],h=f[1],p=(0,t.useContext)(AC),v=(0,t.useState)(!1),m=(0,c.Z)(v,2),g=m[0],y=m[1],b=(0,t.useState)(""),k=(0,c.Z)(b,2),w=k[0],x=k[1],_=(0,t.useState)(null),S=(0,c.Z)(_,2),I=S[0],E=S[1];function T(e,t){return C.apply(this,arguments)}function C(){return(C=ie(te().mark((function e(t,n){return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,VS(s_(EC,"users"),{email:r,userId:n,fullname:d,profileUrl:t,createdAt:CC.getTimeStamp,postIds:[],followers:[],following:[]});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(){var e=ie(te().mark((function e(){var t,n,i,a;return te().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==I){e.next=4;break}return x("Please upload a profile image"),setTimeout((function(){x("")}),2e3),e.abrupt("return");case 4:return e.prev=4,x(""),y(!0),e.next=9,Ca(IC,r,u);case 9:t=e.sent,n=t.user.uid,i=TE(TC,"/users/".concat(n,"/ProfileImage")),(a=_E(i,I)).on("state_changed",(function(e){e.bytesTransferred,e.totalBytes}),(function(e){x(e),setTimeout((function(){x("")}),2e3),y(!1)}),(function(){EE(a.snapshot.ref).then((function(e){T(e,n)}))})),e.next=22;break;case 16:e.prev=16,e.t0=e.catch(4),x(e.t0.message),console.log(w),p.setUser(null),setTimeout((function(){x("")}),2e3);case 22:y(!1);case 23:case"end":return e.stop()}}),e,null,[[4,16]])})));return function(){return e.apply(this,arguments)}}();return(0,RC.jsx)(RC.Fragment,{children:!0===g?(0,RC.jsx)("div",{class:"loader",children:(0,RC.jsx)("svg",{className:"circular",children:(0,RC.jsx)("circle",{class:"path",cx:"50",cy:"50",r:"0",fill:"none","stroke-width":"5",strokeMiterlimit:"10"})})}):(0,RC.jsxs)("div",{className:"parent-wrapper",children:[(0,RC.jsxs)("div",{className:"".concat(DO.containerLogin),children:[(0,RC.jsx)("img",{className:"login-image "+DO.loginImage,src:"https://www.instagram.com/static/images/web/logged_out_wordmark.png/7a252de00b20.png",alt:""}),(0,RC.jsx)("div",{className:"bold-text",children:"Sign up to see photos and videos from your friends."}),(0,RC.jsx)("div",{className:DO.error,children:""!==w&&(0,RC.jsx)("div",{className:"error",children:w})}),(0,RC.jsxs)("div",{className:DO.form,children:[(0,RC.jsx)("div",{className:DO.inputWrapper,children:(0,RC.jsx)("input",{type:"email",value:r,onChange:function(e){i(e.target.value)},placeholder:"Enter Email"})}),(0,RC.jsx)("div",{className:DO.inputWrapper,children:(0,RC.jsx)("input",{type:"password",value:u,onChange:function(e){s(e.target.value)},placeholder:"Enter Password"})}),(0,RC.jsx)("div",{className:DO.inputWrapper,children:(0,RC.jsx)("input",{type:"text",value:d,onChange:function(e){h(e.target.value)},placeholder:"Enter Full Name"})}),(0,RC.jsxs)("div",{className:DO.inputWrapper,children:[(0,RC.jsx)("input",{type:"file",accept:"image/png, image/jpeg",id:"input_image",className:"hidden",onChange:function(e){E(e.target.files[0])}}),(0,RC.jsx)("div",{className:"select",onClick:function(){document.getElementById("input_image").value="",document.getElementById("input_image").click()},children:"Select a file"})]}),(0,RC.jsxs)("p",{className:"small ".concat(DO.inputWrapper),children:["People who use our service may have uploaded your contact information to Instagram."," ",(0,RC.jsx)("b",{children:"Learn More"})]}),(0,RC.jsxs)("p",{className:"small ".concat(DO.inputWrapper),children:["By signing up, you agree to our Terms , ",(0,RC.jsx)("b",{children:"Data Policy"})," and ",(0,RC.jsx)("b",{children:"Cookies Policy"})," ."]}),(0,RC.jsx)("div",{className:DO.inputWrapper,children:(0,RC.jsx)("button",{onClick:N,children:"Sign Up"})})]})]}),(0,RC.jsx)("div",{className:DO.containerLogin+" "+DO.signUp,children:(0,RC.jsxs)("p",{children:["Have an account? ","\xa0"," ",(0,RC.jsx)(Y,{to:"/login",children:"Log in"})]})}),(0,RC.jsxs)("div",{class:"".concat(DO.containerLogin," ").concat(DO.signUp," ").concat(DO.badgeContainer),children:[(0,RC.jsx)("p",{children:"Get the app"}),(0,RC.jsxs)("div",{class:DO.badge,children:[(0,RC.jsx)("img",{src:"https://www.instagram.com/static/images/appstore-install-badges/badge_android_english-en.png/e9cd846dc748.png",alt:"android App"}),(0,RC.jsx)("img",{src:"https://www.instagram.com/static/images/appstore-install-badges/badge_ios_english-en.png/180ae7a0bcf7.png",alt:"ios app"})]})]})," ",(0,RC.jsx)("div",{class:DO.footerContainer,children:(0,RC.jsx)("ul",{children:["About Us","Support","Jobs","Privacy","Terms","Profiles","Languages"].map((function(e){return(0,RC.jsx)(RC.Fragment,{children:(0,RC.jsx)("li",{children:(0,RC.jsx)("a",{href:"#",children:e})})})}))})}),(0,RC.jsx)("div",{class:DO.footerContainer,children:(0,RC.jsx)("p",{children:"\xa9 2019 Complaints"})})]})})};var xL=function(){var e=(0,t.useContext)(AC),n=(e.visitedUser,(0,t.useState)(0)),r=(0,c.Z)(n,2),i=r[0],a=r[1],o=(0,t.useState)(0),s=(0,c.Z)(o,2),l=s[0],f=s[1],d=(0,t.useState)([]),h=(0,c.Z)(d,2),p=h[0],v=h[1],m=(0,t.useState)(""),g=(0,c.Z)(m,2),y=g[0],b=g[1],k=(0,t.useState)(""),x=(0,c.Z)(k,2),_=x[0],S=x[1],I=(0,t.useState)(!1),E=(0,c.Z)(I,2),T=E[0],C=E[1],N=(0,t.useState)(0),R=(0,c.Z)(N,2),A=R[0],P=R[1],O=(0,t.useState)(null),D=(0,c.Z)(O,2),L=D[0],M=D[1],j=(0,t.useRef)(),F=(0,t.useRef)(),Z=function(){var e=(0,t.useContext)(w).matches,n=e[e.length-1];return n?n.params:{}}().id,U=function(e,t){P(t),C(e)},V=function(){var t=ie(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=(0,ne.Z)(new Set([].concat((0,ne.Z)(e.user.following),[Z]))),t.next=3,US(c_(EC,"users",e.user.docId),{following:n});case 3:return r=(0,ne.Z)(new Set([].concat((0,ne.Z)(e.visitedUser.followers),[e.user.docId]))),t.next=6,US(c_(EC,"users",Z),{followers:r});case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=ie(te().mark((function t(){var n,r;return te().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.visitedUser.followers.filter((function(t){return t!==e.user.docId})),n=(0,ne.Z)(new Set(n)),t.next=4,US(c_(EC,"users",Z),{followers:n});case 4:return r=e.user.following.filter((function(e){return e!==Z})),r=(0,ne.Z)(new Set(r)),t.next=8,US(c_(EC,"users",e.user.docId),{following:r});case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,t.useEffect)((function(){if(null!==e.visitedUser){var t=[];b(e.visitedUser.fullname);var n=e.visitedUser.fullname.split(" "),r="";n.forEach((function(e){r=r+e.toLowerCase()+"_"})),r+=e.visitedUser.email.length,M(r),S(e.visitedUser.profileUrl);var i=zS(dS(s_(EC,"posts"),pS("userId","==",Z),mS("createdAt","desc")),(function(e){t=[],e.forEach((function(e){var n=u(u({},e.data()),{},{postId:e.id});t.push(n)})),v(t)}));return function(){i()}}}),[e.visitedUser]),(0,t.useEffect)((function(){var t=zS(c_(EC,"users",Z),(function(t){a(t.data().followers.length),f(t.data().following.length),t.data().followers.includes(e.user.docId)?(j.current.style.display="none",F.current.style.display="block"):(j.current.style.display="block",F.current.style.display="none")}));return function(){t()}}),[e.visitedUser]),(0,RC.jsxs)(RC.Fragment,{children:[(0,RC.jsx)(PO,{}),(0,RC.jsxs)(yN,{className:"profile-container",sx:{backgroundColor:"background.paper"},children:[(0,RC.jsxs)(yN,{container:!0,lg:12,className:"profile-details",children:[(0,RC.jsx)(yN,{item:!0,lg:3,className:"profile-image",children:(0,RC.jsx)("img",{src:_,alt:""})}),(0,RC.jsxs)(yN,{container:!0,lg:9,className:"profile-content-container",children:[(0,RC.jsxs)(yN,{container:!0,lg:12,className:"profile-content",children:[(0,RC.jsx)(yN,{style:{paddingRight:"0.5rem"},item:!0,children:(0,RC.jsx)(BO,{variant:"h5",sx:{fontWeight:"normal"},children:L})}),(0,RC.jsxs)(yN,{item:!0,children:[(0,RC.jsx)(DD,{ref:j,onClick:V,variant:"outlined",sx:{color:"white",textTransform:"capitalize",padding:"1px 10px",borderColor:"text.secondary",fontSize:"12px",backgroundColor:"#0095f6"},children:"Follow"}),(0,RC.jsx)(DD,{ref:F,onClick:z,variant:"outlined",sx:{color:"white",textTransform:"capitalize",padding:"1px 10px",borderColor:"text.secondary",fontSize:"12px",backgroundColor:"#0095f6"},children:"Following"})]})]}),(0,RC.jsxs)(yN,{container:!0,lg:12,className:"profile-stats",children:[(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsxs)(BO,{variant:"h6",sx:{fontWeight:"normal",fontSize:"14px"},children:[(0,RC.jsx)(BO,{variant:"strong",sx:{fontWeight:"bold",fontSize:"14px"},children:p.length})," ","\xa0posts"]})}),(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsxs)(BO,{variant:"h6",sx:{fontWeight:"normal",fontSize:"14px"},children:[(0,RC.jsx)(BO,{variant:"strong",sx:{fontWeight:"bold",fontSize:"14px"},children:i})," ","\xa0followers"]})}),(0,RC.jsx)(yN,{item:!0,children:(0,RC.jsxs)(BO,{variant:"h6",sx:{fontWeight:"normal",fontSize:"14px"},children:[(0,RC.jsx)(BO,{variant:"strong",sx:{fontWeight:"bold",fontSize:"14px"},children:l})," ","\xa0following"]})})]}),(0,RC.jsx)(yN,{container:!0,lg:12,className:"profile-stats",children:(0,RC.jsx)(BO,{variant:"h6",sx:{fontWeight:"bold",fontSize:"15px"},children:y})})]})]}),(0,RC.jsx)(yN,{item:!0,lg:12,className:"profile-posts",sx:{margin:"30px 0"},children:(0,RC.jsx)(UD,{})}),(0,RC.jsxs)(yN,{container:!0,lg:12,className:"profile-posts",children:[p.map((function(e,t){return(0,RC.jsxs)(yN,{item:!0,lg:2.6,children:[(0,RC.jsx)("video",{onClick:function(){return U(!0,t)},src:e.pUrl,className:"profile-videos"}),(0,RC.jsx)(zC,{open:T,handleOpen:U,post:e,index:t,cIndex:A})]})})),0===(null===p||void 0===p?void 0:p.length)&&(0,RC.jsx)(RC.Fragment,{children:(0,RC.jsxs)("div",{className:("dark"===e.theme?"dark ":"")+"no-posts",children:[(0,RC.jsx)("div",{className:"inner",children:(0,RC.jsx)("img",{className:"display-image",src:KC,width:250,alt:"",srcset:""})}),(0,RC.jsx)("div",{className:"inner p",children:"No posts yet."})]})})]})]})]})},_L=n(8023),SL=n(9598),IL="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__";var EL=function(e){var n=e.children,r=e.theme,i=(0,SL.Z)(),a=t.useMemo((function(){var e=null===i?r:function(e,t){return"function"===typeof t?t(e):(0,l.Z)({},e,t)}(i,r);return null!=e&&(e[IL]=null!==i),e}),[r,i]);return(0,RC.jsx)(_L.Z.Provider,{value:a,children:n})};function TL(e){var t=(0,iN.Z)();return(0,RC.jsx)(WN.T.Provider,{value:"object"===typeof t?t:{},children:e.children})}var CL=function(e){var t=e.children,n=e.theme;return(0,RC.jsx)(EL,{theme:n,children:(0,RC.jsx)(TL,{children:t})})},NL=n(7107),RL=(0,NL.Z)({palette:{background:{default:"#f6f6fa",paper:"#ffffff"},text:{primary:"#000000",secondary:"#989899"},primary:{main:"#007aff",contrastText:"#ffffff"},secondary:{main:"#ff9800",contrastText:"#ffffff"},success:{main:"#1b5e20",contrastText:"#ffffff"},error:{main:"#b71c1c",contrastText:"#ffffff"}}}),AL=(0,NL.Z)({palette:{background:{default:"#0a1720",paper:"#0f212f"},text:{primary:"#ffffff",secondary:"#fafafa"},primary:{main:"#007aff",contrastText:"#ffffff"},secondary:{main:"#ff9800",contrastText:"#ffffff"},success:{main:"#1b5e20",contrastText:"#ffffff"},error:{main:"#b71c1c",contrastText:"#ffffff"}}});function PL(e){var n=e.comp;return null!==(0,t.useContext)(AC).cUser?(0,RC.jsx)(n,u({},e)):(0,RC.jsx)(z,u(u({},e),{},{to:"/login"}))}function OL(e){var n=e.comp;return null===(0,t.useContext)(AC).cUser?(0,RC.jsx)(n,u({},e)):(0,RC.jsx)(z,u(u({},e),{},{to:"/feed"}))}var DL=function(){window.location.pathname;var e=(0,t.useContext)(AC).theme;return(0,RC.jsx)(X,{basename:"/reels-clone",children:(0,RC.jsx)(CL,{theme:"light"===e?RL:AL,children:(0,RC.jsx)(TA,{children:(0,RC.jsxs)(W,{children:[(0,RC.jsx)(B,{path:"/login",element:(0,RC.jsx)(OL,{comp:LO})}),(0,RC.jsx)(B,{path:"/feed",element:(0,RC.jsx)(PL,{comp:OO})}),(0,RC.jsx)(B,{path:"/profile/:id",element:(0,RC.jsx)(PL,{comp:kL})}),(0,RC.jsx)(B,{path:"/visit/:id",element:(0,RC.jsx)(PL,{comp:xL})}),(0,RC.jsx)(B,{path:"/signup",element:(0,RC.jsx)(OL,{comp:wL})}),(0,RC.jsx)(B,{path:"/",element:(0,RC.jsx)(z,{to:"/feed"})}),(0,RC.jsx)(B,{element:(0,RC.jsx)(MO,{})})]})})})})},LL=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};i.createRoot(document.getElementById("root")).render((0,RC.jsx)(PC,{children:(0,RC.jsx)(DL,{})})),LL()}()}();
//# sourceMappingURL=main.95eaa3c0.js.map